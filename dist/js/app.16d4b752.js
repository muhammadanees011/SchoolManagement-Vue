(function(e){function t(t){for(var l,s,n=t[0],r=t[1],i=t[2],m=0,b=[];m<n.length;m++)s=n[m],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&b.push(c[s][0]),c[s]=0;for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,i||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],l=!0,n=1;n<a.length;n++){var r=a[n];0!==c[r]&&(l=!1)}l&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var l={},c={app:0},o=[];function s(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=l,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(a,l,function(t){return e[t]}.bind(null,l));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],r=n.push.bind(n);n.push=t,n=n.slice();for(var i=0;i<n.length;i++)t(n[i]);var d=r;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03ac":function(e,t,a){},"05f9":function(e,t,a){},"08da":function(e,t,a){},"0947":function(e,t,a){"use strict";a("2516")},"0cd9":function(e,t,a){"use strict";a("835c")},1472:function(e,t,a){},1798:function(e,t,a){"use strict";a("03ac")},"190c":function(e,t,a){e.exports=a.p+"img/down-arrow-white.157f6258.svg"},"19b8":function(e,t,a){"use strict";a("a432")},"1b06":function(e,t,a){"use strict";a("d2a9")},"1bd4":function(e,t,a){"use strict";a("abf8")},"1ca5":function(e,t,a){},2516:function(e,t,a){},"254a":function(e,t,a){},"264c":function(e,t,a){e.exports=a.p+"img/mastercard.e1efc600.png"},"26be":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAsASURBVHic7d0xb1RnFoDh49FKoKzpY4mKjiJl5A5FiCqSBdT8ApfUG1GgbE3JL6DGCCnVCkXpUMoUdK6QnB6DTOUtxt4FAgQB9gje55GmuTNjn2q+d+7M3G/t8PBwPsTzK5tnZubyzFydmYszs3F0W/+gPwB8dv/8z+O1Vf7/rZ3rH/YCApyE/ZnZO7o9mZkHM/Po4bX7Lz/kyWt/FwDPr2xuzMytmbkxM+c+aVTgsxIAwBuezcy9mbn98Nr9vfc98J0B8PzK5tmZ+Wlmbs7MN597QuDTCQDgHV7MzJ2Z+fnhtfsHb3vA4m0Hn1/Z/HZmfp2Zf43FHwC+NN/Mcg3/dWvn+rdve8BfAuD5lc3vZub3mdk82dkAgBO2OTO/b+1c/+7NO14LgKN3/r/MzPlTGgwAOFnnZ+aXN88E/C8Ajj7z3xmLPwB8bc7PzM7WzvWzxwdePQPw0zjtDwBfq81ZrvUzcxQARz/1u7mqiQCAU3Fza+f6xsz/zwDcGt/2B4Cv3TezXPNncXSFvxurnQcAOCU3tnaun1nM8vK+rvAHAA3nZubyYpbX9gcAOq4uZrmxDwDQcXExyx39AICODQEAAD0bi5lZX/UUAMCpWn/rboAAwNdNAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIWjs8PFz1DADAKXMGAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAoH9cuLt/uOohgI+zu72+ttIBfjvr9QO+UM4AAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQtJiZ/VUPAQCcqv3FzOytegoA4FTtCQAA6NlbzMyTVU8BAJyqJ4uZebDqKQCAU/VgMTOPZubZqicBAE7Fs5l5tNjdXn85M/dWPQ0AcCruzaWDl8fXAbg9My9WOQ0AcOJezHLNX14IaHd7fW9m7qxyIgDgxN2ZSwd7M69fCfDnmXm8mnkAgBP2eJZr/cy8EgC72+sHM3NtZp6uYCgA4OQ8nZlrc+ng4PjAa3sB7G6v/zkzP44IAICvxdOZ+XEuHfz56sG/bAa0u73+x8x8Pz4OAIAv3eOZ+X4uHfzx5h1v3Q3w6EzADzPz7/HrAAD40ryY5Rr+w5vv/I+tHR4evvcvXLi7vzEzt2bmxsyc+9wTAh9vd3t9baUD/Hb2/S8gwGl7Nstr+9w+/rb/u/xtABy7cHf/zMxcnpmrM3NxZjaObuufNCrw0QQApO3PckO/vVnu6/NgZh7NpYOXH/Lk/wKQAq5eW3YI8AAAAABJRU5ErkJggg=="},"281f":function(e,t,a){e.exports=a.p+"img/logo-invision.43586d43.svg"},"28a7":function(e,t,a){"use strict";a("c0fc")},"29fe":function(e,t,a){"use strict";a("5ffb")},"2d39":function(e,t,a){e.exports=a.p+"img/kal-visuals-square.779cce2b.jpg"},"2e77":function(e,t,a){e.exports=a.p+"img/logo-spotify.4bb67532.svg"},"2f7f":function(e,t,a){"use strict";a("7ab2")},"350a":function(e,t,a){e.exports=a.p+"img/team-1.0e461794.jpg"},3666:function(e,t,a){},"367f":function(e,t,a){},"37f7":function(e,t,a){e.exports=a.p+"img/logo-atlassian.0569965a.svg"},"3def":function(e,t,a){},"3dfe":function(e,t,a){e.exports=a.p+"img/logo-jira.09288465.svg"},"40bd":function(e,t,a){e.exports=a.p+"img/bruce-mars.0c440467.jpg"},4678:function(e,t,a){var l={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function c(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}c.keys=function(){return Object.keys(l)},c.resolve=o,e.exports=c,c.id="4678"},"46d4":function(e,t,a){},4701:function(e,t,a){},4753:function(e,t,a){e.exports=a.p+"img/home-decor-2.249f600c.jpg"},"4df7":function(e,t,a){"use strict";a("5368")},"52d6":function(e,t,a){e.exports=a.p+"img/down-arrow-dark.601cff39.svg"},"532f":function(e,t,a){e.exports=a.p+"img/home-decor-3.2d98a7aa.jpg"},5368:function(e,t,a){},"539e":function(e,t,a){},"566d":function(e,t,a){"use strict";a("e978")},"56d7":function(e,t,a){"use strict";a.r(t);var l=a("7a23");const c={class:"main-content position-relative max-height-vh-100 h-100 overflow-x-hidden"};function o(e,t,a,o,s,n){const r=Object(l["resolveComponent"])("sidenav"),i=Object(l["resolveComponent"])("navbar"),d=Object(l["resolveComponent"])("router-view"),m=Object(l["resolveComponent"])("app-footer"),b=Object(l["resolveComponent"])("configurator"),u=Object(l["resolveComponent"])("vue3-snackbar");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[e.showSidenav?(Object(l["openBlock"])(),Object(l["createBlock"])(r,{key:0,custom_class:e.color,class:Object(l["normalizeClass"])([e.isRTL?"fixed-end":"fixed-start"])},null,8,["custom_class","class"])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("main",c,[e.showNavbar?(Object(l["openBlock"])(),Object(l["createBlock"])(i,{key:0,class:Object(l["normalizeClass"])([e.isNavFixed?e.navbarFixed:"",e.isAbsolute?e.absolute:""]),color:e.isAbsolute?"text-white opacity-8":"",minNav:e.navbarMinimize},null,8,["class","color","minNav"])):Object(l["createCommentVNode"])("",!0),Object(l["createVNode"])(d),Object(l["withDirectives"])(Object(l["createVNode"])(m,null,null,512),[[l["vShow"],e.showFooter]]),Object(l["createVNode"])(b,{toggle:e.toggleConfigurator,class:Object(l["normalizeClass"])([e.showConfig?"show":"",e.hideConfigButton?"d-none":""])},null,8,["toggle","class"])]),Object(l["createVNode"])(u,{top:"",right:"",duration:3e3})],64)}var s=a("7b9a"),n=a.n(s);const r={class:"sidenav-header"},i=Object(l["createElementVNode"])("i",{class:"top-0 p-3 cursor-pointer fas fa-times text-secondary opacity-5 position-absolute end-0 d-none d-xl-none","aria-hidden":"true",id:"iconSidenav"},null,-1),d={class:"m-0 navbar-brand",href:"/"},m=["src"],b=Object(l["createElementVNode"])("span",{class:"ms-2 font-weight-bold text-white"},"StudentPay Portal",-1),u={key:1,src:n.a,class:"navbar-brand-img h-100",alt:"main_logo"};function p(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("sidenav-list");return Object(l["openBlock"])(),Object(l["createElementBlock"])("aside",{id:"sidenav-main",class:Object(l["normalizeClass"])(["sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 ms-3",`${e.isRTL?"me-3 rotate-caret fixed-end":"fixed-start ms-3"} ${e.sidebarType}`])},[Object(l["createElementVNode"])("div",r,[i,Object(l["createElementVNode"])("a",d,["null"!==e.getBrandingSetting.logo?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("img",{src:o.StudentPayLogo,class:"navbar-brand-img h-100",alt:"main_logo"},null,8,m),b],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("img",u))])]),Object(l["createVNode"])(n)],2)}const O={class:"w-auto collapse navbar-collapse vh-100",id:"sidenav-collapse-main"},j={class:"navbar-nav"},h={class:"nav-item"},g=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1),f={key:0,class:"nav-item"},V=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"business",-1),E={key:1,class:"nav-item"},x=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"business",-1),N={key:2,class:"nav-item"},v=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"business",-1),y={key:0,class:"nav-item"},w=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"admin_panel_settings",-1),k={key:0,class:"nav-item"},A=Object(l["createElementVNode"])("a",{class:"nav-link text-white","data-bs-toggle":"collapse","aria-expanded":"false",href:"#schools"},[Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"people"),Object(l["createElementVNode"])("span",{class:"sidenav-normal me-3 ms-2 ps-1"},[Object(l["createTextVNode"])("Schools "),Object(l["createElementVNode"])("b",{class:"caret"})])],-1),S={id:"schools",class:"collapse"},B={class:"nav nav-sm flex-column"},C={class:"nav-item"},_=Object(l["createElementVNode"])("i",{class:"material-icons-round small-dot"},"fiber_manual_record",-1),D=Object(l["createElementVNode"])("span",{class:"sidenav-normal me-3 ms-3 ps-1 text-white"},"Schools List",-1),P={class:"nav-item"},I=Object(l["createElementVNode"])("i",{class:"material-icons-round small-dot"},"fiber_manual_record",-1),T=Object(l["createElementVNode"])("span",{class:"sidenav-normal me-3 ms-3 ps-1 text-white"},"Archived Schools",-1),z={key:1,class:"nav-item"},M=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"security",-1),F={key:0,class:"nav-item"},U=Object(l["createElementVNode"])("a",{class:"nav-link text-white","data-bs-toggle":"collapse","aria-expanded":"false",href:"#projectsExample"},[Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"people"),Object(l["createElementVNode"])("span",{class:"sidenav-normal me-3 ms-2 ps-1"},[Object(l["createTextVNode"])("Students "),Object(l["createElementVNode"])("b",{class:"caret"})])],-1),L={id:"projectsExample",class:"collapse"},q={class:"nav nav-sm flex-column"},R={class:"nav-item"},$=Object(l["createElementVNode"])("i",{class:"material-icons-round small-dot"},"fiber_manual_record",-1),Q=Object(l["createElementVNode"])("span",{class:"sidenav-normal me-3 ms-3 ps-1 text-white"},"Students List",-1),J={class:"nav-item"},H=Object(l["createElementVNode"])("i",{class:"material-icons-round small-dot"},"fiber_manual_record",-1),W=Object(l["createElementVNode"])("span",{class:"sidenav-normal me-3 ms-3 ps-1 text-white"},"Archived Students",-1),Z={key:1,class:"nav-item"},Y=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"apps",-1),K={key:0,class:"nav-item"},G=Object(l["createElementVNode"])("a",{class:"nav-link text-white","data-bs-toggle":"collapse","aria-expanded":"false",href:"#staffNav"},[Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"portrait"),Object(l["createElementVNode"])("span",{class:"sidenav-normal me-3 ms-2 ps-1"},[Object(l["createTextVNode"])("Staff "),Object(l["createElementVNode"])("b",{class:"caret"})])],-1),X={id:"staffNav",class:"collapse"},ee={class:"nav nav-sm flex-column"},te={class:"nav-item"},ae=Object(l["createElementVNode"])("i",{class:"material-icons-round small-dot"},"fiber_manual_record",-1),le=Object(l["createElementVNode"])("span",{class:"sidenav-normal me-3 ms-3 ps-1 text-white"},"Staff List",-1),ce={class:"nav-item"},oe=Object(l["createElementVNode"])("i",{class:"material-icons-round small-dot"},"fiber_manual_record",-1),se=Object(l["createElementVNode"])("span",{class:"sidenav-normal me-3 ms-3 ps-1 text-white"},"Archived Staff",-1),ne={key:1,class:"nav-item"},re=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"people",-1),ie={class:"nav-item"},de=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"business",-1),me={class:"nav-item"},be=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"business",-1),ue={key:0,class:"nav-item"},pe=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"directions_bus",-1),Oe={key:1,class:"nav-item"},je=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"directions_bus",-1),he={key:2,class:"nav-item"},ge=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"store",-1),fe={key:3,class:"nav-item"},Ve=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"store",-1),Ee={class:"nav-item"},xe=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"book",-1),Ne={key:9,class:"nav-item"},ve=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"receipt",-1),ye={key:10,class:"nav-item"},we=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"receipt",-1),ke={key:11,class:"nav-item"},Ae=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"support_agent",-1),Se={key:12,class:"nav-item"},Be=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5"},"support_agent",-1);function Ce(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("sidenav-collapse"),r=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",O,[Object(l["createElementVNode"])("ul",j,[Object(l["createElementVNode"])("li",h,[Object(l["createVNode"])(n,{to:{name:"Dashboard"},"aria-controls":"",collapse:!1,collapseRef:"dashboard",navText:"Dashboard"},{icon:Object(l["withCtx"])(()=>[g]),_:1})]),o.user&&"student"==o.user.role||"parent"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",f,[Object(l["createVNode"])(n,{to:{name:"payment_account"},"aria-controls":"",collapse:!1,collapseRef:"topup",navText:"Topup"},{icon:Object(l["withCtx"])(()=>[V]),_:1})])):Object(l["createCommentVNode"])("",!0),o.user&&"parent"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",E,[Object(l["createVNode"])(n,{to:{name:"list-childrens"},"aria-controls":"",collapse:!1,collapseRef:"childrens",navText:"My Childrens"},{icon:Object(l["withCtx"])(()=>[x]),_:1})])):Object(l["createCommentVNode"])("",!0),o.user&&"super_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",N,[Object(l["createVNode"])(n,{to:{name:"list-organizations"},"aria-controls":"",collapse:!1,collapseRef:"organizations",navText:"Organizations"},{icon:Object(l["withCtx"])(()=>[v]),_:1})])):Object(l["createCommentVNode"])("",!0),o.user&&"super_admin"==o.user.role||"organization_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:3},[s.userPermissions.view_admin?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",y,[Object(l["createVNode"])(n,{to:{name:"list-organization-admins"},"aria-controls":"",collapse:!1,collapseRef:"organization-admins",navText:"Organization Admins"},{icon:Object(l["withCtx"])(()=>[w]),_:1})])):Object(l["createCommentVNode"])("",!0)],64)):Object(l["createCommentVNode"])("",!0),o.user&&"super_admin"==o.user.role||"organization_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:4},[s.userPermissions.view_school?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",k,[A,Object(l["createElementVNode"])("div",S,[Object(l["createElementVNode"])("ul",B,[Object(l["createElementVNode"])("li",C,[Object(l["createVNode"])(r,{to:{name:"list-schools"},class:"nav-link"},{default:Object(l["withCtx"])(()=>[_,D]),_:1})]),Object(l["createElementVNode"])("li",P,[Object(l["createVNode"])(r,{to:{name:"archived-schools"},class:"nav-link"},{default:Object(l["withCtx"])(()=>[I,T]),_:1})])])])])):Object(l["createCommentVNode"])("",!0),s.userPermissions.roles?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",z,[Object(l["createVNode"])(n,{to:{name:"list-roles"},"aria-controls":"",collapse:!1,collapseRef:"roles",navText:"Roles & Permissions"},{icon:Object(l["withCtx"])(()=>[M]),_:1})])):Object(l["createCommentVNode"])("",!0)],64)):Object(l["createCommentVNode"])("",!0),o.user&&"staff"==o.user.role||"super_admin"==o.user.role||"organization_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:5},[s.userPermissions.view_student?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",F,[U,Object(l["createElementVNode"])("div",L,[Object(l["createElementVNode"])("ul",q,[Object(l["createElementVNode"])("li",R,[Object(l["createVNode"])(r,{to:{name:"list-students"},class:"nav-link"},{default:Object(l["withCtx"])(()=>[$,Q]),_:1})]),Object(l["createElementVNode"])("li",J,[Object(l["createVNode"])(r,{to:{name:"archived-students"},class:"nav-link"},{default:Object(l["withCtx"])(()=>[H,W]),_:1})])])])])):Object(l["createCommentVNode"])("",!0),s.userPermissions.view_attribute?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",Z,[Object(l["createVNode"])(n,{to:{name:"list-attributes"},"aria-controls":"",collapse:!1,collapseRef:"student-attributes",navText:"Attributes"},{icon:Object(l["withCtx"])(()=>[Y]),_:1})])):Object(l["createCommentVNode"])("",!0)],64)):Object(l["createCommentVNode"])("",!0),o.user&&"super_admin"==o.user.role||"organization_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:6},[s.userPermissions.view_staff?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",K,[G,Object(l["createElementVNode"])("div",X,[Object(l["createElementVNode"])("ul",ee,[Object(l["createElementVNode"])("li",te,[Object(l["createVNode"])(r,{to:{name:"list-staff"},class:"nav-link"},{default:Object(l["withCtx"])(()=>[ae,le]),_:1})]),Object(l["createElementVNode"])("li",ce,[Object(l["createVNode"])(r,{to:{name:"archived-staff"},class:"nav-link"},{default:Object(l["withCtx"])(()=>[oe,se]),_:1})])])])])):Object(l["createCommentVNode"])("",!0),s.userPermissions.view_parent?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",ne,[Object(l["createVNode"])(n,{to:{name:"list-parent"},"aria-controls":"",collapse:!1,collapseRef:"parents",navText:"Parents"},{icon:Object(l["withCtx"])(()=>[re]),_:1})])):Object(l["createCommentVNode"])("",!0)],64)):Object(l["createCommentVNode"])("",!0),o.user&&"parent"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:7},[Object(l["createElementVNode"])("li",ie,[Object(l["createVNode"])(n,{to:{name:"list-active-payments"},"aria-controls":"",collapse:!1,collapseRef:"active-payments",navText:"Active Payment Items"},{icon:Object(l["withCtx"])(()=>[de]),_:1})]),Object(l["createElementVNode"])("li",me,[Object(l["createVNode"])(n,{to:{name:"list-historical-payments"},"aria-controls":"",collapse:!1,collapseRef:"historical-payments",navText:"Historical Payment Items"},{icon:Object(l["withCtx"])(()=>[be]),_:1})])],64)):Object(l["createCommentVNode"])("",!0),o.user&&"parent"!==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:8},[s.userPermissions.view_trip?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",ue,[Object(l["createVNode"])(n,{to:{name:"list-trips"},"aria-controls":"",collapse:!1,collapseRef:"trips",navText:"Trips"},{icon:Object(l["withCtx"])(()=>[pe]),_:1})])):Object(l["createCommentVNode"])("",!0),o.user&&"student"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",Oe,[Object(l["createVNode"])(n,{to:{name:"list-trips"},"aria-controls":"",collapse:!1,collapseRef:"trips",navText:"Trips"},{icon:Object(l["withCtx"])(()=>[je]),_:1})])):Object(l["createCommentVNode"])("",!0),s.userPermissions.view_shop?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",he,[Object(l["createVNode"])(n,{to:{name:"shop-items"},"aria-controls":"",collapse:!1,collapseRef:"shop",navText:"Shop"},{icon:Object(l["withCtx"])(()=>[ge]),_:1})])):Object(l["createCommentVNode"])("",!0),o.user&&"student"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",fe,[Object(l["createVNode"])(n,{to:{name:"shop-items"},"aria-controls":"",collapse:!1,collapseRef:"shop",navText:"Shop"},{icon:Object(l["withCtx"])(()=>[Ve]),_:1})])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("li",Ee,[Object(l["createVNode"])(n,{to:{name:"list-courses"},"aria-controls":"",collapse:!1,collapseRef:"meals",navText:"Courses"},{icon:Object(l["withCtx"])(()=>[xe]),_:1})])],64)):Object(l["createCommentVNode"])("",!0),o.user&&"student"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",Ne,[Object(l["createVNode"])(n,{to:{name:"transaction-history"},"aria-controls":"",collapse:!1,collapseRef:"transaction history",navText:"Transaction History"},{icon:Object(l["withCtx"])(()=>[ve]),_:1})])):Object(l["createCommentVNode"])("",!0),s.userPermissions.transaction_history?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",ye,[Object(l["createVNode"])(n,{to:{name:"transaction-history"},"aria-controls":"",collapse:!1,collapseRef:"transaction history",navText:"Transaction History"},{icon:Object(l["withCtx"])(()=>[we]),_:1})])):Object(l["createCommentVNode"])("",!0),s.userPermissions.support?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",ke,[Object(l["createVNode"])(n,{url:"#","aria-controls":"",collapse:!1,collapseRef:"support",navText:"Support"},{icon:Object(l["withCtx"])(()=>[Ae]),_:1})])):Object(l["createCommentVNode"])("",!0),o.user&&"student"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",Se,[Object(l["createVNode"])(n,{url:"#","aria-controls":"",collapse:!1,collapseRef:"support",navText:"Support"},{icon:Object(l["withCtx"])(()=>[Be]),_:1})])):Object(l["createCommentVNode"])("",!0)])])}function _e(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createVNode"])(n,Object(l["mergeProps"])({"data-bs-toggle":a.collapse?"collapse":"",to:a.collapse?"#"+a.collapseRef:a.collapseRef,"aria-controls":a.collapseRef,"aria-expanded":o.isExpanded,class:["nav-link",s.getRoute()===a.collapseRef?"active bg-gradient-#573078":""]},e.$attrs,{onClick:t[0]||(t[0]=e=>o.isExpanded=!o.isExpanded)}),{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["text-center d-flex align-items-center justify-content-center",e.isRTL?" ms-2":"me-2"])},[Object(l["renderSlot"])(e.$slots,"icon")],2),Object(l["createElementVNode"])("span",{class:Object(l["normalizeClass"])(["nav-link-text",e.isRTL?" me-1":"ms-1"])},Object(l["toDisplayString"])(a.navText),3)]),_:3},16,["data-bs-toggle","to","aria-controls","aria-expanded","class"]),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(o.isExpanded?"collapse show":"collapse")},[Object(l["renderSlot"])(e.$slots,"list")],2)],64)}var De=a("5502"),Pe={name:"SidenavCollapse",props:{collapseRef:{type:String,required:!0},navText:{type:String,required:!0},collapse:{type:Boolean,default:!0}},data(){return{isExpanded:!1}},methods:{getRoute(){const e=this.$route.path.split("/");return e[1]}},computed:{...Object(De["e"])(["isRTL","color"])}},Ie=a("6b0d"),Te=a.n(Ie);const ze=Te()(Pe,[["render",_e]]);var Me=ze,Fe={name:"SidenavList",props:{cardBg:String},mounted(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e)),this.setActiveColor()},computed:{...Object(De["c"])(["getBrandingSetting"]),userPermissions(){return this.$permissions.userPermissions.value}},data(){return{user:"",title:"StudentPay",controls:"dashboardsExamples",isActive:"active"}},methods:{setActiveColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector(".sidenav-header").style.setProperty("--navheader-bg-color",e),document.querySelector(".navbar-nav").style.setProperty("--nav-bg-color",e),document.querySelector("#sidenav-collapse-main").style.setProperty("--nav-bg-color",e),e="#573078",document.querySelectorAll("thead tr th").forEach((function(t){t.style.setProperty("--nav-bg-color",e)}))},navLegacy(e){this.$router.push({name:e})},isActiveRoute(e){return this.$route.name===e}},components:{SidenavCollapse:Me}};a("1bd4");const Ue=Te()(Fe,[["render",Ce]]);var Le=Ue,qe=a("264c"),Re=a.n(qe),$e={name:"index",components:{SidenavList:Le},mounted(){this.setLogo()},data(){return{logo:Re.a,logoDark:Re.a,StudentPayLogo:""}},computed:{...Object(De["c"])(["getBrandingSetting"]),...Object(De["e"])(["isRTL","sidebarType","isDarkMode"])},methods:{setLogo(){this.StudentPayLogo="https://stagingapi.student-pay.co.uk"+this.getBrandingSetting.logo}}};const Qe=Te()($e,[["render",p]]);var Je=Qe;const He={class:"fixed-plugin"};function We(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",He)}function Ze(){const e=document.getElementsByTagName("body")[0],t=document.querySelectorAll("div:not(.sidenav) > hr"),a=document.querySelectorAll("div:not(.bg-gradient-dark) hr"),l=document.querySelectorAll("button:not(.btn) > .text-dark"),c=document.querySelectorAll("span.text-dark, .breadcrumb .text-dark"),o=document.querySelectorAll("strong.text-dark"),s=document.querySelectorAll("a.nav-link.text-dark"),n=document.querySelectorAll(".text-secondary"),r=document.querySelectorAll(".bg-gray-100"),i=document.querySelectorAll(".btn.btn-link.text-dark, .material-icons.text-dark"),d=document.querySelectorAll(".card.border"),m=document.querySelectorAll(".main-content .container-fluid .card"),b=document.querySelectorAll("g");e.classList.add("dark-version");for(var u=0;u<t.length;u++)t[u].classList.contains("dark")&&(t[u].classList.remove("dark"),t[u].classList.add("light"));for(u=0;u<m.length;u++)m[u].classList.contains("blur")&&m[u].classList.remove("blur","shadow-blur");for(u=0;u<a.length;u++)a[u].classList.contains("dark")&&(a[u].classList.remove("dark"),a[u].classList.add("light"));for(u=0;u<l.length;u++)l[u].classList.contains("text-dark")&&(l[u].classList.remove("text-dark"),l[u].classList.add("text-white"));for(u=0;u<c.length;u++)c[u].classList.contains("text-dark")&&(c[u].classList.remove("text-dark"),c[u].classList.add("text-white"));for(u=0;u<o.length;u++)o[u].classList.contains("text-dark")&&(o[u].classList.remove("text-dark"),o[u].classList.add("text-white"));for(u=0;u<s.length;u++)s[u].classList.contains("text-dark")&&(s[u].classList.remove("text-dark"),s[u].classList.add("text-white"));for(u=0;u<n.length;u++)n[u].classList.contains("text-secondary")&&(n[u].classList.remove("text-secondary"),n[u].classList.add("text-white"),n[u].classList.add("opacity-8"));for(u=0;u<r.length;u++)r[u].classList.contains("bg-gray-100")&&(r[u].classList.remove("bg-gray-100"),r[u].classList.add("bg-gray-600"));for(u=0;u<i.length;u++)i[u].classList.remove("text-dark"),i[u].classList.add("text-white");for(u=0;u<b.length;u++)b[u].hasAttribute("fill")&&b[u].setAttribute("fill","#fff");for(u=0;u<d.length;u++)d[u].classList.add("border-dark")}function Ye(){const e=document.getElementsByTagName("body")[0],t=document.querySelectorAll("div:not(.sidenav) > hr"),a=document.querySelectorAll("div:not(.bg-gradient-dark) hr"),l=document.querySelectorAll("button:not(.btn) > .text-dark"),c=document.querySelectorAll("span.text-white, .breadcrumb .text-white"),o=document.querySelectorAll("strong.text-white"),s=document.querySelectorAll("a.nav-link.text-white"),n=document.querySelectorAll(".text-secondary"),r=document.querySelectorAll(".bg-gray-600"),i=document.querySelectorAll(".btn.btn-link.text-white, .material-icons.text-white"),d=document.querySelectorAll(".card.border.border-dark"),m=document.querySelectorAll(".main-content .container-fluid .card"),b=document.querySelectorAll("g");e.classList.remove("dark-version"),e.classList.remove("dark-version");for(var u=0;u<t.length;u++)t[u].classList.contains("light")&&(t[u].classList.add("dark"),t[u].classList.remove("light"));for(u=0;u<a.length;u++)a[u].classList.contains("light")&&(a[u].classList.add("dark"),a[u].classList.remove("light"));for(u=0;u<m.length;u++)m[u].classList.add("blur","shadow-blur");for(u=0;u<l.length;u++)l[u].classList.contains("text-white")&&(l[u].classList.remove("text-white"),l[u].classList.add("text-dark"));for(u=0;u<c.length;u++)!c[u].classList.contains("text-white")||c[u].closest(".sidenav")||c[u].closest(".card.bg-gradient-dark")||(c[u].classList.remove("text-white"),c[u].classList.add("text-dark"));for(u=0;u<o.length;u++)o[u].classList.contains("text-white")&&(o[u].classList.remove("text-white"),o[u].classList.add("text-dark"));for(u=0;u<s.length;u++)s[u].classList.contains("text-white")&&!s[u].closest(".sidenav")&&(s[u].classList.remove("text-white"),s[u].classList.add("text-dark"));for(u=0;u<n.length;u++)n[u].classList.contains("text-white")&&(n[u].classList.remove("text-white"),n[u].classList.remove("opacity-8"),n[u].classList.add("text-dark"));for(u=0;u<r.length;u++)r[u].classList.contains("bg-gray-600")&&(r[u].classList.remove("bg-gray-600"),r[u].classList.add("bg-gray-100"));for(u=0;u<b.length;u++)b[u].hasAttribute("fill")&&b[u].setAttribute("fill","#252f40");for(u=0;u<i.length;u++)i[u].closest(".card.bg-gradient-dark")||(i[u].classList.remove("text-white"),i[u].classList.add("text-dark"));for(u=0;u<d.length;u++)d[u].classList.remove("border-dark")}var Ke={name:"configurator",props:["toggle"],methods:{...Object(De["d"])(["navbarMinimize","navbarFixed"]),...Object(De["b"])(["setColor"]),sidebarColor(e="success"){document.querySelector("#sidenav-main").setAttribute("data-color",e),this.setColor(e)},sidebar(e){this.$store.state.sidebarType=e},setNavbarFixed(){"Profile"===this.$route.name&&"All Projects"===this.$route.name||(this.$store.state.isNavFixed=!this.$store.state.isNavFixed)},darkMode(){if(this.$store.state.isDarkMode)return this.$store.state.isDarkMode=!1,void Ye();this.$store.state.isDarkMode=!0,Ze()},sidenavTypeOnResize(){let e=document.querySelector("#btn-transparent"),t=document.querySelector("#btn-white");window.innerWidth<1200?(e.classList.add("disabled"),t.classList.add("disabled")):(e.classList.remove("disabled"),t.classList.remove("disabled"))}},computed:{...Object(De["e"])(["isRTL","sidebarType"]),sidenavResponsive(){return this.sidenavTypeOnResize}},beforeMount(){this.$store.state.isTransparent="bg-transparent",window.addEventListener("resize",this.sidenavTypeOnResize),window.addEventListener("load",this.sidenavTypeOnResize)}};const Ge=Te()(Ke,[["render",We]]);var Xe=Ge,et=a("8202"),tt=a.n(et),at=a("2e77"),lt=a.n(at);const ct={class:"px-3 py-1 container-fluid"},ot={key:0,class:"organization-name mt-2 me-2"},st={key:1,class:"organization-name mt-2 me-2"},nt=Object(l["createElementVNode"])("h5",null,"Super Admin",-1),rt=[nt],it={key:0,class:"change-pass-alert"},dt={class:"pass-text"},mt=Object(l["createTextVNode"])("For security reasons, we kindly ask you to change your password, "),bt=Object(l["createElementVNode"])("span",{class:"click-link"},"click here",-1),ut=Object(l["createTextVNode"])(" to change the password"),pt={class:"navbar-nav justify-content-end"},Ot=Object(l["createElementVNode"])("i",{class:"material-icons cursor-pointer"},"shopping_cart",-1),jt=[Ot],ht={key:0,class:"text-white list-group-item bg-gray-100 border-0 d-flex p-4 mb-2 border-radius-lg"},gt={class:"d-flex flex-column"},ft={class:"mb-3 text-sm text-dark"},Vt=Object(l["createElementVNode"])("span",{class:"mb-1 text-xs text-dark"},null,-1),Et={class:"ms-auto text-end"},xt={class:"me-2 text-warning text-gradient text-sm font-weight-bold"},Nt=["onClick"],vt={key:0,class:"text-white list-group-item bg-gray-100 border-0 d-flex p-4 mb-2 border-radius-lg"},yt={class:"d-flex flex-column"},wt={class:"mb-3 text-sm text-dark"},kt=Object(l["createElementVNode"])("span",{class:"mb-1 text-xs text-dark"},null,-1),At={class:"ms-auto text-end"},St={class:"me-2 text-warning text-gradient text-sm font-weight-bold"},Bt=["onClick"],Ct={key:0,class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},_t={key:1,class:"list-group-item border-0 d-flex align-items-center justify-content-center p-4 mb-2 bg-warning-100 text-warning border-radius-lg"},Dt=Object(l["createElementVNode"])("small",null,"Cart is empty",-1),Pt=[Dt],It=Object(l["createElementVNode"])("i",{class:"material-icons cursor-pointer"}," account_circle ",-1),Tt=[It],zt={class:"menu_item mb-2"},Mt={class:"dropdown-item border-radius-md",href:"javascript:;"},Ft={class:"py-1 d-flex"},Ut={class:"d-flex flex-column justify-content-center"},Lt={class:"d-flex align-items-center"},qt=Object(l["createElementVNode"])("i",{class:"fas fa-user pb-0"},null,-1),Rt={class:"ms-1 pt-2 text-sm font-weight-normal"},$t={class:"font-weight-bold"},Qt={class:""},Jt={class:"menu_item mb-2"},Ht=Object(l["createElementVNode"])("a",{class:"dropdown-item border-radius-md",href:"javascript:;"},[Object(l["createElementVNode"])("div",{class:"py-1 d-flex"},[Object(l["createElementVNode"])("div",{class:"d-flex flex-column justify-content-center"},[Object(l["createElementVNode"])("span",{class:"d-flex  align-items-center"},[Object(l["createElementVNode"])("i",{class:"fas fa-wallet "}),Object(l["createElementVNode"])("h6",{class:"ms-1 pt-2 text-sm font-weight-normal"},[Object(l["createElementVNode"])("span",{class:"font-weight-bold"},"Wallet")])])])])],-1),Wt={class:"menu_item mb-2"},Zt=Object(l["createStaticVNode"])('<div class="py-1 d-flex"><div class="d-flex flex-column justify-content-center"><span class="d-flex align-items-center"><i class="fas fa-power-off pb-0"></i><h6 class="ms-1 pt-2 text-sm font-weight-normal"><span class="font-weight-bold">Logout</span></h6></span></div></div>',1),Yt=[Zt],Kt={class:"nav-item d-xl-none ps-3 d-flex align-items-center"},Gt=Object(l["createElementVNode"])("div",{class:"sidenav-toggler-inner"},[Object(l["createElementVNode"])("i",{class:"sidenav-toggler-line"}),Object(l["createElementVNode"])("i",{class:"sidenav-toggler-line"}),Object(l["createElementVNode"])("i",{class:"sidenav-toggler-line"})],-1),Xt=[Gt],ea=Object(l["createElementVNode"])("i",{class:"material-icons cursor-pointer"}," notifications ",-1),ta=[ea],aa=Object(l["createElementVNode"])("li",{class:"mb-2"},[Object(l["createElementVNode"])("a",{class:"dropdown-item border-radius-md",href:"javascript:;"},[Object(l["createElementVNode"])("div",{class:"py-1 d-flex"},[Object(l["createElementVNode"])("div",{class:"my-auto"},[Object(l["createElementVNode"])("img",{src:tt.a,class:"avatar avatar-sm me-3",alt:"user image"})]),Object(l["createElementVNode"])("div",{class:"d-flex flex-column justify-content-center"},[Object(l["createElementVNode"])("h6",{class:"mb-1 text-sm font-weight-normal"},[Object(l["createElementVNode"])("span",{class:"font-weight-bold"},"New message"),Object(l["createTextVNode"])(" from Laur ")]),Object(l["createElementVNode"])("p",{class:"mb-0 text-xs text-secondary"},[Object(l["createElementVNode"])("i",{class:"fa fa-clock me-1"}),Object(l["createTextVNode"])(" 13 minutes ago ")])])])])],-1),la=Object(l["createElementVNode"])("li",{class:"mb-2"},[Object(l["createElementVNode"])("a",{class:"dropdown-item border-radius-md",href:"javascript:;"},[Object(l["createElementVNode"])("div",{class:"py-1 d-flex"},[Object(l["createElementVNode"])("div",{class:"my-auto"},[Object(l["createElementVNode"])("img",{src:lt.a,class:"avatar avatar-sm bg-gradient-dark me-3",alt:"logo spotify"})]),Object(l["createElementVNode"])("div",{class:"d-flex flex-column justify-content-center"},[Object(l["createElementVNode"])("h6",{class:"mb-1 text-sm font-weight-normal"},[Object(l["createElementVNode"])("span",{class:"font-weight-bold"},"New album"),Object(l["createTextVNode"])(" by Travis Scott ")]),Object(l["createElementVNode"])("p",{class:"mb-0 text-xs text-secondary"},[Object(l["createElementVNode"])("i",{class:"fa fa-clock me-1"}),Object(l["createTextVNode"])(" 1 day ")])])])])],-1),ca=Object(l["createElementVNode"])("li",null,[Object(l["createElementVNode"])("a",{class:"dropdown-item border-radius-md",href:"javascript:;"},[Object(l["createElementVNode"])("div",{class:"py-1 d-flex"},[Object(l["createElementVNode"])("div",{class:"my-auto avatar avatar-sm bg-gradient-secondary me-3"},[Object(l["createElementVNode"])("svg",{width:"12px",height:"12px",viewBox:"0 0 43 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[Object(l["createElementVNode"])("title",null,"credit-card"),Object(l["createElementVNode"])("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[Object(l["createElementVNode"])("g",{transform:"translate(-2169.000000, -745.000000)",fill:"#FFFFFF","fill-rule":"nonzero"},[Object(l["createElementVNode"])("g",{transform:"translate(1716.000000, 291.000000)"},[Object(l["createElementVNode"])("g",{transform:"translate(453.000000, 454.000000)"},[Object(l["createElementVNode"])("path",{class:"color-background",d:"M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z",opacity:"0.593633743"}),Object(l["createElementVNode"])("path",{class:"color-background",d:"M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z"})])])])])])]),Object(l["createElementVNode"])("div",{class:"d-flex flex-column justify-content-center"},[Object(l["createElementVNode"])("h6",{class:"mb-1 text-sm font-weight-normal"}," Payment successfully completed "),Object(l["createElementVNode"])("p",{class:"mb-0 text-xs text-secondary"},[Object(l["createElementVNode"])("i",{class:"fa fa-clock me-1"}),Object(l["createTextVNode"])(" 2 days ")])])])])],-1),oa=[aa,la,ca];function sa(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("nav",Object(l["mergeProps"])({class:"shadow-none navbar navbar-main navbar-expand-lg border-radius-xl"},e.$attrs,{id:"navbarBlur","data-scroll":"true",class:e.isAbsolute?"mt-4":"mt-0"}),[Object(l["createElementVNode"])("div",ct,["super_admin"!=o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ot,[Object(l["createElementVNode"])("h5",null,Object(l["toDisplayString"])(o.organization_name),1)])):Object(l["createCommentVNode"])("",!0),"super_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",st,rt)):Object(l["createCommentVNode"])("",!0),"Profile"!=s.currentRouteName?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:2},[o.passwordStatus?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",it,[Object(l["createElementVNode"])("small",dt,[mt,Object(l["createVNode"])(n,{to:{name:"Profile"}},{default:Object(l["withCtx"])(()=>[bt]),_:1}),ut])]))],64)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["mt-2 collapse navbar-collapse mt-sm-0 me-md-0 me-sm-4",e.isRTL?"px-0":"me-sm-4"]),id:"navbar"},[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["pe-md-3 d-flex align-items-center",e.isRTL?"me-md-auto":"ms-md-auto"])},null,2),Object(l["createElementVNode"])("ul",pt,[Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["nav-item dropdown d-flex align-items-center",e.isRTL?"ps-2":"pe-2"])},[Object(l["createElementVNode"])("a",{onClick:t[0]||(t[0]=(...e)=>s.getCartItems&&s.getCartItems(...e)),href:"#",class:Object(l["normalizeClass"])(["p-0 nav-link lh-1",[a.color?a.color:"text-body",o.showCart?"show":""]]),id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},jt,2),Object(l["createElementVNode"])("ul",{class:Object(l["normalizeClass"])(["cart px-2 py-3 cart-dropdown dropdown-menu dropdown-menu-end me-sm-n4",o.showCart?"show":""]),"aria-labelledby":"dropdownMenuButton"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.cartItemsList,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:t},[null!==e.shop_item?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",ht,[Object(l["createElementVNode"])("div",gt,[Object(l["createElementVNode"])("h6",ft,Object(l["toDisplayString"])(e.shop_item?e.shop_item.name:"")+" (Shop Item)",1),Vt]),Object(l["createElementVNode"])("div",Et,[Object(l["createElementVNode"])("span",null,[Object(l["createElementVNode"])("span",xt," £"+Object(l["toDisplayString"])(s.formattedPrice(e.shop_item?e.shop_item.price:0)),1),Object(l["createElementVNode"])("i",{onClick:t=>s.removeItemFromCart(e.id),class:"fas fa-minus-circle text-danger me-2","aria-hidden":"true"},null,8,Nt)])])])):Object(l["createCommentVNode"])("",!0)],64))),128)),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.cartItemsList,(t,a)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:a},[null!==t.trip?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",vt,[Object(l["createElementVNode"])("div",yt,[Object(l["createElementVNode"])("h6",wt,Object(l["toDisplayString"])(t.trip?t.trip.title:"")+" (Trip)",1),kt]),Object(l["createElementVNode"])("div",At,[Object(l["createElementVNode"])("span",null,[Object(l["createElementVNode"])("span",St," £"+Object(l["toDisplayString"])(s.formattedPrice(t.trip?t.trip.budget:0)),1),Object(l["createElementVNode"])("i",{onClick:a=>(s.removeItemFromCart(t.id),e.updateRemovedItem("trip")),class:"fas fa-minus-circle text-danger me-2","aria-hidden":"true"},null,8,Bt)])])])):Object(l["createCommentVNode"])("",!0)],64))),128)),o.cartItemsList.length>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",Ct,[Object(l["createElementVNode"])("button",{onClick:t[1]||(t[1]=e=>s.navCheckout()),style:{"font-size":"12px","background-color":"#573078"},class:"me-3 trips-btn w-100 bg-gradient-grey shadow-grey text-white fw-5 p-2 border-radius-lg"}," Checkout ")])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",_t,Pt))],2)],2),Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["nav-item dropdown d-flex align-items-center",e.isRTL?"ps-2":"pe-2"])},[Object(l["createElementVNode"])("a",{href:"#",class:Object(l["normalizeClass"])(["p-0 nav-link lh-1",[a.color?a.color:"text-body",o.showMenu?"show":""]]),id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:t[2]||(t[2]=e=>o.showProfile=!o.showProfile)},Tt,2),Object(l["createElementVNode"])("ul",{class:Object(l["normalizeClass"])(["px-2 py-3 dropdown-menu dropdown-menu-end me-sm-n4",o.showMenu?"show":""]),"aria-labelledby":"dropdownMenuButton"},[Object(l["createElementVNode"])("li",zt,[Object(l["createVNode"])(n,{to:{name:"Profile"}},{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("a",Mt,[Object(l["createElementVNode"])("div",Ft,[Object(l["createElementVNode"])("div",Ut,[Object(l["createElementVNode"])("span",Lt,[qt,Object(l["createElementVNode"])("h6",Rt,[Object(l["createElementVNode"])("span",$t,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(o.user.first_name)+" "+Object(l["toDisplayString"])(o.user.last_name)+" ",1),Object(l["createElementVNode"])("small",Qt,"("+Object(l["toDisplayString"])(s.userRole)+")",1)])])])])])])]),_:1})]),Object(l["createElementVNode"])("li",Jt,[Object(l["createVNode"])(n,{to:{name:"balance"}},{default:Object(l["withCtx"])(()=>[Ht]),_:1})]),Object(l["createElementVNode"])("li",Wt,[Object(l["createElementVNode"])("a",{onClick:t[3]||(t[3]=(...e)=>s.signOut&&s.signOut(...e)),class:"dropdown-item border-radius-md",href:"javascript:;"},Yt)])],2)],2),Object(l["createElementVNode"])("li",Kt,[Object(l["createElementVNode"])("a",{href:"#",onClick:t[4]||(t[4]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e)),class:"p-0 nav-link text-body lh-1",id:"iconNavbarSidenav"},Xt)]),Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["nav-item dropdown d-flex align-items-center",e.isRTL?"ps-2":"pe-2"])},[Object(l["createElementVNode"])("a",{href:"#",class:Object(l["normalizeClass"])(["p-0 nav-link lh-1",[a.color?a.color:"text-body",o.showMenu?"show":""]]),id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:t[5]||(t[5]=e=>o.showMenu=!o.showMenu)},ta,2),Object(l["createElementVNode"])("ul",{class:Object(l["normalizeClass"])(["px-2 py-3 dropdown-menu dropdown-menu-end me-sm-n4",o.showMenu?"show":""]),"aria-labelledby":"dropdownMenuButton"},oa,2)],2)])],2)])],16)}var na=a("cee4");const ra=na["a"].create({baseURL:"https://stagingapi.student-pay.co.uk/api"});ra.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer "+t),e},e=>Promise.reject(e)),ra.interceptors.response.use(e=>{const t=e.headers["new-access-token"];return t&&localStorage.setItem("token",t),e},e=>Promise.reject(e));var ia=ra,da={name:"navbar",data(){return{branding_settings:{primary_color:"",secondary_color:"",logo:""},passwordStatus:"",cartItemsList:"",user:"",organization_name:"",showCart:!1,showMenu:!1,showProfile:!1}},props:["minNav","color"],created(){this.minNav},mounted(){this.getUser(),this.isUpdatedRecently(),this.getOrganizationName(),this.getUserRolePermissions()},methods:{...Object(De["b"])(["updateRemovedItem","updatePermissions"]),...Object(De["d"])(["navbarMinimize","toggleConfigurator"]),toggleSidebar(){this.navbarMinimize()},getUser(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))},async getUserPermissions(){let e=this.user.id;try{let t=await ia.get("getUserPermissions/"+e);t=t.data,this.formattPermissions(t)}catch(t){console.log(t)}},async getUserRolePermissions(){let e=this.user.id;try{let t=await ia.get("getUserRolePermissions/"+e);t=t.data,this.restructurePermissions(t)}catch(t){console.log(t)}},formattPermissions(e){let t=[];e.filter(e=>{t.push(e.permission_name)}),this.updatePermissions(t)},restructurePermissions(e){let t=[];e.filter(e=>{t.push(e.name)}),this.updatePermissions(t)},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},isUpdatedRecently(){let e=localStorage.getItem("user");e=JSON.parse(e);const t=new Date(e.created_at),a=new Date(e.updated_at);this.passwordStatus=a>t},async signOut(){try{localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("primary_color"),localStorage.removeItem("secondary_color"),localStorage.removeItem("logo"),this.$router.push({name:"SignIn"}),await ia.post("/logout",localStorage.getItem("token"))}catch(e){console.log(e)}},async getOrganizationName(){if("super_admin"==this.user.role)return;let e={user_id:this.user.id,role:this.user.role};try{const t=await ia.post("/getOrganizationName",e);this.organization_name=t.data.organization_name}catch(t){console.log(t)}},async getCartItems(){if(this.showCart=!this.showCart,0!=this.showCart)try{const e=await ia.get("/getUserCartItems");this.cartItemsList=e.data}catch(e){console.log(e)}},async removeItemFromCart(e){this.showCart=!0;let t={item_id:e};try{await ia.post("/removeItemFromCart",t),this.removeItemFromList(e)}catch(a){console.log(a)}},removeItemFromList(e){const t=this.cartItemsList.findIndex(t=>t.id===e);this.cartItemsList.splice(t,1),this.snackbarMsg("Item Removed Successfully")},navCheckout(){this.$router.push({name:"cart-checkout"})}},components:{},computed:{...Object(De["e"])(["isRTL","isAbsolute"]),currentRouteName(){return this.$route.name},userRole(){return"super_admin"==this.user.role?"Admin":"school_user"==this.user.role?"School":this.user.role}}};a("58ef");const ma=Te()(da,[["render",sa]]);var ba=ma;const ua={class:"py-3 footer"};function pa(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("footer",ua)}var Oa={name:"app-footer"};const ja=Te()(Oa,[["render",pa]]);var ha=ja,ga={name:"App",components:{Sidenav:Je,Configurator:Xe,Navbar:ba,AppFooter:ha},methods:{...Object(De["d"])(["toggleConfigurator","navbarMinimize"])},computed:{...Object(De["e"])(["isRTL","color","isAbsolute","isNavFixed","navbarFixed","absolute","showSidenav","showNavbar","showFooter","showConfig","hideConfigButton"])},beforeMount(){this.$store.state.isTransparent="bg-transparent";const e=document.getElementsByClassName("g-sidenav-show")[0];window.innerWidth>1200&&e.classList.add("g-sidenav-pinned")}};const fa=Te()(ga,[["render",o]]);var Va=fa,Ea=a("c0e2"),xa=a.n(Ea);const Na={user:localStorage.getItem("user"),accessToken:localStorage.getItem("token"),userPermissions:[]},va={getPermissions(e){return e.userPermissions}},ya={setPermissions(e,t){e.userPermissions=t}},wa={updatePermissions({commit:e},t){e("setPermissions",t)}};var ka={state:Na,mutations:ya,actions:wa,getters:va};const Aa={organizationList:null},Sa={getOrganizationList(e){return e.organizationList}},Ba={setOrganizationList(e,t){e.organizationList=t}},Ca={updateOrganizationList({commit:e},t){e("setOrganizationList",t)}};var _a={state:Aa,mutations:Ba,actions:Ca,getters:Sa};const Da={removedItem:null},Pa={getRemovedItem(e){return e.removedItem}},Ia={setRemovedItem(e,t){e.removedItem=t}},Ta={updateRemovedItem({commit:e},t){e("setRemovedItem",t)}};var za={state:Da,mutations:Ia,actions:Ta,getters:Pa};const Ma={brandingSetting:{primary_color:localStorage.getItem("primary_color"),secondary_color:localStorage.getItem("secondary_color"),logo:localStorage.getItem("logo")}},Fa={getBrandingSetting(e){return e.brandingSetting}},Ua={setBrandingSetting(e,t){e.brandingSetting=t}},La={updateBrandingSetting({commit:e},t){e("setBrandingSetting",t)}};var qa={state:Ma,mutations:Ua,actions:La,getters:Fa},Ra=Object(De["a"])({modules:{auth:ka,organization:_a,cart:za,settings:qa},state:{hideConfigButton:!1,isPinned:!0,showConfig:!1,sidebarType:"bg-gradient-dark",isRTL:!1,color:"success",isNavFixed:!1,isAbsolute:!1,showNavs:!0,showSidenav:!0,showNavbar:!0,showFooter:!0,showMain:!0,isDarkMode:!1,navbarFixed:"position-sticky blur shadow-blur left-auto top-1 z-index-sticky px-0 mx-4",absolute:"position-absolute px-4 mx-0 w-100 z-index-2"},mutations:{toggleConfigurator(e){e.showConfig=!e.showConfig},navbarMinimize(e){const t=document.querySelector(".g-sidenav-show");t.classList.contains("g-sidenav-pinned")?(t.classList.remove("g-sidenav-pinned"),e.isPinned=!0):(t.classList.add("g-sidenav-pinned"),e.isPinned=!1)},navbarFixed(e){!1===e.isNavFixed?e.isNavFixed=!0:e.isNavFixed=!1},toggleEveryDisplay(e){e.showNavbar=!e.showNavbar,e.showSidenav=!e.showSidenav,e.showFooter=!e.showFooter},toggleHideConfig(e){e.hideConfigButton=!e.hideConfigButton},color(e,t){e.color=t}},actions:{setColor({commit:e},t){e("color",t)},test({commit:e},t){alert("TestHello"),e("color",t)}},getters:{}}),$a=a("6c02"),Qa=a("bbe0"),Ja=a.n(Qa);const Ha={class:"py-4 container-fluid"},Wa={class:"row mb-4"},Za={class:"col-lg-12 position-relative z-index-2"},Ya={class:"row"},Ka={class:"col-lg-3 col-md-6 col-sm-6"},Ga={class:"col-lg-3 col-md-6 col-sm-6 mt-lg-0 mt-4"},Xa={class:"col-lg-3 col-md-6 col-sm-6 mt-lg-0 mt-4"},el={class:"col-lg-3 col-md-6 col-sm-6"},tl={class:"col-lg-3 col-md-6 col-sm-6 mt-lg-0 mt-4"},al={class:"col-lg-3 col-md-6 col-sm-6 mt-lg-0 mt-4"},ll={class:"col-lg-3 col-md-6 col-sm-6 mt-lg-0 mt-4"},cl=Object(l["createElementVNode"])("div",{class:"row mt-4"},[Object(l["createElementVNode"])("div",{class:"col-lg-12 col-md-12 col-sm-12"},[Object(l["createElementVNode"])("img",{src:Ja.a,style:{width:"100%",height:"95%","border-radius":"20px","box-shadow":"0px 0px 2px #CCCCCC"}})])],-1);function ol(e,t,a,c,o,s){var n,r,i;const d=Object(l["resolveComponent"])("mini-statistics-card");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Ha,[Object(l["createElementVNode"])("div",Wa,[Object(l["createElementVNode"])("div",Za,[Object(l["createElementVNode"])("div",Ya,["student"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("div",Ka,[Object(l["createVNode"])(d,{title:{text:"Current Balance",value:"£"+s.formattedPrice(null!==(n=o.studentHistory.current_balance)&&void 0!==n?n:0)},detail:"Current Balance",icon:{name:"credit_card",color:"text-white",background:"dark"}},null,8,["title"])]),Object(l["createElementVNode"])("div",Ga,[Object(l["createVNode"])(d,{title:{text:"Monthly Transactions",value:"£"+s.formattedPrice(null!==(r=o.studentHistory.last_month)&&void 0!==r?r:0)},detail:"This Month Transactions",icon:{name:"leaderboard",color:"text-white",background:"primary"}},null,8,["title"])]),Object(l["createElementVNode"])("div",Xa,[Object(l["createVNode"])(d,{title:{text:"Weekly Transactions",value:"£"+s.formattedPrice(null!==(i=o.studentHistory.last_week)&&void 0!==i?i:0)},detail:"This Week Transactions",icon:{name:"person",color:"text-white",background:"success"}},null,8,["title"])])],64)):Object(l["createCommentVNode"])("",!0),"super_admin"==o.user.role||"organization_admin"==o.user.role||"staff"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("div",el,[Object(l["createVNode"])(d,{title:{text:s.isAdmin?"Total Figures":"Total Balance",value:"£"+s.formattedPrice(o.userBallance?o.userBallance:0)},detail:s.isAdmin?"Total Figures":"Total Balance",icon:{name:"credit_card",color:"text-white",background:"dark"}},null,8,["title","detail"])]),Object(l["createElementVNode"])("div",tl,[Object(l["createVNode"])(d,{title:{text:"Total Schools",value:o.totalSchool?o.totalSchool:0},detail:"Total Schools",icon:{name:"leaderboard",color:"text-white",background:"primary"}},null,8,["title"])]),Object(l["createElementVNode"])("div",al,[Object(l["createVNode"])(d,{title:{text:"Total Students",value:o.totalStudents?o.totalStudents:0},detail:"Total Students",icon:{name:"person",color:"text-white",background:"success"}},null,8,["title"])])],64)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",ll,[Object(l["createVNode"])(d,{title:{text:"Transactions",value:"£"+s.formattedPrice(o.totalTransactions?o.totalTransactions:0)},detail:"Total Transactions",icon:{name:"weekend",color:"text-white",background:"info"}},null,8,["title"])])]),cl])])])}const sl={class:"card-header p-3 pt-2"},nl={class:"text-sm mb-0 text-capitalize"},rl={class:"mb-0"},il=Object(l["createElementVNode"])("hr",{class:"dark horizontal my-0"},null,-1),dl=["innerHTML"];function ml(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:Object(l["normalizeClass"])(["card mb-2",a.directionReverse?o.reverseDirection:""])},[Object(l["createElementVNode"])("div",sl,[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["icon icon-lg icon-shape shadow text-center border-radius-xl mt-n4 position-absolute",`bg-gradient-${a.icon.background} shadow-${a.icon.background}`])},[Object(l["createElementVNode"])("i",{class:Object(l["normalizeClass"])(["material-icons opacity-10",a.icon.color]),"aria-hidden":"true"},Object(l["toDisplayString"])(a.icon.name),3)],2),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["pt-1",e.isRTL?"text-start":"text-end"])},[Object(l["createElementVNode"])("p",nl,Object(l["toDisplayString"])(a.title.text),1),Object(l["createElementVNode"])("h4",rl,Object(l["toDisplayString"])(a.title.value),1)],2)]),il,Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["card-footer p-3",e.isRTL?"text-start":"text-end"])},[Object(l["createElementVNode"])("p",{class:"mb-0",innerHTML:a.detail},null,8,dl)],2)],2)}var bl={name:"MiniStatisticsCard",data(){return{reverseDirection:"flex-row-reverse justify-content-between"}},props:{title:{type:Object,required:!0,text:String,value:[Number,String]},detail:{type:String,default:""},icon:{type:Object,required:!0,name:String,color:String,background:String,default:()=>({color:"text-white",background:"success"})},directionReverse:{type:Boolean,default:!1}},computed:{...Object(De["e"])(["isRTL"])}};const ul=Te()(bl,[["render",ml]]);var pl=ul,Ol=a("b8de"),jl=a.n(Ol),hl=a("37f7"),gl=a.n(hl),fl=a("b107"),Vl=a.n(fl),El=a("3dfe"),xl=a.n(El),Nl=a("281f"),vl=a.n(Nl),yl=a("350a"),wl=a.n(yl),kl=a("c7c0"),Al=a.n(kl),Sl=a("f35e"),Bl=a.n(Sl),Cl={name:"dashboard-default",data(){return{studentHistory:"",totalTransactions:"",totalSchool:"",totalStudents:"",user:"",userBallance:"",logoXD:jl.a,team1:wl.a,team2:tt.a,team3:Al.a,team4:Bl.a,logoAtlassian:gl.a,logoSlack:Vl.a,logoSpotify:lt.a,logoJira:xl.a,logoInvision:vl.a}},mounted(){this.getUser(),this.getStudentBalance(),this.getTotalSchools(),this.getTotalStudents(),this.getTotalTransactions(),this.getStudentHistory()},computed:{isAdmin(){return"organization_admin"===this.user.role||"super_admin"===this.user.role}},methods:{formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async getStudentBalance(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e;try{let t=await ia.get("/getStudentBalance/"+e.id);t=t.data,this.userBallance=t}catch(t){console.log(t)}},async getStudentHistory(){if("student"==this.user.role)try{let e=await ia.get("/studentDashboard");e=e.data,this.studentHistory=e}catch(e){console.log(e)}},async getTotalSchools(){try{let e=await ia.get("/totalSchools");e=e.data,this.totalSchool=e}catch(e){console.log(e)}},async getTotalStudents(){try{let e=await ia.get("/getTotalStudents");e=e.data,this.totalStudents=e}catch(e){console.log(e)}},async getTotalTransactions(){try{let e=await ia.get("/getTotalTransactions");e=e.data,this.totalTransactions=e}catch(e){console.log(e)}}},components:{MiniStatisticsCard:pl}};const _l=Te()(Cl,[["render",ol]]);var Dl=_l,Pl=a("40bd"),Il=a.n(Pl);const Tl={class:"container-fluid"},zl=Object(l["createElementVNode"])("div",{class:"page-header min-height-300 border-radius-xl mt-4",style:{"background-image":"url('https://images.unsplash.com/photo-1531512073830-ba890ca4eba2?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80')"}},[Object(l["createElementVNode"])("span",{class:"mask bg-gradient-success opacity-6"})],-1),Ml={class:"card card-body mx-3 mx-md-4 mt-n6"},Fl={class:"row gx-4"},Ul=Object(l["createElementVNode"])("div",{class:"col-auto"},[Object(l["createElementVNode"])("div",{class:"avatar avatar-xl position-relative"},[Object(l["createElementVNode"])("img",{src:Il.a,alt:"profile_image",class:"shadow-sm w-100 border-radius-lg"})])],-1),Ll={class:"col-auto my-auto"},ql={class:"h-100"},Rl={class:"mb-1"},$l={class:"d-flex"},Ql={class:"mb-0 font-weight-normal text-sm"},Jl={class:"d-flex"},Hl={class:"text-xs"},Wl=Object(l["createElementVNode"])("div",{class:"mx-auto mt-3 col-lg-4 col-md-6 my-sm-auto ms-sm-auto me-sm-0"},[Object(l["createElementVNode"])("div",{class:"nav-wrapper position-relative end-0"})],-1),Zl={class:"row"},Yl={class:"mt-3 row"},Kl={class:"col-12 col-md-6 col-xl-6 position-relative"},Gl={class:"card card-plain h-100"},Xl=Object(l["createElementVNode"])("div",{class:"p-3 pb-0 card-header"},[Object(l["createElementVNode"])("h6",{class:"mb-0"},"Profile Settings")],-1),ec={class:"p-3 card-body"},tc={class:"list-group"},ac={class:"px-0 mb-2 border-0 list-group-item d-flex align-items-center"},lc={class:"col-md-5 mx-auto bg-white new-pass p-2"},cc=Object(l["createElementVNode"])("label",null,"First Name",-1),oc={key:0,class:"err-txt text-danger error-txt"},sc=Object(l["createElementVNode"])("br",null,null,-1),nc=Object(l["createElementVNode"])("label",null,"Last Name",-1),rc={key:1,class:"err-txt text-danger error-txt"},ic=Object(l["createElementVNode"])("br",null,null,-1),dc=Object(l["createElementVNode"])("label",null,"Email",-1),mc={key:2,class:"err-txt text-danger error-txt"},bc=Object(l["createElementVNode"])("br",null,null,-1),uc=Object(l["createElementVNode"])("hr",{class:"vertical dark"},null,-1),pc={class:"mt-4 col-12 col-xl-6 mt-xl-0"},Oc={class:"card card-plain h-100"},jc=Object(l["createElementVNode"])("div",{class:"p-3 pb-0 card-header"},[Object(l["createElementVNode"])("h6",{class:"mb-0"},"Change Password")],-1),hc={class:"p-3 card-body"},gc={class:"list-group"},fc={class:"px-0 mb-2 border-0 list-group-item d-flex align-items-center"},Vc={class:"col-md-5 mx-auto bg-white new-pass p-2"},Ec=Object(l["createElementVNode"])("label",null,"Old Password",-1),xc={key:0,class:"err-txt text-danger error-txt"},Nc=Object(l["createElementVNode"])("br",null,null,-1),vc=Object(l["createElementVNode"])("label",null,"New Password",-1),yc={key:1,class:"err-txt text-danger error-txt"},wc=Object(l["createElementVNode"])("br",null,null,-1),kc=Object(l["createElementVNode"])("label",null,"Confirm New Password",-1),Ac={key:2,class:"err-txt text-danger error-txt"},Sc=Object(l["createElementVNode"])("br",null,null,-1);function Bc(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Tl,[zl,Object(l["createElementVNode"])("div",Ml,[Object(l["createElementVNode"])("div",Fl,[Ul,Object(l["createElementVNode"])("div",Ll,[Object(l["createElementVNode"])("div",ql,[Object(l["createElementVNode"])("h5",Rl,Object(l["toDisplayString"])(o.user.first_name)+" "+Object(l["toDisplayString"])(o.user.last_name),1),Object(l["createElementVNode"])("span",$l,[Object(l["createElementVNode"])("p",Ql,"Role: "+Object(l["toDisplayString"])(o.user.role),1)]),Object(l["createElementVNode"])("span",Jl,[Object(l["createElementVNode"])("small",Hl,"Email: "+Object(l["toDisplayString"])(o.user.email?o.user.email:"-"),1)])])]),Wl]),Object(l["createElementVNode"])("div",Zl,[Object(l["createElementVNode"])("div",Yl,[Object(l["createElementVNode"])("div",Kl,[Object(l["createElementVNode"])("div",Gl,[Xl,Object(l["createElementVNode"])("div",ec,[Object(l["createElementVNode"])("ul",tc,[Object(l["createElementVNode"])("li",ac,[Object(l["createElementVNode"])("div",lc,[cc,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.updateData.first_name=e),id:"card-holder-name",type:"text",class:"bg-white w-100  mb-2"},null,512),[[l["vModelText"],o.updateData.first_name]]),""!==o.formValidation&&""!==o.formValidation["first_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",oc,"First Name is required")):Object(l["createCommentVNode"])("",!0),sc,nc,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.updateData.last_name=e),id:"card-holder-name",type:"text",class:"bg-white w-100  mb-2"},null,512),[[l["vModelText"],o.updateData.last_name]]),""!==o.formValidation&&""!==o.formValidation["last_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",rc,"Last Name is required")):Object(l["createCommentVNode"])("",!0),ic,dc,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.updateData.email=e),id:"card-holder-name",type:"email",class:"bg-white w-100  mb-2"},null,512),[[l["vModelText"],o.updateData.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",mc,"Email is required")):Object(l["createCommentVNode"])("",!0),bc,Object(l["createElementVNode"])("button",{onClick:t[3]||(t[3]=e=>s.updateSettings()),style:{"font-size":"12px","background-color":"#573078"},class:"save-pass-btn p-2 mb-3 trips-btn  text-white fw-5 border-radius-lg"},"Update Settings ")])])])])]),uc]),Object(l["createElementVNode"])("div",pc,[Object(l["createElementVNode"])("div",Oc,[jc,Object(l["createElementVNode"])("div",hc,[Object(l["createElementVNode"])("ul",gc,[Object(l["createElementVNode"])("li",fc,[Object(l["createElementVNode"])("div",Vc,[Ec,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.changePassword.old_password=e),id:"card-holder-name",type:"password",class:"bg-white w-100  mb-2"},null,512),[[l["vModelText"],o.changePassword.old_password]]),""!==o.passwordValidationForm&&""!==o.passwordValidationForm["old_password"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",xc,"Old Password is required")):Object(l["createCommentVNode"])("",!0),Nc,vc,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.changePassword.new_password=e),id:"card-holder-name",type:"password",class:"bg-white w-100  mb-2"},null,512),[[l["vModelText"],o.changePassword.new_password]]),""!==o.passwordValidationForm&&""!==o.passwordValidationForm["new_password"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",yc,"New Password is required")):Object(l["createCommentVNode"])("",!0),wc,kc,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.changePassword.new_password_confirmation=e),id:"card-holder-name",type:"password",class:"bg-white w-100  mb-2"},null,512),[[l["vModelText"],o.changePassword.new_password_confirmation]]),""!==o.passwordValidationForm&&""!==o.passwordValidationForm["new_password_confirmation"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Ac,"Confirm Password is required")):Object(l["createCommentVNode"])("",!0),Sc,Object(l["createElementVNode"])("button",{onClick:t[7]||(t[7]=(...e)=>s.changeUserPassword&&s.changeUserPassword(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"save-pass-btn p-2 mb-3 trips-btn  text-white fw-5 border-radius-lg"}," Save ")])])])])])])])])])])}var Cc=a("2d39"),_c=a.n(Cc),Dc=a("af17"),Pc=a.n(Dc),Ic=a("6150"),Tc=a.n(Ic),zc=a("b34a"),Mc=a.n(zc),Fc=a("4753"),Uc=a.n(Fc),Lc=a("532f"),qc=a.n(Lc);function Rc(){var e=document.querySelectorAll(".nav-pills");function t(){e.forEach((function(e,t){var l=document.createElement("div"),c=e.querySelector("li:first-child .nav-link"),o=c.cloneNode();o.innerHTML="-",l.classList.add("moving-tab","position-absolute","nav-link"),l.appendChild(o),e.appendChild(l);e.getElementsByTagName("li").length;l.style.padding="0px",l.style.width=e.querySelector("li:nth-child(1)").offsetWidth+"px",l.style.transform="translate3d(0px, 0px, 0px)",l.style.transition=".5s ease",e.onmouseover=function(t){let c=a(t),o=c.closest("li");if(o){let t=Array.from(o.closest("ul").children),a=t.indexOf(o)+1;e.querySelector("li:nth-child("+a+") .nav-link").onclick=function(){l=e.querySelector(".moving-tab");let c=0;if(e.classList.contains("flex-column")){for(var s=1;s<=t.indexOf(o);s++)c+=e.querySelector("li:nth-child("+s+")").offsetHeight;l.style.transform="translate3d(0px,"+c+"px, 0px)",l.style.height=e.querySelector("li:nth-child("+s+")").offsetHeight}else{for(s=1;s<=t.indexOf(o);s++)c+=e.querySelector("li:nth-child("+s+")").offsetWidth;l.style.transform="translate3d("+c+"px, 0px, 0px)",l.style.width=e.querySelector("li:nth-child("+a+")").offsetWidth+"px"}}}}}))}function a(e){return e=e||window.event,e.target||e.srcElement}setTimeout((function(){t()}),100),window.addEventListener("resize",(function(t){e.forEach((function(e,t){e.querySelector(".moving-tab").remove();var a=document.createElement("div"),l=e.querySelector(".nav-link.active").cloneNode();l.innerHTML="-",a.classList.add("moving-tab","position-absolute","nav-link"),a.appendChild(l),e.appendChild(a),a.style.padding="0px",a.style.transition=".5s ease";let c=e.querySelector(".nav-link.active").parentElement;if(c){let t=Array.from(c.closest("ul").children),l=t.indexOf(c)+1,s=0;if(e.classList.contains("flex-column")){for(var o=1;o<=t.indexOf(c);o++)s+=e.querySelector("li:nth-child("+o+")").offsetHeight;a.style.transform="translate3d(0px,"+s+"px, 0px)",a.style.width=e.querySelector("li:nth-child("+l+")").offsetWidth+"px",a.style.height=e.querySelector("li:nth-child("+o+")").offsetHeight}else{for(o=1;o<=t.indexOf(c);o++)s+=e.querySelector("li:nth-child("+o+")").offsetWidth;a.style.transform="translate3d("+s+"px, 0px, 0px)",a.style.width=e.querySelector("li:nth-child("+l+")").offsetWidth+"px"}}})),window.innerWidth<991?e.forEach((function(e,t){if(!e.classList.contains("flex-column")){e.classList.remove("flex-row"),e.classList.add("flex-column","on-resize");let t=e.querySelector(".nav-link.active").parentElement,c=Array.from(t.closest("ul").children),o=(c.indexOf(t),0);for(var a=1;a<=c.indexOf(t);a++)o+=e.querySelector("li:nth-child("+a+")").offsetHeight;var l=document.querySelector(".moving-tab");l.style.width=e.querySelector("li:nth-child(1)").offsetWidth+"px",l.style.transform="translate3d(0px,"+o+"px, 0px)"}})):e.forEach((function(e,t){if(e.classList.contains("on-resize")){e.classList.remove("flex-column","on-resize"),e.classList.add("flex-row");let t=e.querySelector(".nav-link.active").parentElement,c=Array.from(t.closest("ul").children),o=c.indexOf(t)+1,s=0;for(var a=1;a<=c.indexOf(t);a++)s+=e.querySelector("li:nth-child("+a+")").offsetWidth;var l=document.querySelector(".moving-tab");l.style.transform="translate3d("+s+"px, 0px, 0px)",l.style.width=e.querySelector("li:nth-child("+o+")").offsetWidth+"px"}}))})),window.innerWidth<991&&e.forEach((function(e,t){e.classList.contains("flex-row")&&(e.classList.remove("flex-row"),e.classList.add("flex-column","on-resize"))}))}var $c=a("4989"),Qc=a.n($c);function Jc(){var e=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));e.map((function(e){return new Qc.a.Tooltip(e)}))}var Hc=a("0644"),Wc=a.n(Hc),Zc={name:"profile-overview",data(){return{updateData:"",passwordValidationForm:"",formValidation:"",user:"",changePassword:{old_password:"",new_password:"",new_password_confirmation:""},showMenu:!1,sophie:_c.a,marie:Pc.a,ivana:Tc.a,peterson:Bl.a,nick:Al.a,img1:Mc.a,team1:wl.a,team2:tt.a,team3:Al.a,team4:Bl.a,img2:Uc.a,img3:qc.a}},components:{},mounted(){this.$store.state.isAbsolute=!0,Rc(),Jc(),this.getUser()},beforeUnmount(){this.$store.state.isAbsolute=!1},methods:{getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e,this.updateData=Wc()(this.user)},async changeUserPassword(){if(this.validatePasswordForm())return;let e=localStorage.getItem("user");e=JSON.parse(e);let t={user_id:e.id,old_password:this.changePassword.old_password,new_password:this.changePassword.new_password,new_password_confirmation:this.changePassword.new_password_confirmation};if(t.new_password!=t.old_password)try{const e=await ia.post("/changePassword",t);this.snackbarMsg("Password changed successfully!"),localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push({name:"SignIn"}),console.log(e)}catch(a){console.log(a)}else this.snackbarMsg("New password can not be the same as old password!","error")},snackbarMsg(e,t="success"){this.$snackbar.add({type:t,text:e,background:"white"})},validateForm(){let e=!1,t="";t=Wc()(this.updateData);for(let a in this.updateData)""!==this.updateData[a]&&void 0!==this.updateData[a]||"first_name"!=a&&"last_name"!=a&&"email"!=a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,e},async updateSettings(){if(this.validateForm())return;let e={first_name:this.updateData.first_name,last_name:this.updateData.last_name,email:this.updateData.email};try{const t=await ia.post("/profileSettings",e);this.snackbarMsg("Profile Updated successfully!"),this.updateUserData(e),console.log(t)}catch(t){console.log(t)}},updateUserData(e){this.user.first_name=e.first_name,this.user.last_name=e.last_name,this.user.email=e.email;let t=localStorage.getItem("user"),a=JSON.parse(t);a.first_name=e.first_name,a.last_name=e.last_name,a.email=e.email,localStorage.setItem("user",JSON.stringify(a)),window.location.reload()},validatePasswordForm(){let e=!1,t="";t=Wc()(this.changePassword);for(let a in this.changePassword)""===this.changePassword[a]||void 0===this.changePassword[a]?(t[a]="is required",e=!0):t[a]="";return this.passwordValidationForm=t,e}}};a("be72");const Yc=Te()(Zc,[["render",Bc]]);var Kc=Yc,Gc=a("26be"),Xc=a.n(Gc);Object(l["pushScopeId"])("data-v-6105fb7c");const eo=Object(l["createElementVNode"])("span",{class:"mask bg-gradient-dark opacity-6"},null,-1),to={class:"container my-auto"},ao={class:"row"},lo={class:"col-lg-4 col-md-8 col-12 mx-auto"},co={class:"card z-index-0 fadeIn3 fadeInBottom"},oo=Object(l["createElementVNode"])("div",{class:"card-header p-0 position-relative mt-n4 mx-3 z-index-2"},[Object(l["createElementVNode"])("div",{class:" border-radius-lg py-3 pe-1",style:{"background-color":"#573078"}},[Object(l["createElementVNode"])("img",{class:"ms-5",style:{width:"200px",height:"45px"},src:n.a}),Object(l["createElementVNode"])("h4",{class:"text-white font-weight-bolder text-center mt-2 "}," Sign in ")])],-1),so={class:"card-body"},no={key:0,class:"text-danger"},ro={class:"mb-3"},io={key:0,class:"text-danger error-txt"},mo={class:"mb-3"},bo={key:0,class:"text-danger error-txt"},uo={class:"text-center"},po=Object(l["createTextVNode"])("Sign in"),Oo={class:"mt-4 text-sm text-success text-center"},jo=Object(l["createTextVNode"])("Forgot Password ?"),ho=Object(l["createElementVNode"])("br",null,null,-1),go=Object(l["createElementVNode"])("small",{class:"mslogin"},"SignIn with Microsoft",-1);function fo(e,t,c,o,s,n){const r=Object(l["resolveComponent"])("navbar"),i=Object(l["resolveComponent"])("material-button"),d=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createVNode"])(r,{btnBackground:"bg-gradient-success"}),Object(l["createElementVNode"])("div",{class:"page-header align-items-start min-vh-100",style:Object(l["normalizeStyle"])([{backgroundImage:"url("+a("6a07")+")"},{"background-size":"cover","background-repeat":"no-repeat","background-position":"center"}])},[eo,Object(l["createElementVNode"])("div",to,[Object(l["createElementVNode"])("div",ao,[Object(l["createElementVNode"])("div",lo,[Object(l["createElementVNode"])("div",co,[oo,Object(l["createElementVNode"])("div",so,[s.unauthorized?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",no,"Incorrect Email or Password")):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",ro,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.credentials.email=e),placeholder:"Email",type:"email",label:"Email",name:"email"},null,512),[[l["vModelText"],s.credentials.email]]),""!==s.formValidation&&""!==s.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",io,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",mo,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.credentials.password=e),placeholder:"Password",type:"password",label:"Password",name:"password"},null,512),[[l["vModelText"],s.credentials.password]]),""!==s.formValidation&&""!==s.formValidation["password"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",bo,"Password is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",uo,[Object(l["createVNode"])(i,{class:"my-4 mb-2",onClick:n.signIn,style:{"background-color":"#573078"},fullWidth:""},{default:Object(l["withCtx"])(()=>[po]),_:1},8,["onClick"])]),Object(l["createElementVNode"])("p",Oo,[Object(l["createVNode"])(d,{to:{name:"ForgotPassword"},class:"font-weight-bold",style:{color:"#573078"}},{default:Object(l["withCtx"])(()=>[jo]),_:1}),ho,Object(l["createElementVNode"])("span",{onClick:t[3]||(t[3]=(...e)=>n.MSSignIn&&n.MSSignIn(...e)),class:"mslogin-link"},[Object(l["createElementVNode"])("img",{onClick:t[2]||(t[2]=(...e)=>n.MSSignIn&&n.MSSignIn(...e)),class:"me-2",style:{width:"12px",height:"12px"},src:Xc.a}),go])])])])])])])],4)],64)}Object(l["popScopeId"])();var Vo=a("1b7b");function Eo(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("nav",{class:Object(l["normalizeClass"])(["top-0 navbar navbar-expand-lg position-absolute z-index-3",a.isBlur?a.isBlur:"shadow-none my-2 navbar-transparent w-100"])},null,2)])}var xo=a("190c"),No=a.n(xo),vo=a("52d6"),yo=a.n(vo),wo={name:"navbar",data(){return{downArrWhite:No.a,downArrBlack:yo.a}},props:{btnBackground:String,isBlur:String,darkMode:{type:Boolean,default:!1}},computed:{darkModes(){return{"text-dark":this.darkMode}}}};const ko=Te()(wo,[["render",Eo]]);var Ao=ko;function So(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{class:Object(l["normalizeClass"])(["btn mb-0",s.getClasses(a.variant,a.color,a.size,a.fullWidth,a.active)])},[Object(l["renderSlot"])(e.$slots,"default")],2)}var Bo={name:"MaterialButton",props:{color:{type:String,default:"success"},size:{type:String,default:"md"},variant:{type:String,default:"fill"},fullWidth:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},methods:{getClasses:(e,t,a,l,c)=>{let o,s,n,r;return o="gradient"===e?"bg-gradient-"+t:"outline"===e?"btn-outline-"+t:"btn-"+t,s=a?"btn-"+a:null,n=l?"w-100":null,r=c?"active":null,`${o} ${s} ${n} ${r}`}}};const Co=Te()(Bo,[["render",So]]);var _o=Co,Do={name:"sign-in",components:{Navbar:Ao,MaterialButton:_o},beforeMount(){this.toggleEveryDisplay(),this.toggleHideConfig()},beforeUnmount(){this.toggleEveryDisplay(),this.toggleHideConfig()},async created(){this.$msalInstance=new Vo["a"](this.msalConfig)},mounted(){const e=this.$msalInstance.getAllAccounts();0!=e.length&&(this.account=e[0],this.$emitter.emit("login",this.account))},data(){return{msalConfig:{auth:{clientId:"84e7c1e4-cd74-42c8-84fe-5ba42ee2049a",authority:"https://login.microsoftonline.com/f8cdef31-a31e-4b4a-93e4-5f571e91255a"},cache:{cacheLocation:"localStorage"}},unauthorized:!1,formValidation:"",credentials:{email:"",password:""}}},methods:{...Object(De["d"])(["toggleEveryDisplay","toggleHideConfig"]),async MSSignIn(){await this.$msalInstance.loginPopup({}).then(()=>{const e=this.$msalInstance.getAllAccounts();this.account=e[0],this.$emitter.emit("login",this.account)}).catch(e=>{console.error("error during authentication: "+e)})},async SignOut(){await this.$msalInstance.logout({}).then(()=>{this.$emitter.emit("logout","logging out")}).catch(e=>{console.error(e)})},validateForm(){let e=!1,t="";t=Wc()(this.credentials);for(let a in this.credentials)""==this.credentials[a]?(t[a]="is required",e=!0):t[a]="";return this.formValidation=t,e},async signIn(){if(!this.validateForm())try{const e=await ia.post("/login",this.credentials);let t=e.data?e.data.user:null,a=e.data?e.data.access_token:null;localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",a);let l=e.data.primary_color,c=e.data.secondary_color,o=e.data.logo;localStorage.setItem("primary_color",l),localStorage.setItem("secondary_color",c),localStorage.setItem("logo",o);const s=this.$router.resolve({name:"/"}).href;window.location.href=s}catch(e){401==e.response.status&&(this.unauthorized=!0)}}}};a("d70b");const Po=Te()(Do,[["render",fo],["__scopeId","data-v-6105fb7c"]]);var Io=Po;const To=Object(l["createElementVNode"])("span",{class:"mask bg-gradient-dark opacity-6"},null,-1),zo={class:"container my-auto"},Mo={class:"row"},Fo={class:"col-lg-4 col-md-8 col-12 mx-auto"},Uo={class:"card z-index-0 fadeIn3 fadeInBottom"},Lo=Object(l["createElementVNode"])("div",{class:"card-header p-0 position-relative mt-n4 mx-3 z-index-2"},[Object(l["createElementVNode"])("div",{class:"border-radius-lg py-3 pe-1",style:{"background-color":"#573078"}},[Object(l["createElementVNode"])("img",{class:"ms-5",style:{width:"200px",height:"45px"},src:n.a}),Object(l["createElementVNode"])("h5",{class:"text-white text-center mt-2"},"Forgot Password")])],-1),qo={class:"card-body"},Ro={key:0,class:"text-danger"},$o={key:0,class:"text-danger error-txt"},Qo={key:1,class:"mb-3"},Jo={key:0,class:"text-danger error-txt"},Ho={class:"text-center"},Wo=Object(l["createTextVNode"])("Next"),Zo=Object(l["createElementVNode"])("p",{class:"mt-4 text-sm text-success text-center"},null,-1);function Yo(e,t,c,o,s,n){const r=Object(l["resolveComponent"])("navbar"),i=Object(l["resolveComponent"])("material-button");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createVNode"])(r,{btnBackground:"bg-gradient-success"}),Object(l["createElementVNode"])("div",{class:"page-header align-items-start min-vh-100",style:Object(l["normalizeStyle"])([{backgroundImage:"url("+a("6a07")+")"},{"background-size":"cover","background-repeat":"no-repeat","background-position":"center"}])},[To,Object(l["createElementVNode"])("div",zo,[Object(l["createElementVNode"])("div",Mo,[Object(l["createElementVNode"])("div",Fo,[Object(l["createElementVNode"])("div",Uo,[Lo,Object(l["createElementVNode"])("div",qo,[s.unauthorized?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Ro,"Incorrect Email or Password")):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["mb-3",{"mb-5 mt-5":!1===s.isOTP}])},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.credentials.email=e),placeholder:"Email",type:"email",label:"Email",name:"email"},null,512),[[l["vModelText"],s.credentials.email]]),""!==s.formValidation&&""!==s.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",$o,"email is required")):Object(l["createCommentVNode"])("",!0)],2),s.isOTP?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Qo,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.otp=e),id:"otp",placeholder:"otp",type:"otp",label:"OTP",name:"otp"},null,512),[[l["vModelText"],s.otp]]),""!==s.formValidation&&""!==s.formValidation["otp"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Jo,"otp is required")):Object(l["createCommentVNode"])("",!0)])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",Ho,[Object(l["createVNode"])(i,{class:"my-4 mb-2",onClick:n.requestOtp,style:{"background-color":"#573078"},fullWidth:""},{default:Object(l["withCtx"])(()=>[Wo]),_:1},8,["onClick"])]),Zo])])])])])],4)],64)}var Ko={name:"sign-in",components:{Navbar:Ao,MaterialButton:_o},beforeMount(){this.toggleEveryDisplay(),this.toggleHideConfig()},beforeUnmount(){this.toggleEveryDisplay(),this.toggleHideConfig()},data(){return{unauthorized:!1,isOTP:!1,formValidation:"",otp:"",credentials:{email:""}}},methods:{...Object(De["d"])(["toggleEveryDisplay","toggleHideConfig"]),validateForm(){let e=!1,t="";t=Wc()(this.credentials);for(let a in this.credentials)""==this.credentials[a]?(t[a]="is required",e=!0):t[a]="";return this.formValidation=t,e},async requestOtp(){if(this.isOTP)this.verifyOtp();else if(!this.validateForm())try{const e=await ia.post("/forgot_password",this.credentials);this.isOTP=!0,console.log(e)}catch(e){console.log(e)}},async verifyOtp(){if(this.validateForm())return;let e={email:"",otp:""};e.email=this.credentials.email,e.otp=this.otp;try{return await ia.post("/forgot_password_verify_otp",e),void this.$router.push({name:"ResetPassword",params:{email:this.credentials.email,otp:this.otp}})}catch(t){console.log(t)}}}};const Go=Te()(Ko,[["render",Yo]]);var Xo=Go;const es=Object(l["createElementVNode"])("span",{class:"mask bg-gradient-dark opacity-6"},null,-1),ts={class:"container my-auto"},as={class:"row"},ls={class:"col-lg-4 col-md-8 col-12 mx-auto"},cs={class:"card z-index-0 fadeIn3 fadeInBottom"},os=Object(l["createElementVNode"])("div",{class:"card-header p-0 position-relative mt-n4 mx-3 z-index-2"},[Object(l["createElementVNode"])("div",{class:" border-radius-lg py-3 pe-1",style:{"background-color":"#573078"}},[Object(l["createElementVNode"])("img",{class:"ms-5",style:{width:"200px",height:"45px"},src:n.a}),Object(l["createElementVNode"])("h5",{class:"text-white text-center mt-2"},"Reset Password")])],-1),ss={class:"card-body"},ns={key:0,class:"text-danger"},rs={class:"mb-3"},is={key:0,class:"text-danger error-txt"},ds={class:"mb-3"},ms={key:0,class:"text-danger error-txt"},bs={class:"text-center"},us=Object(l["createTextVNode"])("Reset"),ps={class:"mt-4 text-sm text-success text-center"},Os=Object(l["createElementVNode"])("small",{class:"text-success text-gradient font-weight-bold"},"Go back to ",-1),js=Object(l["createTextVNode"])("SignIn");function hs(e,t,c,o,s,n){const r=Object(l["resolveComponent"])("navbar"),i=Object(l["resolveComponent"])("material-button"),d=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createVNode"])(r,{btnBackground:"bg-gradient-success"}),Object(l["createElementVNode"])("div",{class:"page-header align-items-start min-vh-100",style:Object(l["normalizeStyle"])([{backgroundImage:"url("+a("6a07")+")"},{"background-size":"cover","background-repeat":"no-repeat","background-position":"center"}])},[es,Object(l["createElementVNode"])("div",ts,[Object(l["createElementVNode"])("div",as,[Object(l["createElementVNode"])("div",ls,[Object(l["createElementVNode"])("div",cs,[os,Object(l["createElementVNode"])("div",ss,[s.unauthorized?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",ns,"Incorrect Email or Password")):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",rs,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.credentials.new_password=e),placeholder:"password",type:"password",label:"Password",name:"pass"},null,512),[[l["vModelText"],s.credentials.new_password]]),""!==s.formValidation&&""!==s.formValidation["new_password"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",is,"password is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",ds,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"otp","onUpdate:modelValue":t[1]||(t[1]=e=>s.credentials.new_password_confirmation=e),placeholder:"confirm password",type:"password",label:"Confirm Password",name:"password"},null,512),[[l["vModelText"],s.credentials.new_password_confirmation]]),""!==s.formValidation&&""!==s.formValidation["password_confirmation"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",ms,"confirm password is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",bs,[Object(l["createVNode"])(i,{class:"my-4 mb-2",onClick:n.setNewPassword,variant:"gradient",color:"success",fullWidth:""},{default:Object(l["withCtx"])(()=>[us]),_:1},8,["onClick"])]),Object(l["createElementVNode"])("p",ps,[Os,Object(l["createVNode"])(d,{to:{name:"SignIn"},class:"text-success text-gradient font-weight-bold",style:{"background-color":"#573078"}},{default:Object(l["withCtx"])(()=>[js]),_:1})])])])])])])],4)],64)}var gs={components:{Navbar:Ao,MaterialButton:_o},beforeMount(){this.toggleEveryDisplay(),this.toggleHideConfig()},beforeUnmount(){this.toggleEveryDisplay(),this.toggleHideConfig()},data(){return{email:"",unauthorized:!1,formValidation:"",isOTP:!1,credentials:{email:"",otp:"",new_password:"",new_password_confirmation:""}}},methods:{...Object(De["d"])(["toggleEveryDisplay","toggleHideConfig"]),validateForm(){let e=!1,t="";t=Wc()(this.credentials);for(let a in this.credentials)""==this.credentials[a]?(t[a]="is required",e=!0):t[a]="";return this.formValidation=t,e},async setNewPassword(){if(this.validateForm())return;this.credentials.email=this.$route.params.email,this.credentials.otp=this.$route.params.otp;let e=this.credentials;try{await ia.post("/set_new_password",e),this.$router.push({name:"SignIn"})}catch(t){console.log(t)}}}};const fs=Te()(gs,[["render",hs]]);var Vs=fs;const Es={class:"bg-white"},xs=Object(l["createElementVNode"])("div",{class:"container top-0 position-sticky z-index-sticky"},[Object(l["createElementVNode"])("div",{class:"row"},[Object(l["createElementVNode"])("div",{class:"col-12"})])],-1),Ns={class:"mt-0 main-content"},vs={class:"page-header min-vh-100"},ys={class:"container"},ws={class:"row"},ks={class:"col-6 d-lg-flex d-none h-100 my-auto pe-0 ps-0 position-absolute top-0 start-0 text-center justify-content-center flex-column"},As={class:"col-xl-4 col-lg-5 col-md-7 d-flex flex-column ms-auto me-auto ms-lg-auto me-lg-5"},Ss={class:"card card-plain"},Bs=Object(l["createElementVNode"])("div",{class:"pb-0 card-header bg-transparent mb-4"},[Object(l["createElementVNode"])("h4",{class:"font-weight-bolder"},"Sign Up"),Object(l["createElementVNode"])("p",{class:"mb-0"}," Enter your email and password to register ")],-1),Cs={class:"card-body"},_s={role:"form"},Ds={class:"mb-3"},Ps={class:"mb-3"},Is={class:"mb-3"},Ts=Object(l["createTextVNode"])(" I agree the "),zs=Object(l["createElementVNode"])("a",{href:"../../../pages/privacy.html",class:"text-dark font-weight-bolder"},"Terms and Conditions",-1),Ms={class:"text-center"},Fs=Object(l["createTextVNode"])("Sign Up"),Us={class:"px-1 pt-0 text-center card-footer px-lg-2"},Ls={class:"mx-auto mb-4 text-sm"},qs=Object(l["createTextVNode"])(" Don't have an account? "),Rs=Object(l["createTextVNode"])("Sign In");function $s(e,t,c,o,s,n){const r=Object(l["resolveComponent"])("material-input"),i=Object(l["resolveComponent"])("material-checkbox"),d=Object(l["resolveComponent"])("material-button"),m=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Es,[xs,Object(l["createElementVNode"])("main",Ns,[Object(l["createElementVNode"])("section",null,[Object(l["createElementVNode"])("div",vs,[Object(l["createElementVNode"])("div",ys,[Object(l["createElementVNode"])("div",ws,[Object(l["createElementVNode"])("div",ks,[Object(l["createElementVNode"])("div",{class:"position-relative h-100 m-3 px-7 border-radius-lg d-flex flex-column justify-content-center",style:Object(l["normalizeStyle"])([{backgroundImage:"url("+a("6a07")+")"},{"background-size":"cover","background-repeat":"no-repeat","background-position":"center",width:"100%"}])},null,4)]),Object(l["createElementVNode"])("div",As,[Object(l["createElementVNode"])("div",Ss,[Bs,Object(l["createElementVNode"])("div",Cs,[Object(l["createElementVNode"])("form",_s,[Object(l["createElementVNode"])("div",Ds,[Object(l["createVNode"])(r,{id:"name",type:"text",label:"Name",name:"name",size:"lg"})]),Object(l["createElementVNode"])("div",Ps,[Object(l["createVNode"])(r,{id:"email",type:"email",label:"Email",name:"email",size:"lg"})]),Object(l["createElementVNode"])("div",Is,[Object(l["createVNode"])(r,{id:"password",type:"password",label:"Password",name:"password",size:"lg"})]),Object(l["createVNode"])(i,{id:"flexCheckDefault",class:"font-weight-light",checked:""},{default:Object(l["withCtx"])(()=>[Ts,zs]),_:1}),Object(l["createElementVNode"])("div",Ms,[Object(l["createVNode"])(d,{class:"mt-4",variant:"gradient",color:"success",fullWidth:"",size:"lg"},{default:Object(l["withCtx"])(()=>[Fs]),_:1})])])]),Object(l["createElementVNode"])("div",Us,[Object(l["createElementVNode"])("p",Ls,[qs,Object(l["createVNode"])(m,{to:{name:"SignIn"},class:"text-success text-gradient font-weight-bold"},{default:Object(l["withCtx"])(()=>[Rs]),_:1})])])])])])])])])])])}const Qs=["id","type","name","value","placeholder","isRequired","disabled"];function Js(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:Object(l["normalizeClass"])(["input-group",`input-group-${a.variant} ${s.getStatus(a.error,a.success)}`])},[Object(l["createElementVNode"])("label",{class:Object(l["normalizeClass"])("static"===a.variant?"":"form-label")},Object(l["toDisplayString"])(a.label),3),Object(l["createElementVNode"])("input",{id:a.id,type:a.type,class:Object(l["normalizeClass"])(["form-control",s.getClasses(a.size)]),name:a.name,value:a.value,placeholder:a.placeholder,isRequired:a.isRequired,disabled:a.disabled},null,10,Qs)],2)}function Hs(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}if(0!=document.querySelectorAll(".input-group").length){var Ws=document.querySelectorAll("input.form-control");Ws.forEach(e=>Hs(e,{onfocus:"focused(this)",onfocusout:"defocused(this)"}))}function Zs(){for(var e=document.querySelectorAll("input"),t=0;t<e.length;t++)e[t].hasAttribute("value")&&e[t].parentElement.classList.add("is-filled"),e[t].addEventListener("focus",(function(e){this.parentElement.classList.add("is-focused")}),!1),e[t].onkeyup=function(e){""!=this.value?this.parentElement.classList.add("is-filled"):this.parentElement.classList.remove("is-filled")},e[t].addEventListener("focusout",(function(e){""!=this.value&&this.parentElement.classList.add("is-filled"),this.parentElement.classList.remove("is-focused")}),!1)}var Ys={name:"MaterialInput",props:{variant:{type:String,default:"outline"},label:{type:String,default:""},size:{type:String,default:"default"},success:{type:Boolean,default:!1},error:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:{type:String,default:""},id:{type:String,required:!0},value:{type:String,default:""},placeholder:{type:String,default:""},type:{type:String,default:"text"},isRequired:{type:Boolean,default:!1}},mounted(){Zs()},methods:{getClasses:e=>{let t;return t=e?"form-control-"+e:null,t},getStatus:(e,t)=>{let a;return a=t?"is-valid":e?"is-invalid":null,a}}};const Ks=Te()(Ys,[["render",Js]]);var Gs=Ks;const Xs={class:"form-check p-0"},en=["id","name","checked"],tn=["for"];function an(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Xs,[Object(l["createElementVNode"])("input",{id:a.id,class:"form-check-input",type:"checkbox",name:a.name,checked:a.checked},null,8,en),Object(l["createElementVNode"])("label",{for:a.id,class:"custom-control-label"},[Object(l["renderSlot"])(e.$slots,"default")],8,tn)])}var ln={name:"MaterialCheckbox",props:{name:{type:String,default:""},id:{type:String,default:""},checked:Boolean}};const cn=Te()(ln,[["render",an]]);var on=cn;const sn=document.getElementsByTagName("body")[0];var nn={name:"sign-up",components:{MaterialInput:Gs,MaterialCheckbox:on,MaterialButton:_o},beforeMount(){this.toggleEveryDisplay(),this.toggleHideConfig(),sn.classList.remove("bg-gray-100")},beforeUnmount(){this.toggleEveryDisplay(),this.toggleHideConfig(),sn.classList.add("bg-gray-100")},methods:{...Object(De["d"])(["toggleEveryDisplay","toggleHideConfig"])}};const rn=Te()(nn,[["render",$s]]);var dn=rn;const mn={class:"container-fluid py-4"},bn={class:"row"},un={class:"col-12"},pn={class:"card my-4"},On={class:"d-flex justify-content-between border-radius-lg pt-4 pb-3"},jn=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Schools",-1),hn=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4 border-radius-lg"}," Add School ",-1),gn={class:"card-body px-0 pb-2"},fn={class:"table-responsive p-0"},Vn={class:"table align-items-center mb-0"},En=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," ID "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," School Name "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Email "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder ps-2"}," Country "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Organization "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Teachers "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Students "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Status "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Action ")])],-1),xn={class:"align-middle text-center text-sm"},Nn={class:"text-xs font-weight-bold mb-0"},vn={class:"d-flex"},yn={class:"text-xs font-weight-bold mb-0"},wn=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-6 cursor-pointer"},"arrow_forward",-1),kn={class:"text-xs font-weight-bold mb-0"},An={class:"text-xs font-weight-bold mb-0"},Sn={class:"align-middle text-center"},Bn={class:"text-secondary text-xs font-weight-bold"},Cn={class:"align-middle text-center"},_n={class:"text-secondary text-xs font-weight-bold"},Dn={class:"align-middle text-center"},Pn={class:"text-secondary text-xs font-weight-bold"},In={class:"align-middle text-center text-sm"},Tn={class:"badge badge-sm bg-gradient-success"},zn={class:"align-middle text-center"},Mn=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"edit",-1),Fn=["onClick"];function Un(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",mn,[Object(l["createElementVNode"])("div",bn,[Object(l["createElementVNode"])("div",un,[Object(l["createElementVNode"])("div",pn,[Object(l["createElementVNode"])("div",On,[jn,s.userPermissions.create_school?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"add-school"}},{default:Object(l["withCtx"])(()=>[hn]),_:1})):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",gn,[Object(l["createElementVNode"])("div",fn,[Object(l["createElementVNode"])("table",Vn,[En,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allSchools,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",xn,[Object(l["createElementVNode"])("p",Nn,Object(l["toDisplayString"])(e.id),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createVNode"])(n,{to:{name:"settings-school",params:{id:e.id}}},{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",vn,[Object(l["createElementVNode"])("p",yn,Object(l["toDisplayString"])(e.title),1),wn])]),_:2},1032,["to"])]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",kn,Object(l["toDisplayString"])(e.email),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",An,Object(l["toDisplayString"])(e.country),1)]),Object(l["createElementVNode"])("td",Sn,[Object(l["createElementVNode"])("span",Bn,Object(l["toDisplayString"])(e.organization.name),1)]),Object(l["createElementVNode"])("td",Cn,[Object(l["createElementVNode"])("span",_n,Object(l["toDisplayString"])(e.teachers_count),1)]),Object(l["createElementVNode"])("td",Dn,[Object(l["createElementVNode"])("span",Pn,Object(l["toDisplayString"])(e.students_count),1)]),Object(l["createElementVNode"])("td",In,[Object(l["createElementVNode"])("span",Tn,Object(l["toDisplayString"])(e.status),1)]),Object(l["createElementVNode"])("td",zn,[Object(l["createElementVNode"])("span",null,[s.userPermissions.edit_school?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"edit-school",params:{id:e.id}}},{default:Object(l["withCtx"])(()=>[Mn]),_:2},1032,["to"])):Object(l["createCommentVNode"])("",!0),s.userPermissions.delete_school?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",{key:1,onClick:t=>s.confirmDelete(e.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"delete",8,Fn)):Object(l["createCommentVNode"])("",!0)])])]))),128))])])])])])])])])}var Ln=a("3d20"),qn=a.n(Ln),Rn={name:"tables",mounted(){this.setColor(),this.getUser(),this.getAllSchools()},updated(){this.$permissions.redirectIfNotAllowed("view_school")},data(){return{allSchools:"",schools:6,user:""}},computed:{...Object(De["c"])(["getBrandingSetting"]),userPermissions(){return this.$permissions.userPermissions.value}},methods:{setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},confirmDelete(e){qn.a.fire({title:"Are you sure?",text:"Item will be archived and you will be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&this.deleteSchool(e)})},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async getAllSchools(){try{let e="/getAllSchools";"organization_admin"==this.user.role&&(e="/getAllSchools/"+this.user.id);const t=await ia.get(e);this.allSchools=t.data}catch(e){console.log(e)}},async deleteSchool(e){try{await ia.delete("/deleteSchool/"+e),this.removeSchoolFromList(e),this.snackbarMsg("School Deleted")}catch(t){console.log(t)}},removeSchoolFromList(e){const t=this.allSchools.findIndex(t=>t.id===e);this.allSchools.splice(t,1)}}};a("aa39");const $n=Te()(Rn,[["render",Un]]);var Qn=$n;const Jn={class:"container-fluid py-4"},Hn={class:"row"},Wn={class:"col-12"},Zn={class:"card my-4"},Yn=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between border-radius-lg pt-4 pb-3"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Archived Schools")],-1),Kn={class:"card-body px-0 pb-2"},Gn={class:"icon-container"},Xn=Object(l["createElementVNode"])("span",{class:"label-text"},"Bulk Restore",-1),er=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-6 cursor-pointer"},"restore",-1),tr=[Xn,er],ar={class:"table-responsive p-0"},lr={class:"table align-items-center mb-0"},cr={class:""},or={class:"form-check",style:{"margin-left":"-20px"}},sr=Object(l["createElementVNode"])("label",{for:"",class:"custom-control-label"},null,-1),nr=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," ID ",-1),rr=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," School Name ",-1),ir=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Email ",-1),dr=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder ps-2"}," Country ",-1),mr=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Organization ",-1),br=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Teachers ",-1),ur=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Students ",-1),pr=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Status ",-1),Or={class:"align-middle text-center text-sm"},jr={class:"form-check"},hr=["checked","onChange"],gr=Object(l["createElementVNode"])("label",{for:"",class:"custom-control-label"},null,-1),fr={class:"align-middle text-center text-sm"},Vr={class:"text-xs font-weight-bold mb-0"},Er={class:"d-flex"},xr={class:"text-xs font-weight-bold mb-0"},Nr=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-6 cursor-pointer"},"arrow_forward",-1),vr={class:"text-xs font-weight-bold mb-0"},yr={class:"text-xs font-weight-bold mb-0"},wr={class:"align-middle text-center"},kr={class:"text-secondary text-xs font-weight-bold"},Ar={class:"align-middle text-center"},Sr={class:"text-secondary text-xs font-weight-bold"},Br={class:"align-middle text-center"},Cr={class:"text-secondary text-xs font-weight-bold"},_r={class:"align-middle text-center text-sm"},Dr={class:"badge badge-sm bg-gradient-success"};function Pr(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Jn,[Object(l["createElementVNode"])("div",Hn,[Object(l["createElementVNode"])("div",Wn,[Object(l["createElementVNode"])("div",Zn,[Yn,Object(l["createElementVNode"])("div",Kn,[Object(l["createElementVNode"])("div",Gn,[Object(l["createElementVNode"])("div",{class:"icon-label",onClick:t[0]||(t[0]=e=>s.confirmAction("restore"))},tr)]),Object(l["createElementVNode"])("div",ar,[Object(l["createElementVNode"])("table",lr,[Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",cr,[Object(l["createElementVNode"])("div",or,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{onChange:t[1]||(t[1]=(...e)=>s.selectAll&&s.selectAll(...e)),"onUpdate:modelValue":t[2]||(t[2]=e=>o.selectall=e),id:"",class:"form-check-input",type:"checkbox",name:""},null,544),[[l["vModelCheckbox"],o.selectall]]),sr])]),nr,rr,ir,dr,mr,br,ur,pr])]),Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allSchools,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",Or,[Object(l["createElementVNode"])("div",jr,[Object(l["createElementVNode"])("input",{checked:s.checkIfSelected(e.id),onChange:t=>s.selectRecord(e.id),id:"",class:"form-check-input",type:"checkbox",name:""},null,40,hr),gr])]),Object(l["createElementVNode"])("td",fr,[Object(l["createElementVNode"])("p",Vr,Object(l["toDisplayString"])(e.id),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createVNode"])(n,{to:{name:"settings-school",params:{id:e.id}}},{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",Er,[Object(l["createElementVNode"])("p",xr,Object(l["toDisplayString"])(e.title),1),Nr])]),_:2},1032,["to"])]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",vr,Object(l["toDisplayString"])(e.email),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",yr,Object(l["toDisplayString"])(e.country),1)]),Object(l["createElementVNode"])("td",wr,[Object(l["createElementVNode"])("span",kr,Object(l["toDisplayString"])(e.organization.name),1)]),Object(l["createElementVNode"])("td",Ar,[Object(l["createElementVNode"])("span",Sr,Object(l["toDisplayString"])(e.teachers_count),1)]),Object(l["createElementVNode"])("td",Br,[Object(l["createElementVNode"])("span",Cr,Object(l["toDisplayString"])(e.students_count),1)]),Object(l["createElementVNode"])("td",_r,[Object(l["createElementVNode"])("span",Dr,Object(l["toDisplayString"])(e.status),1)])]))),128))])])])])])])])])}var Ir={name:"tables",async mounted(){await this.setColor(),await this.getUser(),await this.getAllSchools(),await this.selectAll()},updated(){this.$permissions.redirectIfNotAllowed("view_school")},data(){return{selectall:!1,selectedRecords:[],allSchools:"",schools:6,user:""}},computed:{...Object(De["c"])(["getBrandingSetting"]),userPermissions(){return this.$permissions.userPermissions.value}},methods:{confirmAction(e){qn.a.fire({title:"Are you sure?",text:"delete"==e?"Items will be deleted permanently and you will not be able to revert this!":"Items Will be restored to the students",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"delete"==e?"Yes, delete it!":"Yes, restore it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&"restore"==e&&this.bulkRestore()})},async bulkRestore(){let e=[];if(this.selectedRecords.filter(t=>{t.value&&e.push(t.id)}),e.length){const t=await ia.post("/bulkRestoreSchools",e);this.snackbarMsg(t.data.message),this.getAllSchools()}else this.snackbarMsg("Error: data not selected")},selectAll(){this.selectedRecords=[],this.allSchools.filter(e=>{this.selectall?this.selectedRecords.push({id:e.id,value:!0}):this.selectedRecords.push({id:e.id,value:!1})})},checkIfSelected(e){const t=this.selectedRecords.find(t=>t.id===e);return!!t&&t.value},selectRecord(e){const t=this.selectedRecords.find(t=>t.id===e);t.value?t.value=!1:t.value=!0},setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},confirmDelete(e){qn.a.fire({title:"Are you sure?",text:"Item will be archived and you will be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&this.deleteSchool(e)})},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async getAllSchools(){try{let e="/archivedSchools";"organization_admin"==this.user.role&&(e="/archivedSchools/"+this.user.id);const t=await ia.get(e);this.allSchools=t.data}catch(e){console.log(e)}},async deleteSchool(e){try{await ia.delete("/deleteSchool/"+e),this.removeSchoolFromList(e),this.snackbarMsg("School Deleted")}catch(t){console.log(t)}},removeSchoolFromList(e){const t=this.allSchools.findIndex(t=>t.id===e);this.allSchools.splice(t,1)}}};a("4df7");const Tr=Te()(Ir,[["render",Pr]]);var zr=Tr;Object(l["pushScopeId"])("data-v-11d328bf");const Mr={class:"container-fluid py-4"},Fr={class:"row"},Ur={class:"col-12"},Lr={class:"card my-4"},qr={class:"d-flex justify-content-between  border-radius-lg pt-4 "},Rr=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Add School",-1),$r=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 px-4 py-2 border-radius-lg"}," Back ",-1),Qr={class:"card-body px-0 pb-2"},Jr={class:"table-responsive p-0"},Hr={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},Wr={key:0,class:"mb-3 change-pass-alert"},Zr=Object(l["createElementVNode"])("br",null,null,-1),Yr={class:"bg-white box-shadow-dark border-radius-lg col-xl-12 col-lg-12 col-md-12"},Kr={class:"form-bg container p-4 ms-2"},Gr={class:"card card-plain"},Xr={class:"card-body"},ei={role:"form"},ti={class:"mb-1"},ai=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Name",-1),li={key:0,class:"text-danger error-txt"},ci={class:"mb-1"},oi=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},"Email",-1),si={key:0,class:"text-danger error-txt"},ni={class:"mb-1"},ri=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Phone",-1),ii={key:0,class:"text-danger error-txt"},di={class:"mb-1"},mi=Object(l["createElementVNode"])("label",{class:"input-label",for:"website"},"Website",-1),bi={key:0,class:"text-danger error-txt"},ui={class:"mb-1"},pi=Object(l["createElementVNode"])("label",{class:"input-label",for:"address"},"Address",-1),Oi={key:0,class:"text-danger error-txt"},ji={key:0,class:"mb-1"},hi=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Organization",-1),gi=Object(l["createElementVNode"])("br",null,null,-1),fi=["value"],Vi={key:0,class:"text-danger error-txt"},Ei={class:"mb-1"},xi=Object(l["createElementVNode"])("label",{class:"input-label",for:"country"},"Country",-1),Ni=Object(l["createElementVNode"])("br",null,null,-1),vi=["value"],yi={key:0,class:"text-danger error-txt"},wi={class:"mb-1"},ki=Object(l["createElementVNode"])("label",{class:"input-label",for:"city"},"City",-1),Ai={key:0,class:"text-danger error-txt"},Si={class:"mb-1"},Bi=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Zip Code",-1),Ci={key:0,class:"text-danger error-txt"},_i={class:"mb-1"},Di=Object(l["createElementVNode"])("label",{class:"input-label",for:"teachers_count"},"Teachers Count",-1),Pi={key:0,class:"text-danger error-txt"},Ii={class:"mb-1"},Ti=Object(l["createElementVNode"])("label",{class:"input-label",for:"students_count"},"Students Count",-1),zi={key:0,class:"text-danger error-txt"},Mi={class:"mb-1"},Fi=Object(l["createElementVNode"])("label",{class:"input-label",for:"stages"},"Stages",-1),Ui={key:0,class:"text-danger error-txt"},Li={class:"mb-1"},qi=Object(l["createElementVNode"])("label",{class:"input-label",for:"tagLine"},"Tag Line",-1),Ri={key:0,class:"text-danger error-txt"},$i={class:"mb-1"},Qi=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Status",-1),Ji=Object(l["createElementVNode"])("br",null,null,-1),Hi=["value"],Wi={key:0,class:"text-danger error-txt"},Zi={class:"mt-4"};function Yi(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Mr,[Object(l["createElementVNode"])("div",Fr,[Object(l["createElementVNode"])("div",Ur,[Object(l["createElementVNode"])("div",Lr,[Object(l["createElementVNode"])("div",qr,[Rr,Object(l["createVNode"])(n,{to:{name:"list-schools"}},{default:Object(l["withCtx"])(()=>[$r]),_:1})]),Object(l["createElementVNode"])("div",Qr,[Object(l["createElementVNode"])("div",Jr,[Object(l["createElementVNode"])("div",Hr,[o.isError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Wr,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.validationErrors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{key:t,class:"pass-text"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e),1),Zr]))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",Yr,[Object(l["createElementVNode"])("div",Kr,[Object(l["createElementVNode"])("div",Gr,[Object(l["createElementVNode"])("div",Xr,[Object(l["createElementVNode"])("form",ei,[Object(l["createElementVNode"])("div",ti,[ai,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newSchool.title=e),type:"text",placeholder:"School Name",name:"name"},null,512),[[l["vModelText"],o.newSchool.title]]),""!==o.formValidation&&""!==o.formValidation["title"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",li,"Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",ci,[oi,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newSchool.email=e),type:"email",placeholder:"Email",name:"email"},null,512),[[l["vModelText"],o.newSchool.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",si,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",ni,[ri,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>o.newSchool.phone=e),type:"tel",placeholder:"Phone",name:"phone"},null,512),[[l["vModelText"],o.newSchool.phone]]),""!==o.formValidation&&""!==o.formValidation["phone"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",ii,"Phone is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",di,[mi,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>o.newSchool.website=e),type:"url",placeholder:"Website",name:"website"},null,512),[[l["vModelText"],o.newSchool.website]]),""!==o.formValidation&&""!==o.formValidation["website"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",bi,"Website is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",ui,[pi,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[4]||(t[4]=e=>o.newSchool.address=e),type:"text",placeholder:"Address",name:"address"},null,512),[[l["vModelText"],o.newSchool.address]]),""!==o.formValidation&&""!==o.formValidation["address"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Oi,"Address is required")):Object(l["createCommentVNode"])("",!0)]),"super_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ji,[hi,gi,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[5]||(t[5]=e=>o.newSchool.organization_id=e),id:"name",type:"select",placeholder:"Zip",name:"zip"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableOrganizations,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.name),9,fi))),128))],512),[[l["vModelSelect"],o.newSchool.organization_id]]),""!==o.formValidation&&""!==o.formValidation["organization_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Vi,"Organization is required")):Object(l["createCommentVNode"])("",!0)])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",Ei,[xi,Ni,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[6]||(t[6]=e=>o.newSchool.country=e),id:"country",type:"select",placeholder:"Country",name:"country"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableCountries,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,vi))),128))],512),[[l["vModelSelect"],o.newSchool.country]]),""!==o.formValidation&&""!==o.formValidation["country"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",yi,"Country is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",wi,[ki,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[7]||(t[7]=e=>o.newSchool.city=e),type:"text",placeholder:"City",name:"city"},null,512),[[l["vModelText"],o.newSchool.city]]),""!==o.formValidation&&""!==o.formValidation["city"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Ai,"City is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Si,[Bi,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[8]||(t[8]=e=>o.newSchool.zip=e),type:"text",placeholder:"Zip Code",name:"zip"},null,512),[[l["vModelText"],o.newSchool.zip]]),""!==o.formValidation&&""!==o.formValidation["zip"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Ci,"ZIP code is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",_i,[Di,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"teachers_count","onUpdate:modelValue":t[9]||(t[9]=e=>o.newSchool.teachers_count=e),type:"number",placeholder:"Teachers Count",name:"teachers_count"},null,512),[[l["vModelText"],o.newSchool.teachers_count]]),""!==o.formValidation&&""!==o.formValidation["teachers_count"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Pi,"Teachers Count is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Ii,[Ti,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"students_count","onUpdate:modelValue":t[10]||(t[10]=e=>o.newSchool.students_count=e),type:"number",placeholder:"Teachers Count",name:"students_count"},null,512),[[l["vModelText"],o.newSchool.students_count]]),""!==o.formValidation&&""!==o.formValidation["students_count"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",zi,"Students Count is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Mi,[Fi,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"stages","onUpdate:modelValue":t[11]||(t[11]=e=>o.newSchool.stages=e),type:"text",placeholder:"Stages",name:"stages"},null,512),[[l["vModelText"],o.newSchool.stages]]),""!==o.formValidation&&""!==o.formValidation["stages"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Ui,"Stages is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Li,[qi,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[12]||(t[12]=e=>o.newSchool.tagline=e),type:"text",placeholder:"Tag Line",name:"tagLine"},null,512),[[l["vModelText"],o.newSchool.tagline]]),""!==o.formValidation&&""!==o.formValidation["tagline"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Ri,"Tagline is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",$i,[Qi,Ji,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>o.newSchool.status=e),class:"select-box",id:"name",type:"select",placeholder:"Zip",name:"zip"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableSchools,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,Hi))),128))],512),[[l["vModelSelect"],o.newSchool.status]]),""!==o.formValidation&&""!==o.formValidation["status"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Wi,"Status is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Zi,[Object(l["createElementVNode"])("button",{onClick:t[14]||(t[14]=Object(l["withModifiers"])((...e)=>s.saveNewSchool&&s.saveNewSchool(...e),["prevent"])),style:{"font-size":"12px","background-color":"#573078"},class:"btn text-white fw-5 border-0 px-5 py-2 border-radius-lg"}," Save ")])])])])])])])])])])])])])}Object(l["popScopeId"])();var Ki={name:"",components:{},mounted(){this.getUser(),this.getOrganizations()},updated(){this.$permissions.redirectIfNotAllowed("create_school")},data(){return{isError:!1,validationErrors:"",user:"",formValidation:"",availableCountries:["UK","USA","Canada"],newSchool:{organization_id:"",title:"",website:"",email:"",phone:"",country:"",city:"",zip:"",address:"",tagline:"",teachers_count:"",students_count:"",stages:"",status:""},availableSchools:["active","pending","blocked"],availableOrganizations:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("create_school");let e=!1,t="";t=Wc()(this.newSchool);for(let a in this.newSchool)""!==this.newSchool[a]&&void 0!==this.newSchool[a]||"organization_id"===a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,console.log(this.formValidation),e},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async saveNewSchool(){if(!this.validateForm())try{let e="/createSchool";"organization_admin"==this.user.role&&(e="/createSchool/"+this.user.id);const t=await ia.post(e,this.newSchool);this.createCustomer(t.data.id),this.$router.push({name:"list-schools"}),this.snackbarMsg("School Saved Successfuly")}catch(e){console.log(e),this.isError=!0,this.validationErrors=e.response.data.errors}},async createCustomer(e){let t=this.newSchool.title,a={user_id:e,name:t,email:this.newSchool.email};try{await ia.post("/createCustomer",a)}catch(l){console.log(l)}},async getOrganizations(){try{const e=await ia.get("/getAllOrganizations");this.availableOrganizations=e.data}catch(e){console.log(e)}}}};a("f988");const Gi=Te()(Ki,[["render",Yi],["__scopeId","data-v-11d328bf"]]);var Xi=Gi;Object(l["pushScopeId"])("data-v-10d4df66");const ed={class:"container-fluid py-4"},td={class:"row"},ad={class:"col-12"},ld={class:"card my-4"},cd=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between border-radius-lg pt-4"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Edit School")],-1),od={class:"card-body px-0 pb-2"},sd={class:"table-responsive p-0"},nd={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},rd={key:0,class:"mb-3 change-pass-alert"},id=Object(l["createElementVNode"])("br",null,null,-1),dd={class:"bg-white box-shadow-dark border-radius-lg col-xl-12 col-lg-12 col-md-12"},md={class:"form-bg container p-4 ms-2"},bd={class:"card card-plain"},ud={class:"card-body"},pd={role:"form"},Od={class:"mb-1"},jd=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Name",-1),hd={key:0,class:"text-danger error-txt"},gd={class:"mb-1"},fd=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},"Email",-1),Vd={key:0,class:"text-danger error-txt"},Ed={class:"mb-1"},xd=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Phone",-1),Nd={key:0,class:"text-danger error-txt"},vd={class:"mb-1"},yd=Object(l["createElementVNode"])("label",{class:"input-label",for:"website"},"Website",-1),wd={key:0,class:"text-danger error-txt"},kd={class:"mb-1"},Ad=Object(l["createElementVNode"])("label",{class:"input-label",for:"address"},"Address",-1),Sd={key:0,class:"text-danger error-txt"},Bd={key:0,class:"mb-1"},Cd=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Organization",-1),_d=Object(l["createElementVNode"])("br",null,null,-1),Dd=["value"],Pd={key:0,class:"text-danger error-txt"},Id={class:"mb-1"},Td=Object(l["createElementVNode"])("label",{class:"input-label",for:"country"},"Country",-1),zd=Object(l["createElementVNode"])("br",null,null,-1),Md=["value"],Fd={key:0,class:"text-danger error-txt"},Ud={class:"mb-1"},Ld=Object(l["createElementVNode"])("label",{class:"input-label",for:"city"},"City",-1),qd={key:0,class:"text-danger error-txt"},Rd={class:"mb-1"},$d=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Zip Code",-1),Qd={key:0,class:"text-danger error-txt"},Jd={class:"mb-1"},Hd=Object(l["createElementVNode"])("label",{class:"input-label",for:"teachers_count"},"Teachers Count",-1),Wd={key:0,class:"text-danger error-txt"},Zd={class:"mb-1"},Yd=Object(l["createElementVNode"])("label",{class:"input-label",for:"students_count"},"Students Count",-1),Kd={key:0,class:"text-danger error-txt"},Gd={class:"mb-1"},Xd=Object(l["createElementVNode"])("label",{class:"input-label",for:"stages"},"Stages",-1),em={key:0,class:"text-danger error-txt"},tm={class:"mb-1"},am=Object(l["createElementVNode"])("label",{class:"input-label",for:"tagLine"},"Tag Line",-1),lm={key:0,class:"text-danger error-txt"},cm={class:"mb-1"},om=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Status",-1),sm=Object(l["createElementVNode"])("br",null,null,-1),nm=["value"],rm={key:0,class:"text-danger error-txt"},im={class:"mt-4"};function dm(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ed,[Object(l["createElementVNode"])("div",td,[Object(l["createElementVNode"])("div",ad,[Object(l["createElementVNode"])("div",ld,[cd,Object(l["createElementVNode"])("div",od,[Object(l["createElementVNode"])("div",sd,[Object(l["createElementVNode"])("div",nd,[o.isError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",rd,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.validationErrors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{key:t,class:"pass-text"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e),1),id]))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",dd,[Object(l["createElementVNode"])("div",md,[Object(l["createElementVNode"])("div",bd,[Object(l["createElementVNode"])("div",ud,[Object(l["createElementVNode"])("form",pd,[Object(l["createElementVNode"])("div",Od,[jd,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newSchool.title=e),type:"text",placeholder:"School Name",name:"name"},null,512),[[l["vModelText"],o.newSchool.title]]),""!==o.formValidation&&""!==o.formValidation["title"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",hd,"Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",gd,[fd,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newSchool.email=e),type:"email",placeholder:"Email",name:"email"},null,512),[[l["vModelText"],o.newSchool.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Vd,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Ed,[xd,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>o.newSchool.phone=e),type:"tel",placeholder:"Phone",name:"phone"},null,512),[[l["vModelText"],o.newSchool.phone]]),""!==o.formValidation&&""!==o.formValidation["phone"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Nd,"Phone is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",vd,[yd,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>o.newSchool.website=e),type:"url",placeholder:"Website",name:"website"},null,512),[[l["vModelText"],o.newSchool.website]]),""!==o.formValidation&&""!==o.formValidation["website"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",wd,"Website is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",kd,[Ad,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[4]||(t[4]=e=>o.newSchool.address=e),type:"text",placeholder:"Address",name:"address"},null,512),[[l["vModelText"],o.newSchool.address]]),""!==o.formValidation&&""!==o.formValidation["address"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Sd,"Address is required")):Object(l["createCommentVNode"])("",!0)]),"super_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Bd,[Cd,_d,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[5]||(t[5]=e=>o.newSchool.organization_id=e),id:"name",type:"select",placeholder:"Zip",name:"zip"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableOrganizations,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.name),9,Dd))),128))],512),[[l["vModelSelect"],o.newSchool.organization_id]]),""!==o.formValidation&&""!==o.formValidation["organization_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Pd,"Organization is required")):Object(l["createCommentVNode"])("",!0)])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",Id,[Td,zd,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[6]||(t[6]=e=>o.newSchool.country=e),id:"country",type:"select",placeholder:"Country",name:"country"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableCountries,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,Md))),128))],512),[[l["vModelSelect"],o.newSchool.country]]),""!==o.formValidation&&""!==o.formValidation["country"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Fd,"Country is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Ud,[Ld,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[7]||(t[7]=e=>o.newSchool.city=e),type:"text",placeholder:"City",name:"city"},null,512),[[l["vModelText"],o.newSchool.city]]),""!==o.formValidation&&""!==o.formValidation["city"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",qd,"City is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Rd,[$d,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[8]||(t[8]=e=>o.newSchool.zip=e),type:"text",placeholder:"Zip Code",name:"zip"},null,512),[[l["vModelText"],o.newSchool.zip]]),""!==o.formValidation&&""!==o.formValidation["zip"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Qd,"Zip is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Jd,[Hd,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"teachers_count","onUpdate:modelValue":t[9]||(t[9]=e=>o.newSchool.teachers_count=e),type:"number",placeholder:"Teachers Count",name:"teachers_count"},null,512),[[l["vModelText"],o.newSchool.teachers_count]]),""!==o.formValidation&&""!==o.formValidation["teachers_count"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Wd,"Teachers Count is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Zd,[Yd,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"students_count","onUpdate:modelValue":t[10]||(t[10]=e=>o.newSchool.students_count=e),type:"number",placeholder:"Teachers Count",name:"students_count"},null,512),[[l["vModelText"],o.newSchool.students_count]]),""!==o.formValidation&&""!==o.formValidation["students_count"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Kd,"Students Count is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Gd,[Xd,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"stages","onUpdate:modelValue":t[11]||(t[11]=e=>o.newSchool.stages=e),type:"text",placeholder:"Stages",name:"stages"},null,512),[[l["vModelText"],o.newSchool.stages]]),""!==o.formValidation&&""!==o.formValidation["stages"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",em,"Stages is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",tm,[am,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[12]||(t[12]=e=>o.newSchool.tagline=e),type:"text",placeholder:"Tag Line",name:"tagLine"},null,512),[[l["vModelText"],o.newSchool.tagline]]),""!==o.formValidation&&""!==o.formValidation["tagline"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",lm,"Tagline is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",cm,[om,sm,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>o.newSchool.status=e),class:"select-box",id:"name",type:"select",placeholder:"Zip",name:"zip"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableSchools,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,nm))),128))],512),[[l["vModelSelect"],o.newSchool.status]]),""!==o.formValidation&&""!==o.formValidation["status"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",rm,"Status is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",im,[Object(l["createElementVNode"])("button",{onClick:t[14]||(t[14]=Object(l["withModifiers"])((...e)=>s.updateData&&s.updateData(...e),["prevent"])),style:{"font-size":"12px","background-color":"#573078"},class:"btn ms-3 text-white fw-5 border-0 px-5 py-2 border-radius-lg"}," Save ")])])])])])])])])])])])])])}Object(l["popScopeId"])();var mm={name:"",components:{},mounted(){this.getUser(),this.editSchool(),this.getOrganizations()},updated(){this.$permissions.redirectIfNotAllowed("edit_school")},data(){return{isError:!1,validationErrors:"",user:"",formValidation:"",availableCountries:["UK","USA","Canada"],schoolData:"",newSchool:{organization_id:"",title:"",website:"",email:"",phone:"",country:"",city:"",zip:"",address:"",tagline:"",teachers_count:"",students_count:"",stages:"",status:""},availableSchools:["active","pending","blocked"],availableOrganizations:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("edit_school");let e=!1,t="";t=Wc()(this.newSchool);for(let a in this.newSchool)""===this.newSchool[a]||void 0===this.newSchool[a]?(t[a]="is required",e=!0):t[a]="";return this.formValidation=t,e},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async editSchool(){let e=this.$route.params.id;try{const t=await ia.get("/editSchool/"+e);this.setData(t)}catch(t){console.log(t)}},setData(e){let t;e&&(t=e.data,this.newSchool.organization_id=t.organization_id,this.newSchool.website=t.website,this.newSchool.title=t.title,this.newSchool.website=t.website,this.newSchool.email=t.email,this.newSchool.phone=t.phone,this.newSchool.country=t.country,this.newSchool.city=t.city,this.newSchool.state=t.state,this.newSchool.zip=t.zip,this.newSchool.address=t.address,this.newSchool.tagline=t.tagline,this.newSchool.teachers_count=t.teachers_count,this.newSchool.students_count=t.students_count,this.newSchool.stages=t.stages,this.newSchool.status=t.status,this.newSchool.description=t.description)},async updateData(){if(this.validateForm())return;let e=this.$route.params.id;try{let t="/updateSchool/"+e;"organization_admin"==this.user.role&&(t="/updateSchool/"+e+"/"+this.user.id),await ia.put(t,this.newSchool),this.$router.push({name:"list-schools"}),this.snackbarMsg("School Updated")}catch(t){console.log(t),this.isError=!0,this.validationErrors=t.response.data.errors}},async getOrganizations(){try{const e=await ia.get("/getAllOrganizations");this.availableOrganizations=e.data}catch(e){console.log(e)}}}};a("1b06");const bm=Te()(mm,[["render",dm],["__scopeId","data-v-10d4df66"]]);var um=bm;const pm={class:"col-12 col-md-6 col-xl-6 position-relative"},Om={class:"card card-plain h-100"},jm=Object(l["createElementVNode"])("div",{class:"p-3 pb-0 card-header"},[Object(l["createElementVNode"])("h6",{class:"mb-0"},"Barnding Settings")],-1),hm={class:"p-3 card-body"},gm={class:"list-group"},fm={class:"px-0 mb-2 border-0 list-group-item d-flex align-items-center"},Vm={class:"col-md-5 mx-auto bg-white new-pass p-2"},Em=Object(l["createElementVNode"])("label",null,"Primary Color",-1),xm=Object(l["createElementVNode"])("br",null,null,-1),Nm=Object(l["createElementVNode"])("label",null,"Secondary Color",-1),vm=Object(l["createElementVNode"])("br",null,null,-1),ym=Object(l["createElementVNode"])("label",null,"Logo",-1),wm=["src"],km=Object(l["createElementVNode"])("br",null,null,-1),Am=Object(l["createElementVNode"])("hr",{class:"vertical dark"},null,-1);function Sm(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",pm,[Object(l["createElementVNode"])("div",Om,[jm,Object(l["createElementVNode"])("div",hm,[Object(l["createElementVNode"])("ul",gm,[Object(l["createElementVNode"])("li",fm,[Object(l["createElementVNode"])("div",Vm,[Em,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.branding.primaryColor=e),id:"card-holder-name",type:"text",class:"bg-white w-100  mb-2"},null,512),[[l["vModelText"],o.branding.primaryColor]]),xm,Nm,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.branding.SecondaryColor=e),id:"card-holder-name",type:"text",class:"bg-white w-100  mb-2"},null,512),[[l["vModelText"],o.branding.SecondaryColor]]),vm,ym,Object(l["createElementVNode"])("input",{onChange:t[2]||(t[2]=(...e)=>s.onFileChange&&s.onFileChange(...e)),id:"card-holder-name",type:"file",class:"bg-white w-100  mb-2"},null,32),o.imageUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])("img",{key:0,src:o.imageUrl,height:"60",width:"60",alt:"Selected Image"},null,8,wm)):Object(l["createCommentVNode"])("",!0),km,Object(l["createElementVNode"])("button",{onClick:t[3]||(t[3]=e=>s.updateBranding()),style:{"font-size":"12px","background-color":"#573078"},class:"save-pass-btn p-2 mb-3 trips-btn  text-white fw-5 border-radius-lg"},"Update Settings ")])])])])]),Am])}var Bm={mounted(){this.getSettings()},computed:{...Object(De["c"])(["getBrandingSetting"])},data(){return{imageUrl:null,selectedFile:null,branding:{primaryColor:"",SecondaryColor:"",logo:""}}},methods:{onFileChange(e){const t=e.target.files[0];t&&(this.imageUrl=URL.createObjectURL(t),this.selectedFile=t)},async getSettings(){let e=this.$route.params.id;const t=new FormData;t.append("school_id",e);try{let e=await ia.post("/getSettings",t);this.branding.primaryColor=Wc()(e.data.primary_color),this.branding.SecondaryColor=Wc()(e.data.secondary_color),this.imageUrl="https://stagingapi.student-pay.co.uk"+e.data.logo,console.log(this.selectedFile)}catch(a){console.log(a)}},async updateBranding(){let e=this.$route.params.id;const t=new FormData;t.append("logo",this.selectedFile),t.append("primary_color",this.branding.primaryColor),t.append("secondary_color",this.branding.SecondaryColor),t.append("school_id",e);try{await ia.post("/storebranding",t)}catch(a){console.log(a)}}}};const Cm=Te()(Bm,[["render",Sm]]);var _m=Cm;const Dm={class:"container-fluid py-4"},Pm={class:"row"},Im={class:"col-12"},Tm={class:"card my-4"},zm={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-3"},Mm=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Students",-1),Fm=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4 border-radius-lg"}," Add Student ",-1),Um=Object(l["createElementVNode"])("h2",null,"Modal Content",-1),Lm=Object(l["createElementVNode"])("p",null,"This is the content of the modal.",-1),qm={class:"filter-container"},Rm=["value"],$m=Object(l["createElementVNode"])("i",{class:"fas fa-filter filter-icon me-1"},null,-1),Qm={class:"card-body px-0 pb-2"},Jm={class:"icon-container"},Hm=Object(l["createElementVNode"])("span",{class:"label-text bulk_topup"},"Bulk Topup",-1),Wm=[Hm],Zm={class:"table-responsive p-0 student-table"},Ym={class:"table align-items-center mb-0"},Km={class:"thead"},Gm={class:"pe-5"},Xm={class:"form-check",style:{"margin-left":"0px !important"}},eb=Object(l["createElementVNode"])("label",{for:"",class:"custom-control-label"},null,-1),tb=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," MIFARE ID ",-1),ab=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Name ",-1),lb=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Email ",-1),cb=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," School ",-1),ob=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," FSM ",-1),sb=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Balance ",-1),nb={key:0,class:"text-center text-uppercase text-xxs font-weight-bolder"},rb={key:1,class:"text-center text-uppercase text-xxs font-weight-bolder"},ib=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Status ",-1),db=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Action ",-1),mb={class:"text-sm"},bb={class:"form-check",style:{"margin-left":"17px !important"}},ub=["checked","onChange"],pb=Object(l["createElementVNode"])("label",{for:"",class:"custom-control-label"},null,-1),Ob={class:"align-middle text-center text-sm"},jb={class:"text-xs font-weight-bold mb-0"},hb={class:"text-xs font-weight-bold mb-0"},gb={class:"text-xs font-weight-bold mb-0"},fb={class:"align-middle text-center"},Vb={class:"text-secondary text-xs font-weight-bold"},Eb={class:"align-middle text-center"},xb={class:"align-middle text-center"},Nb={class:"text-secondary text-xs font-weight-bold"},vb={key:0,class:"align-middle text-center"},yb=Object(l["createElementVNode"])("i",{class:"fas fa-donate fs-5 me-2"},null,-1),wb={key:1,class:"align-middle text-center"},kb=["onClick"],Ab={class:"align-middle text-center text-sm"},Sb={class:"badge badge-sm bg-gradient-success"},Bb={class:"align-middle text-center"},Cb=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"edit",-1),_b=["onClick"],Db={class:"row"},Pb={class:"col-md-12 col-lg-12"},Ib={class:"page-nav","aria-label":"Page navigation"},Tb={class:"pagination mt-4 mb-4"},zb=["disabled"],Mb=["onClick"],Fb=["disabled"];function Ub(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link"),r=Object(l["resolveComponent"])("BulkTopup");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Dm,[Object(l["createElementVNode"])("div",Pm,[Object(l["createElementVNode"])("div",Im,[Object(l["createElementVNode"])("div",Tm,[Object(l["createElementVNode"])("div",zm,[Mm,s.userPermissions.create_student?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"add-student"}},{default:Object(l["withCtx"])(()=>[Fm]),_:1})):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",null,[Object(l["createVNode"])(r,{show:o.showModal,task:e.task,onClose:t[0]||(t[0]=e=>o.showModal=!1),onUpdateTask:s.updateAmount},{default:Object(l["withCtx"])(()=>[Um,Lm]),_:1},8,["show","task","onUpdateTask"]),Object(l["createElementVNode"])("div",qm,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box filter-box",onKeyup:t[1]||(t[1]=(...e)=>s.filterStudents&&s.filterStudents(...e)),"onUpdate:modelValue":t[2]||(t[2]=e=>o.seachString=e),id:"name",type:"text",placeholder:"Type to Search...",name:"address"},null,544),[[l["vModelText"],o.seachString]]),Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{onChange:t[3]||(t[3]=(...e)=>s.filterStudents&&s.filterStudents(...e)),class:"select-box filter-type-btn","onUpdate:modelValue":t[4]||(t[4]=e=>o.filterBy=e),id:"filter",type:"select",placeholder:"Filter",name:"filter"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allFields,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,Rm))),128))],544),[[l["vModelSelect"],o.filterBy]]),$m])]),Object(l["createElementVNode"])("div",Qm,[Object(l["createElementVNode"])("div",Jm,[Object(l["createElementVNode"])("div",{class:"icon-label",onClick:t[5]||(t[5]=e=>o.showModal=!0)},Wm)]),Object(l["createElementVNode"])("div",Zm,[Object(l["createElementVNode"])("table",Ym,[Object(l["createElementVNode"])("thead",Km,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",Gm,[Object(l["createElementVNode"])("div",Xm,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{onChange:t[6]||(t[6]=(...e)=>s.selectAll&&s.selectAll(...e)),"onUpdate:modelValue":t[7]||(t[7]=e=>o.selectall=e),id:"",class:"form-check-input",type:"checkbox",name:""},null,544),[[l["vModelCheckbox"],o.selectall]]),eb])]),tb,ab,lb,cb,ob,sb,s.userPermissions.wallet?(Object(l["openBlock"])(),Object(l["createElementBlock"])("th",nb," Wallet ")):Object(l["createCommentVNode"])("",!0),s.userPermissions.topup?(Object(l["openBlock"])(),Object(l["createElementBlock"])("th",rb," Topup ")):Object(l["createCommentVNode"])("",!0),ib,db])]),Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allStudents,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",mb,[Object(l["createElementVNode"])("div",bb,[Object(l["createElementVNode"])("input",{checked:s.checkIfSelected(e.user.id),onChange:t=>s.selectRecord(e.user.id),id:"",class:"form-check-input",type:"checkbox",name:""},null,40,ub),pb])]),Object(l["createElementVNode"])("td",Ob,[Object(l["createElementVNode"])("p",jb,Object(l["toDisplayString"])(e.mifare_id),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",hb,Object(l["toDisplayString"])(e.user.first_name)+" "+Object(l["toDisplayString"])(e.user.last_name),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",gb,Object(l["toDisplayString"])(e.user.email),1)]),Object(l["createElementVNode"])("td",fb,[Object(l["createElementVNode"])("span",Vb,Object(l["toDisplayString"])(e.school?e.school.title:"-"),1)]),Object(l["createElementVNode"])("td",Eb,[Object(l["createElementVNode"])("span",{class:Object(l["normalizeClass"])(["text-secondary text-xs font-weight-bold",null===e.fsm_amount?"text-danger":"text-success"])},Object(l["toDisplayString"])(null!==e.fsm_amount?"£"+s.formattedPrice(e.fsm_amount):"No FSM"),3)]),Object(l["createElementVNode"])("td",xb,[Object(l["createElementVNode"])("span",Nb,"£"+Object(l["toDisplayString"])(s.formattedPrice(e.user.balance?e.user.balance.ballance:0)),1)]),s.userPermissions.wallet?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",vb,[Object(l["createVNode"])(n,{to:{name:"balance",params:{id:e.user.id}},title:"Wallet"},{default:Object(l["withCtx"])(()=>[yb]),_:2},1032,["to"])])):Object(l["createCommentVNode"])("",!0),s.userPermissions.topup?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",wb,[Object(l["createElementVNode"])("i",{onClick:t=>s.topUps(e.user.id),class:"hover-pointer material-icons-round opacity-10 fs-5"},"credit_card",8,kb)])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("td",Ab,[Object(l["createElementVNode"])("span",Sb,Object(l["toDisplayString"])(e.user.status),1)]),Object(l["createElementVNode"])("td",Bb,[Object(l["createElementVNode"])("span",null,[s.userPermissions.edit_student?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"edit-student",params:{id:e.id}}},{default:Object(l["withCtx"])(()=>[Cb]),_:2},1032,["to"])):Object(l["createCommentVNode"])("",!0),s.userPermissions.delete_student?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",{key:1,onClick:t=>s.confirmDelete(e.user.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"delete",8,_b)):Object(l["createCommentVNode"])("",!0)])])]))),128))])])])]),Object(l["createElementVNode"])("div",Db,[Object(l["createElementVNode"])("div",Pb,[Object(l["createElementVNode"])("nav",Ib,[Object(l["createElementVNode"])("ul",Tb,[Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:1===o.currentPage}])},[Object(l["createElementVNode"])("i",{class:"page-link material-icons-round opacity-10 fs-5",disabled:1===o.currentPage,onClick:t[8]||(t[8]=e=>s.getAllStudents(o.currentPage-1)),tabindex:"-1","aria-disabled":"true"},"arrow_back",8,zb)],2),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.totalPages,e=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:Object(l["normalizeClass"])(["page-item",{active:o.currentPage===e}]),key:e},[Object(l["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t=>s.getAllStudents(e)},Object(l["toDisplayString"])(e),9,Mb)],2))),128)),Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:o.currentPage===o.totalPages}])},[Object(l["createElementVNode"])("i",{class:"page-link material-icons-round opacity-10 fs-5",disabled:o.currentPage===o.totalPages,onClick:t[9]||(t[9]=e=>s.getAllStudents(o.currentPage+1)),tabindex:"-1","aria-disabled":"true"},"arrow_forward",8,Fb)],2)])])])])])])])])}Object(l["pushScopeId"])("data-v-4912dc64");const Lb={key:0,class:"modal fade show",tabindex:"-1",style:{display:"block"},"aria-modal":"true",role:"dialog"},qb={class:"modal-dialog"},Rb={class:"modal-content"},$b={class:"modal-header"},Qb=Object(l["createElementVNode"])("h5",{class:"h5 modal-title"},"Bulk Topup",-1),Jb=Object(l["createElementVNode"])("span",{"aria-hidden":"true"},"×",-1),Hb=[Jb],Wb={class:"pt-4 modal-body"},Zb=Object(l["createElementVNode"])("input",{id:"jkanban-task-id",class:"d-none"},null,-1),Yb={class:"mb-4 input-group"},Kb=Object(l["createElementVNode"])("span",{class:"input-group-text"},[Object(l["createElementVNode"])("i",{class:"far fa-edit","aria-hidden":"true"})],-1),Gb={key:0,class:"alert alert-success"},Xb={class:"text-end"};function eu(e,t,a,c,o,s){return a.show?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Lb,[Object(l["createElementVNode"])("div",qb,[Object(l["createElementVNode"])("div",Rb,[Object(l["createElementVNode"])("div",$b,[Qb,Object(l["createElementVNode"])("button",{type:"button",class:"btn-close text-dark",onClick:t[0]||(t[0]=(...e)=>s.closeModal&&s.closeModal(...e)),"aria-label":"Close"},Hb)]),Object(l["createElementVNode"])("div",Wb,[Zb,Object(l["createElementVNode"])("div",Yb,[Kb,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"jkanban-task-title","onUpdate:modelValue":t[1]||(t[1]=e=>s.formattedBalance=e),class:"form-control",placeholder:"Topup amount",type:"text"},null,512),[[l["vModelText"],s.formattedBalance]])]),o.successMessage?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Gb,Object(l["toDisplayString"])(o.successMessage),1)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",Xb,[Object(l["createElementVNode"])("button",{onClick:t[2]||(t[2]=(...e)=>s.saveChanges&&s.saveChanges(...e)),class:"m-1 btn btn-primary"}," Topup "),Object(l["createElementVNode"])("button",{onClick:t[3]||(t[3]=(...e)=>s.closeModal&&s.closeModal(...e)),class:"m-1 btn btn-secondary"}," Close ")])])])])])):Object(l["createCommentVNode"])("",!0)}Object(l["popScopeId"])();var tu={props:{show:{type:Boolean,required:!0},task:{type:Object,default:()=>({title:"",assignee:"",description:""})}},computed:{formattedBalance:{get(){return this.addedBalance},set(e){const t=parseFloat(e).toFixed(2);this.addedBalance=t}}},data(){return{addedBalance:null,localTask:{...this.task},successMessage:""}},watch:{task:{handler(e){this.localTask={...e}},deep:!0,immediate:!0}},methods:{closeModal(){this.$emit("close")},saveChanges(){this.$emit("update-task",this.addedBalance),this.closeModal()}}};a("5e72");const au=Te()(tu,[["render",eu],["__scopeId","data-v-4912dc64"]]);var lu=au,cu={name:"tables",mounted(){this.setColor(),this.getUser(),this.getAllStudents()},updated(){this.$permissions.redirectIfNotAllowed("view_student")},components:{BulkTopup:lu},data(){return{topUpAmount:null,showModal:!1,selectall:!1,selectedRecords:[],filterBy:"Name",seachString:"",allFields:["Student Id","Name","Email"],allStudents:"",schools:6,user:"",totalRows:"",currentPage:"",perPage:"",totalPages:"",allPages:""}},computed:{...Object(De["c"])(["getBrandingSetting"]),userPermissions(){return this.$permissions.userPermissions.value}},methods:{async updateAmount(e){this.topUpAmount=e;let t=[];this.selectedRecords.filter(e=>{e.value&&t.push(e.id)});let a={topup_amount:this.topUpAmount,students:t};if(t.length&&null!=this.topUpAmount)try{const e=await ia.post("/bulkTopUp",a);this.snackbarMsg(e.data.message),this.getAllStudents()}catch(l){console.log(l)}else this.snackbarMsg("Please select the students and enter amount!")},selectAll(){this.selectedRecords=[],this.allStudents.filter(e=>{this.selectall?this.selectedRecords.push({id:e.user.id,value:!0}):this.selectedRecords.push({id:e.user.id,value:!1})})},checkIfSelected(e){const t=this.selectedRecords.find(t=>t.id===e);return!!t&&t.value},selectRecord(e){const t=this.selectedRecords.find(t=>t.id===e);t.value?t.value=!1:t.value=!0},setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},confirmDelete(e){qn.a.fire({title:"Are you sure?",text:"Item will be archived and you will be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&this.deleteStudent(e)})},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},topUps(e){this.$router.push("/payment_account/"+e)},transactionHistoryNav(e){this.$router.push("/student-billing/"+e)},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async filterStudents(){if(""==this.filterBy&&""==this.seachString)return void this.getAllStudents();if(""!=this.filterBy&&""==this.seachString)return void this.getAllStudents();let e={type:this.filterBy,value:this.seachString};try{const t=await ia.post("/filterStudent",e);this.allStudents=t.data.data,this.totalRows=t.data.total,this.currentPage=t.data.current_page,this.perPage=t.per_page,this.totalPages=t.data.last_page}catch(t){console.log(t)}},async getAllStudents(e=null){try{let t={user_id:this.user.id,role:this.user.role,page:""};t.page=e;const a=await ia.post("getAllStudents",t);this.allStudents=a.data.data,this.totalRows=a.data.total,this.currentPage=a.data.current_page,this.perPage=a.per_page,this.totalPages=a.data.last_page}catch(t){console.log(t)}},async deleteStudent(e){try{await ia.delete("/deleteStudent/"+e),this.removeStudentFromList(e),this.snackbarMsg("Student Deleted")}catch(t){console.log(t)}},removeStudentFromList(e){const t=this.allStudents.findIndex(t=>t.user.id===e);this.allStudents.splice(t,1)}}};a("6e97");const ou=Te()(cu,[["render",Ub]]);var su=ou;const nu={class:"container-fluid"},ru={class:"row"},iu={class:"col-12"},du={class:"card my-1"},mu=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between  border-radius-lg pt-4 pb-3"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Archived Students")],-1),bu={class:"card-body px-0 pb-2"},uu={class:"icon-container"},pu=Object(l["createElementVNode"])("span",{class:"label-text"},"Bulk Restore",-1),Ou=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-6 cursor-pointer"},"restore",-1),ju=[pu,Ou],hu=Object(l["createElementVNode"])("span",{class:"label-text"},"Bulk Delete",-1),gu=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-6 cursor-pointer"},"delete",-1),fu=[hu,gu],Vu=["value"],Eu={class:"table-responsive p-0 student-table"},xu={class:"table align-items-center mb-0"},Nu={class:""},vu={class:"form-check",style:{"margin-left":"-20px"}},yu=Object(l["createElementVNode"])("label",{for:"",class:"custom-control-label"},null,-1),wu=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," MIFARE ID ",-1),ku=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Name ",-1),Au=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Email ",-1),Su=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," School ",-1),Bu=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Status ",-1),Cu={class:"align-middle text-center text-sm"},_u={class:"form-check"},Du=["checked","onChange"],Pu=Object(l["createElementVNode"])("label",{for:"",class:"custom-control-label"},null,-1),Iu={class:"align-middle text-center text-sm"},Tu={class:"text-xs font-weight-bold mb-0"},zu={class:"text-xs font-weight-bold mb-0"},Mu={class:"text-xs font-weight-bold mb-0"},Fu={class:"align-middle text-center"},Uu={class:"text-secondary text-xs font-weight-bold"},Lu={class:"align-middle text-center text-sm"},qu={class:"badge badge-sm bg-gradient-success"},Ru={class:"row"},$u={class:"col-md-12 col-lg-12"},Qu={class:"page-nav","aria-label":"Page navigation"},Ju={class:"pagination mt-4 mb-4"},Hu=["disabled"],Wu=["onClick"],Zu=["disabled"];function Yu(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",nu,[Object(l["createElementVNode"])("div",ru,[Object(l["createElementVNode"])("div",iu,[Object(l["createElementVNode"])("div",du,[mu,Object(l["createElementVNode"])("div",bu,[Object(l["createElementVNode"])("div",uu,[Object(l["createElementVNode"])("div",{class:"icon-label",onClick:t[0]||(t[0]=e=>s.confirmAction("restore"))},ju),s.userPermissions.delete_student?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"icon-label",onClick:t[1]||(t[1]=e=>s.confirmAction("delete"))},fu)):Object(l["createCommentVNode"])("",!0),Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box filter-box",onKeyup:t[2]||(t[2]=(...e)=>s.filterStudents&&s.filterStudents(...e)),"onUpdate:modelValue":t[3]||(t[3]=e=>o.seachString=e),id:"name",type:"text",placeholder:"Type to Search...",name:"address"},null,544),[[l["vModelText"],o.seachString]]),Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{onChange:t[4]||(t[4]=(...e)=>s.filterStudents&&s.filterStudents(...e)),class:"select-box filter-type-btn","onUpdate:modelValue":t[5]||(t[5]=e=>o.filterBy=e),id:"filter",type:"select",placeholder:"Filter",name:"filter"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allFields,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,Vu))),128))],544),[[l["vModelSelect"],o.filterBy]])]),Object(l["createElementVNode"])("div",Eu,[Object(l["createElementVNode"])("table",xu,[Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",Nu,[Object(l["createElementVNode"])("div",vu,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{onChange:t[6]||(t[6]=(...e)=>s.selectAll&&s.selectAll(...e)),"onUpdate:modelValue":t[7]||(t[7]=e=>o.selectall=e),id:"",class:"form-check-input",type:"checkbox",name:""},null,544),[[l["vModelCheckbox"],o.selectall]]),yu])]),wu,ku,Au,Su,Bu])]),Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allStudents,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",Cu,[Object(l["createElementVNode"])("div",_u,[Object(l["createElementVNode"])("input",{checked:s.checkIfSelected(e.user.id),onChange:t=>s.selectRecord(e.user.id),id:"",class:"form-check-input",type:"checkbox",name:""},null,40,Du),Pu])]),Object(l["createElementVNode"])("td",Iu,[Object(l["createElementVNode"])("p",Tu,Object(l["toDisplayString"])(e.mifare_id),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",zu,Object(l["toDisplayString"])(e.user.first_name)+" "+Object(l["toDisplayString"])(e.user.last_name),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",Mu,Object(l["toDisplayString"])(e.user.email),1)]),Object(l["createElementVNode"])("td",Fu,[Object(l["createElementVNode"])("span",Uu,Object(l["toDisplayString"])(e.school?e.school.title:"-"),1)]),Object(l["createElementVNode"])("td",Lu,[Object(l["createElementVNode"])("span",qu,Object(l["toDisplayString"])(e.user.status),1)])]))),128))])])])]),Object(l["createElementVNode"])("div",Ru,[Object(l["createElementVNode"])("div",$u,[Object(l["createElementVNode"])("nav",Qu,[Object(l["createElementVNode"])("ul",Ju,[Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:1===o.currentPage}])},[Object(l["createElementVNode"])("i",{class:"page-link material-icons-round opacity-10 fs-5",disabled:1===o.currentPage,onClick:t[8]||(t[8]=e=>s.getAllStudents(o.currentPage-1)),tabindex:"-1","aria-disabled":"true"},"arrow_back",8,Hu)],2),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.totalPages,e=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:Object(l["normalizeClass"])(["page-item",{active:o.currentPage===e}]),key:e},[Object(l["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t=>s.getAllStudents(e)},Object(l["toDisplayString"])(e),9,Wu)],2))),128)),Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:o.currentPage===o.totalPages}])},[Object(l["createElementVNode"])("i",{class:"page-link material-icons-round opacity-10 fs-5",disabled:o.currentPage===o.totalPages,onClick:t[9]||(t[9]=e=>s.getAllStudents(o.currentPage+1)),tabindex:"-1","aria-disabled":"true"},"arrow_forward",8,Zu)],2)])])])])])])])])}var Ku={name:"tables",async mounted(){this.setColor(),await this.getUser(),await this.getAllStudents(),await this.selectAll()},updated(){this.$permissions.redirectIfNotAllowed("view_student")},data(){return{selectall:!1,selectedRecords:[],filterBy:"Name",seachString:"",allFields:["Student Id","Name","Email"],allStudents:"",schools:6,user:"",totalRows:"",currentPage:"",perPage:"",totalPages:"",allPages:""}},computed:{...Object(De["c"])(["getBrandingSetting"]),userPermissions(){return this.$permissions.userPermissions.value}},methods:{setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},selectAll(){this.selectedRecords=[],this.allStudents.filter(e=>{this.selectall?this.selectedRecords.push({id:e.user.id,value:!0}):this.selectedRecords.push({id:e.user.id,value:!1})})},checkIfSelected(e){const t=this.selectedRecords.find(t=>t.id===e);return!!t&&t.value},selectRecord(e){const t=this.selectedRecords.find(t=>t.id===e);t.value?t.value=!1:t.value=!0},async bulkDelete(){let e=[];if(this.selectedRecords.filter(t=>{t.value&&e.push(t.id)}),e.length){const t=await ia.post("/bulkDeleteStudents",e);this.snackbarMsg(t.data.message),this.getAllStudents()}},async bulkRestore(){let e=[];if(this.selectedRecords.filter(t=>{t.value&&e.push(t.id)}),e.length){const t=await ia.post("/bulkRestoreStudents",e);this.snackbarMsg(t.data.message),this.getAllStudents()}else this.snackbarMsg("Error: data not selected")},confirmAction(e){qn.a.fire({title:"Are you sure?",text:"delete"==e?"Items will be deleted permanently and you will not be able to revert this!":"Items Will be restored to the students",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"delete"==e?"Yes, delete it!":"Yes, restore it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&("delete"==e?this.bulkDelete():"restore"==e&&this.bulkRestore())})},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},topUps(e){this.$router.push("/payment_account/"+e)},transactionHistoryNav(e){this.$router.push("/student-billing/"+e)},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async filterStudents(){if(""==this.filterBy&&""==this.seachString)return void this.getAllStudents();if(""!=this.filterBy&&""==this.seachString)return void this.getAllStudents();let e={type:this.filterBy,value:this.seachString};try{const t=await ia.post("/filterStudent",e);this.allStudents=t.data.data,this.totalRows=t.data.total,this.currentPage=t.data.current_page,this.perPage=t.per_page,this.totalPages=t.data.last_page}catch(t){console.log(t)}},async getAllStudents(e=null){try{let t={user_id:this.user.id,role:this.user.role,page:""};t.page=e;const a=await ia.post("archivedStudents",t);this.allStudents=a.data.data,this.totalRows=a.data.total,this.currentPage=a.data.current_page,this.perPage=a.per_page,this.totalPages=a.data.last_page}catch(t){console.log(t)}},async deleteStudent(e){try{await ia.delete("/deleteStudent/"+e),this.removeStudentFromList(e),this.snackbarMsg("Student Deleted")}catch(t){console.log(t)}},removeStudentFromList(e){const t=this.allStudents.findIndex(t=>t.id===e);this.allStudents.splice(t,1)}}};a("5730");const Gu=Te()(Ku,[["render",Yu]]);var Xu=Gu;Object(l["pushScopeId"])("data-v-34b116a9");const ep={class:"container-fluid py-4"},tp={class:"row"},ap={class:"col-12"},lp={class:"card my-4"},cp={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-1"},op=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Add Student",-1),sp=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4  border-radius-lg"}," Back ",-1),np={class:"card-body px-0 pb-2"},rp={class:"table-responsive p-0"},ip={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},dp={key:0,class:"mb-3 change-pass-alert"},mp=Object(l["createElementVNode"])("br",null,null,-1),bp={class:"bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},up={class:"form-bg container p-4"},pp=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Personal Information",-1),Op={class:"card card-plain"},jp={class:"card-body"},hp={role:"form"},gp={class:"mb-1"},fp=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},[Object(l["createTextVNode"])("First Name "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),Vp={key:0,class:"text-danger error-txt"},Ep={class:"mb-1"},xp=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},[Object(l["createTextVNode"])("Last Name "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),Np={key:0,class:"text-danger error-txt"},vp={class:"mb-1"},yp=Object(l["createElementVNode"])("label",{class:"input-label",for:"student_id"},[Object(l["createTextVNode"])("Student ID "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),wp={key:0,class:"text-danger error-txt"},kp={class:"mb-1"},Ap=Object(l["createElementVNode"])("label",{class:"input-label",for:"mifare_id"},[Object(l["createTextVNode"])("MIFARE ID "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),Sp={key:0,class:"text-danger error-txt"},Bp={class:"mb-1"},Cp=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},[Object(l["createTextVNode"])("Email "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),_p={key:0,class:"text-danger error-txt"},Dp={class:"mb-1"},Pp=Object(l["createElementVNode"])("label",{class:"input-label",for:"date_of_birth"},"Date Of Birth",-1),Ip={class:"mb-1"},Tp=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},[Object(l["createTextVNode"])("School "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),zp=Object(l["createElementVNode"])("br",null,null,-1),Mp=["value"],Fp={key:0,class:"text-danger error-txt"},Up={class:"mb-1"},Lp=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},[Object(l["createTextVNode"])("Free School Meal (FSM) "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),qp=Object(l["createElementVNode"])("br",null,null,-1),Rp=["value"],$p={key:0,class:"text-danger error-txt"},Qp={class:"mb-1"},Jp=Object(l["createElementVNode"])("label",{class:"input-label",for:"balance"},"Balance",-1),Hp={class:"mb-1"},Wp=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Attribute",-1),Zp=Object(l["createElementVNode"])("br",null,null,-1),Yp={class:"mb-1"},Kp=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},[Object(l["createTextVNode"])("Status "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),Gp=Object(l["createElementVNode"])("br",null,null,-1),Xp=["value"],eO={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},tO={class:""};function aO(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link"),r=Object(l["resolveComponent"])("MultiSelect");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ep,[Object(l["createElementVNode"])("div",tp,[Object(l["createElementVNode"])("div",ap,[Object(l["createElementVNode"])("div",lp,[Object(l["createElementVNode"])("div",cp,[op,Object(l["createVNode"])(n,{to:{name:"list-students"}},{default:Object(l["withCtx"])(()=>[sp]),_:1})]),Object(l["createElementVNode"])("div",np,[Object(l["createElementVNode"])("div",rp,[Object(l["createElementVNode"])("div",ip,[o.isError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",dp,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.validationErrors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{key:t,class:"pass-text"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e),1),mp]))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",bp,[Object(l["createElementVNode"])("div",up,[pp,Object(l["createElementVNode"])("div",Op,[Object(l["createElementVNode"])("div",jp,[Object(l["createElementVNode"])("form",hp,[Object(l["createElementVNode"])("div",gp,[fp,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newStudent.first_name=e),type:"text",placeholder:"First Name",name:"first_name"},null,512),[[l["vModelText"],o.newStudent.first_name]]),""!==o.formValidation&&""!==o.formValidation["first_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Vp,"First Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Ep,[xp,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newStudent.last_name=e),type:"text",placeholder:"Last Name",name:"last_name"},null,512),[[l["vModelText"],o.newStudent.last_name]]),""!==o.formValidation&&""!==o.formValidation["last_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Np,"Last Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",vp,[yp,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"student_id","onUpdate:modelValue":t[2]||(t[2]=e=>o.newStudent.student_id=e),type:"text",placeholder:"Student ID",name:"student_id"},null,512),[[l["vModelText"],o.newStudent.student_id]]),""!==o.formValidation&&""!==o.formValidation["student_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",wp,"Student ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",kp,[Ap,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"mifare_id","onUpdate:modelValue":t[3]||(t[3]=e=>o.newStudent.mifare_id=e),type:"text",placeholder:"MIFARE ID",name:"mifare_id"},null,512),[[l["vModelText"],o.newStudent.mifare_id]]),""!==o.formValidation&&""!==o.formValidation["mifare_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Sp,"MIFARE ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Bp,[Cp,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[4]||(t[4]=e=>o.newStudent.email=e),type:"email",placeholder:"email",name:"email"},null,512),[[l["vModelText"],o.newStudent.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",_p,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Dp,[Pp,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"date_of_birth","onUpdate:modelValue":t[5]||(t[5]=e=>o.newStudent.date_of_birth=e),type:"date",placeholder:"date of birth",name:"date_of_birth"},null,512),[[l["vModelText"],o.newStudent.date_of_birth]])]),Object(l["createElementVNode"])("div",Ip,[Tp,zp,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[6]||(t[6]=e=>o.newStudent.school_id=e),id:"school",type:"select",placeholder:"school",name:"school"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allSchools,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.title),9,Mp))),128))],512),[[l["vModelSelect"],o.newStudent.school_id]]),""!==o.formValidation&&""!==o.formValidation["school_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Fp,"School ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Up,[Lp,qp,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[7]||(t[7]=e=>o.newStudent.fsm=e),id:"fsm",type:"select",placeholder:"FSM",name:"fsm"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.fsm,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,Rp))),128))],512),[[l["vModelSelect"],o.newStudent.fsm]]),""!==o.formValidation&&""!==o.formValidation["school_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",$p,"School ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Qp,[Jp,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"balance","onUpdate:modelValue":t[8]||(t[8]=e=>s.formattedBalance=e),type:"number",step:"0.01",min:"0",placeholder:"balance",name:"balance"},null,512),[[l["vModelText"],s.formattedBalance]])]),Object(l["createElementVNode"])("div",Hp,[Wp,Zp,Object(l["createVNode"])(r,{label:"Attributes",options:o.allAttributes,onInput:s.handleAttributes,placeholder:"Attributes"},null,8,["options","onInput"])]),Object(l["createElementVNode"])("div",Yp,[Kp,Gp,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.newStudent.status=e),class:"select-box",id:"status",type:"select",placeholder:"status",name:"status"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableStatus,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,Xp))),128))],512),[[l["vModelSelect"],o.newStudent.status]])])])])])])]),Object(l["createElementVNode"])("div",eO,[Object(l["createElementVNode"])("div",tO,[Object(l["createElementVNode"])("button",{onClick:t[10]||(t[10]=(...e)=>s.saveNewStudent&&s.saveNewStudent(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-5 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Save Student")])])])])])])])])])}Object(l["popScopeId"])(),Object(l["pushScopeId"])("data-v-58ff6324");const lO=["onClick"],cO=["placeholder"],oO={key:0,class:"dropdown"},sO=["onClick"];function nO(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.selectedOptions,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:t,class:"tag"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.name)+" ",1),Object(l["createElementVNode"])("span",{onClick:e=>s.removeTag(t),class:"remove-tag"},"×",8,lO)]))),128)),Object(l["createElementVNode"])("div",null,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.inputValue=e),onInput:t[1]||(t[1]=(...e)=>s.filterOptions&&s.filterOptions(...e)),onKeydown:t[2]||(t[2]=Object(l["withKeys"])(Object(l["withModifiers"])((...e)=>s.addTag&&s.addTag(...e),["prevent"]),["enter"])),onFocus:t[3]||(t[3]=(...e)=>s.showOptions&&s.showOptions(...e)),placeholder:a.placeholder,onBlur:t[4]||(t[4]=(...e)=>s.hideDropdown&&s.hideDropdown(...e))},null,40,cO),[[l["vModelText"],o.inputValue]]),o.showDropdown?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",oO,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(s.filteredOptions,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:t,onClick:t=>s.selectOption(e),class:"option-width"},Object(l["toDisplayString"])(e.name),9,sO))),128))])):Object(l["createCommentVNode"])("",!0)])])}Object(l["popScopeId"])();var rO={props:{label:{type:String,required:!0},options:{type:Array,required:!0},placeholder:{type:String,default:"Pelase select"},value:{type:Array,default:()=>[]}},data(){return{selectedOptions:this.value,inputValue:"",showDropdown:!1}},computed:{filteredOptions(){return this.options.filter(e=>e.name.toLowerCase().includes(this.inputValue.toLowerCase())&&!this.isSelected(e))}},watch:{value(e){this.selectedOptions=e}},methods:{addTag(e){const t=e;console.log(t),t&&!this.isSelected(t)&&(this.selectedOptions.push(t),this.$emit("input",this.selectedOptions),this.inputValue="")},removeTag(e){this.selectedOptions.splice(e,1),this.$emit("input",this.selectedOptions)},filterOptions(){this.showDropdown=!0},showOptions(){this.showDropdown=!0},hideDropdown(){setTimeout(()=>{this.showDropdown=!1},800)},selectOption(e){console.log(e),this.addTag(e),this.showDropdown=!1},isSelected(e){return this.selectedOptions.some(t=>t.name===e.name)}}};a("ed52");const iO=Te()(rO,[["render",nO],["__scopeId","data-v-58ff6324"]]);var dO=iO,mO={name:"",components:{MultiSelect:dO},mounted(){this.getUser(),this.getSchools(),this.getAllAttributes()},updated(){this.$permissions.redirectIfNotAllowed("create_student")},computed:{formattedBalance:{get(){return this.newStudent.balance},set(e){const t=parseFloat(e).toFixed(2);this.newStudent.balance=t}}},data(){return{selected:null,fsm:[!1,!0],allAttributes:"",availableCountries:["UK","USA","Canada"],user:"",isError:!1,formValidation:"",validationErrors:"",multiValue:"",newStudent:{mifare_id:"",school_id:"",student_id:"",attribute_id:"",attributes:[],first_name:"",last_name:"",email:"",date_of_birth:"",status:"",fsm:"",balance:""},availableStatus:["active","pending","blocked"],allSchools:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("create_student");let e=!1,t="";t=Wc()(this.newStudent);for(let a in this.newStudent)""!==this.newStudent[a]&&void 0!==this.newStudent[a]||"attribute_id"===a||"balance"===a||"date_of_birth"===a||"add_amount"===a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,console.log(this.formValidation),e},handleAttributes(e){this.newStudent.attributes=[],e.filter(e=>{this.newStudent.attributes.push(e.id)})},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async saveNewStudent(){if(!this.validateForm())try{let e=await ia.post("/createStudent",this.newStudent);this.isError=!1,e=e.data,this.createCustomer(e.user.id),this.$router.push({name:"list-students"}),this.snackbarMsg("Student Saved Successfuly")}catch(e){this.isError=!0,this.validationErrors=e.response.data.errors}},async getAllAttributes(){try{const e=await ia.get("/getAllAttributes");this.allAttributes=e.data}catch(e){console.log(e)}},async createCustomer(e){let t=this.newStudent.first_name+" "+this.newStudent.last_name,a={user_id:e,name:t,email:this.newStudent.email};try{await ia.post("/createCustomer",a)}catch(l){console.log(l)}},async getSchools(){try{let e="/getAllSchools";"organization_admin"==this.user.role&&(e="/getAllSchools/"+this.user.id);const t=await ia.get(e);this.allSchools=t.data}catch(e){console.log(e)}}}};a("b319");const bO=Te()(mO,[["render",aO],["__scopeId","data-v-34b116a9"]]);var uO=bO;Object(l["pushScopeId"])("data-v-a3353ac0");const pO={class:"container-fluid py-4"},OO={class:"row"},jO={class:"col-12"},hO={class:"card my-4"},gO=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between border-radius-lg pt-4"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Edit Student")],-1),fO={class:"card-body px-0 pb-2"},VO={class:"table-responsive p-0"},EO={class:"row d-flex justify-content-center bg-white form-data border-radius-lg"},xO={key:0,class:"mb-3 change-pass-alert"},NO=Object(l["createElementVNode"])("br",null,null,-1),vO={class:"mt-3 bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},yO={class:"form-bg container p-4"},wO=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Personal Information",-1),kO={class:"card card-plain"},AO={class:"card-body"},SO={role:"form"},BO={class:"mb-1"},CO=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},[Object(l["createTextVNode"])("First Name "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),_O={key:0,class:"text-danger error-txt"},DO={class:"mb-1"},PO=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},[Object(l["createTextVNode"])("Last Name "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),IO={key:0,class:"text-danger error-txt"},TO={class:"mb-1"},zO=Object(l["createElementVNode"])("label",{class:"input-label",for:"mifare_id"},[Object(l["createTextVNode"])("MIFARE ID "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),MO={key:0,class:"text-danger error-txt"},FO={class:"mb-1"},UO=Object(l["createElementVNode"])("label",{class:"input-label",for:"student_id"},[Object(l["createTextVNode"])("Student ID "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),LO={key:0,class:"text-danger error-txt"},qO={class:"mb-1"},RO=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},[Object(l["createTextVNode"])("Email "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),$O={key:0,class:"text-danger error-txt"},QO={class:"mb-1"},JO=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},[Object(l["createTextVNode"])("School "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),HO=Object(l["createElementVNode"])("br",null,null,-1),WO=["value"],ZO={key:0,class:"text-danger error-txt"},YO={class:"mb-1"},KO=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},[Object(l["createTextVNode"])("Free School Meal (FSM) "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),GO=Object(l["createElementVNode"])("br",null,null,-1),XO=["value"],ej={key:0,class:"text-danger error-txt"},tj={class:"mb-1"},aj=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Attribute",-1),lj=Object(l["createElementVNode"])("br",null,null,-1),cj={class:"mb-1"},oj=Object(l["createElementVNode"])("label",{class:"input-label",for:"balance"},"Balance",-1),sj={class:"mb-1"},nj=Object(l["createElementVNode"])("label",{class:"input-label",for:"balance"},"Add Amount",-1),rj={class:"mb-1"},ij=Object(l["createElementVNode"])("label",{class:"input-label",for:"date_of_birth"},"Date Of Birth",-1),dj={class:"mt-3 bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},mj={class:"form-bg container p-4"},bj=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Password",-1),uj={class:"card card-plain"},pj={class:"card-body"},Oj={role:"form"},jj={class:"mb-1"},hj=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},[Object(l["createTextVNode"])("Status "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),gj=Object(l["createElementVNode"])("br",null,null,-1),fj=["value"],Vj={class:"mt-3 bg-white box-shadow-dark border-radius-lg  col-xl-10 col-lg-10 col-md-10"},Ej={class:"form-bg container p-4"},xj=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Password",-1),Nj=Object(l["createElementVNode"])("small",{class:"ms-4 text-xs"},"password fields are optional if you wan't to change the password you can fill the following data",-1),vj={class:"card card-plain"},yj={class:"card-body"},wj={role:"form"},kj={class:"mb-1"},Aj=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Password",-1),Sj={class:"mb-1"},Bj=Object(l["createElementVNode"])("label",{class:"input-label",for:"address"},"Confirm Password",-1),Cj={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},_j={class:""};function Dj(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("MultiSelect");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",pO,[Object(l["createElementVNode"])("div",OO,[Object(l["createElementVNode"])("div",jO,[Object(l["createElementVNode"])("div",hO,[gO,Object(l["createElementVNode"])("div",fO,[Object(l["createElementVNode"])("div",VO,[Object(l["createElementVNode"])("div",EO,[o.isError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",xO,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.validationErrors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{key:t,class:"pass-text"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e),1),NO]))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",vO,[Object(l["createElementVNode"])("div",yO,[wO,Object(l["createElementVNode"])("div",kO,[Object(l["createElementVNode"])("div",AO,[Object(l["createElementVNode"])("form",SO,[Object(l["createElementVNode"])("div",BO,[CO,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newStudent.first_name=e),type:"text",placeholder:"First Name",name:"first_name"},null,512),[[l["vModelText"],o.newStudent.first_name]]),""!==o.formValidation&&""!==o.formValidation["first_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",_O,"first name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",DO,[PO,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newStudent.last_name=e),type:"text",placeholder:"Last Name",name:"last_name"},null,512),[[l["vModelText"],o.newStudent.last_name]]),""!==o.formValidation&&""!==o.formValidation["last_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",IO,"last name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",TO,[zO,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"mifare_id","onUpdate:modelValue":t[2]||(t[2]=e=>o.newStudent.mifare_id=e),type:"text",placeholder:"ID",name:"student_id"},null,512),[[l["vModelText"],o.newStudent.mifare_id]]),""!==o.formValidation&&""!==o.formValidation["mifare_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",MO," MIFARE ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",FO,[UO,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"student_id","onUpdate:modelValue":t[3]||(t[3]=e=>o.newStudent.student_id=e),type:"text",placeholder:"ID",name:"student_id"},null,512),[[l["vModelText"],o.newStudent.student_id]]),""!==o.formValidation&&""!==o.formValidation["student_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",LO," student ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",qO,[RO,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[4]||(t[4]=e=>o.newStudent.email=e),type:"email",placeholder:"email",name:"email"},null,512),[[l["vModelText"],o.newStudent.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",$O,"email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",QO,[JO,HO,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[5]||(t[5]=e=>o.newStudent.school_id=e),id:"school",type:"select",placeholder:"school",name:"school"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allSchools,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.title),9,WO))),128))],512),[[l["vModelSelect"],o.newStudent.school_id]]),""!==o.formValidation&&""!==o.formValidation["school_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",ZO,"school is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",YO,[KO,GO,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[6]||(t[6]=e=>o.newStudent.fsm=e),id:"fsm",type:"select",placeholder:"FSM",name:"fsm"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.fsm,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,XO))),128))],512),[[l["vModelSelect"],o.newStudent.fsm]]),""!==o.formValidation&&""!==o.formValidation["school_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",ej,"School ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",tj,[aj,lj,Object(l["createVNode"])(n,{label:"Attributes",value:o.selectedAttrs,options:o.allAttributes,onInput:s.handleAttributes,placeholder:"Attributes"},null,8,["value","options","onInput"])]),Object(l["createElementVNode"])("div",cj,[oj,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"balance","onUpdate:modelValue":t[7]||(t[7]=e=>s.formattedBalance=e),type:"number",step:"0.01",min:"0",placeholder:"balance",name:"balance"},null,512),[[l["vModelText"],s.formattedBalance]])]),Object(l["createElementVNode"])("div",sj,[nj,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"balance","onUpdate:modelValue":t[8]||(t[8]=e=>s.formattedAmount=e),type:"number",step:"0.01",min:"0",placeholder:"add amount",name:"add_amount"},null,512),[[l["vModelText"],s.formattedAmount]])]),Object(l["createElementVNode"])("div",rj,[ij,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"date_of_birth","onUpdate:modelValue":t[9]||(t[9]=e=>o.newStudent.date_of_birth=e),type:"date",placeholder:"date of birth",name:"date_of_birth"},null,512),[[l["vModelText"],o.newStudent.date_of_birth]])])])])])])]),Object(l["createElementVNode"])("div",dj,[Object(l["createElementVNode"])("div",mj,[bj,Object(l["createElementVNode"])("div",uj,[Object(l["createElementVNode"])("div",pj,[Object(l["createElementVNode"])("form",Oj,[Object(l["createElementVNode"])("div",jj,[hj,gj,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>o.newStudent.status=e),class:"select-box",id:"status",type:"select",placeholder:"status",name:"status"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableStatus,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,fj))),128))],512),[[l["vModelSelect"],o.newStudent.status]])])])])])])]),Object(l["createElementVNode"])("div",Vj,[Object(l["createElementVNode"])("div",Ej,[xj,Nj,Object(l["createElementVNode"])("div",vj,[Object(l["createElementVNode"])("div",yj,[Object(l["createElementVNode"])("form",wj,[Object(l["createElementVNode"])("div",kj,[Aj,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[11]||(t[11]=e=>o.newStudent.password=e),type:"password",placeholder:"Password",name:"zip"},null,512),[[l["vModelText"],o.newStudent.password]])]),Object(l["createElementVNode"])("div",Sj,[Bj,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[12]||(t[12]=e=>o.newStudent.password_confirmation=e),type:"password",placeholder:"Confirm Password",name:"address"},null,512),[[l["vModelText"],o.newStudent.password_confirmation]])])])])])])]),Object(l["createElementVNode"])("div",Cj,[Object(l["createElementVNode"])("div",_j,[Object(l["createElementVNode"])("button",{onClick:t[13]||(t[13]=(...e)=>s.updateStudent&&s.updateStudent(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-3 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Update Student ")])])])])])])])])])}Object(l["popScopeId"])();var Pj={name:"",components:{MultiSelect:dO},mounted(){this.getUser(),this.editStudent(),this.getSchools(),this.getAllAttributes()},updated(){this.$permissions.redirectIfNotAllowed("edit_student")},computed:{formattedAmount:{get(){return parseFloat(this.newStudent.add_amount).toFixed(2)},set(e){const t=parseFloat(e).toFixed(2);this.newStudent.add_amount=t}},formattedBalance:{get(){return this.newStudent.balance},set(e){const t=parseFloat(e).toFixed(2);this.newStudent.balance=t}}},data(){return{allAttributes:"",availableCountries:["UK","USA","Canada"],user:"",formValidation:"",isError:!1,validationErrors:"",fsm:[!1,!0],selectedAttrs:[],newStudent:{school_id:"",student_id:"",add_amount:"",mifare_id:"",attribute_id:"",attributes:[],first_name:"",last_name:"",email:"",date_of_birth:"",status:"",password:"",password_confirmation:"",fsm:"",balance:""},availableStatus:["active","pending","blocked"],allSchools:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("edit_student");let e=!1,t="";t=Wc()(this.newStudent);for(let a in this.newStudent)""!==this.newStudent[a]&&null!==this.newStudent[a]||"attribute_id"===a||"date_of_birth"===a||"add_amount"===a||"password"===a||"password_confirmation"===a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,e},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async editStudent(){let e=this.$route.params.id;try{const t=await ia.get("/editStudent/"+e);this.setData(t)}catch(t){console.log(t)}},setData(e){let t;e&&(t=e.data,this.newStudent.school_id=t.school_id,this.newStudent.student_id=t.student_id,this.newStudent.mifare_id=t.mifare_id,this.newStudent.first_name=t.user.first_name,this.newStudent.last_name=t.user.last_name,this.newStudent.email=t.user.email,this.newStudent.date_of_birth=t.dob,this.newStudent.status=t.user.status,this.newStudent.fsm=0!=t.fsm_activated,this.newStudent.attribute_id=t.attribute_id,this.newStudent.balance=this.formattedPrice(t.balance),this.newStudent.attributes=t.attributes)},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},async updateStudent(){if(this.validateForm())return;let e=this.$route.params.id;try{await ia.put("/updateStudent/"+e,this.newStudent),this.$router.push({name:"list-students"}),this.snackbarMsg("Student Saved Successfuly")}catch(t){console.log(t),this.isError=!0,this.validationErrors=t.response.data.errors}},async getSchools(){try{let e="/getAllSchools";"organization_admin"==this.user.role&&(e="/getAllSchools/"+this.user.id);const t=await ia.get(e);this.allSchools=t.data}catch(e){console.log(e)}},async getAllAttributes(){try{const e=await ia.get("/getAllAttributes");this.allAttributes=e.data}catch(e){console.log(e)}this.allAttributes.map(e=>{this.newStudent.attributes.includes(e.id)&&this.selectedAttrs.push(e)})},handleAttributes(e){this.newStudent.attributes=[],e.filter(e=>{this.newStudent.attributes.push(e.id)})}}};a("2f7f");const Ij=Te()(Pj,[["render",Dj],["__scopeId","data-v-a3353ac0"]]);var Tj=Ij;const zj={class:"container-fluid py-4"},Mj={class:"row"},Fj={class:"col-12"},Uj={class:"card my-4"},Lj={class:"card-body px-0 pb-2"},qj={class:"table-responsive p-0"},Rj={class:"filter-container"},$j=Object(l["createElementVNode"])("input",{class:"input-box filter-box",id:"name",type:"text",placeholder:"Type to Search...",name:"address"},null,-1),Qj=Object(l["createElementVNode"])("option",{value:"",disabled:"",selected:""},"Filter",-1),Jj=["value"],Hj=Object(l["createElementVNode"])("i",{class:"fas fa-filter filter-icon me-1"},null,-1),Wj={class:"table align-items-center mb-0"},Zj=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"align-middle text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Type "),Object(l["createElementVNode"])("th",{class:" align-middle text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," Amount "),Object(l["createElementVNode"])("th",{class:"align-middle text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Date "),Object(l["createElementVNode"])("th",{class:"align-middle text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Action ")])],-1),Yj={class:"align-middle text-center"},Kj={class:"text-xs text-secondary mb-0"},Gj={class:"align-middle text-center"},Xj={class:"d-flex justify-content-center"},eh={key:0,class:"fas fa-plus fa-xs text-success me-2","aria-hidden":"true"},th={key:1,class:"fas fa-minus fa-xs text-danger me-2","aria-hidden":"true"},ah={class:"text-xs text-secondary mb-0"},lh={class:"align-middle text-center"},ch={class:"text-secondary text-xs "},oh={class:"align-middle text-center text-sm"},sh=["onClick"];function nh(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",zj,[Object(l["createElementVNode"])("div",Mj,[Object(l["createElementVNode"])("div",Fj,[Object(l["createElementVNode"])("div",Uj,[Object(l["createElementVNode"])("div",Lj,[Object(l["createElementVNode"])("div",qj,[Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div",Rj,[$j,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box filter-type-btn","onUpdate:modelValue":t[0]||(t[0]=e=>o.filterBy=e),id:"filter",type:"select",placeholder:"Filter",name:"filter"},[Qj,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allFields,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,Jj))),128))],512),[[l["vModelSelect"],o.filterBy]]),Hj])]),Object(l["createElementVNode"])("table",Wj,[Zj,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.transactionHistoryList,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",Yj,[Object(l["createElementVNode"])("p",Kj,Object(l["toDisplayString"])(e.type),1)]),Object(l["createElementVNode"])("td",Gj,[Object(l["createElementVNode"])("span",Xj,["top_up"==e.type?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",eh)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",th)),Object(l["createElementVNode"])("p",ah,"£"+Object(l["toDisplayString"])(s.formattedPrice(e.amount)),1)])]),Object(l["createElementVNode"])("td",lh,[Object(l["createElementVNode"])("span",ch,Object(l["toDisplayString"])(e.created_at.toString().split("T")[0]),1)]),Object(l["createElementVNode"])("td",oh,[Object(l["createElementVNode"])("i",{onClick:t=>s.deleteTransactionHistory(e.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"delete",8,sh)])]))),128))])])])])])])])])}var rh={name:"tables",mounted(){this.getTransactionHistory()},data(){return{transactionHistoryList:"",filterBy:"",allFields:["Clear","Account","Type","Amount","Date","Status"]}},methods:{formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},async getTransactionHistory(){let e,t;this.$route.params.id?t=this.$route.params.id:(e=localStorage.getItem("user"),e=JSON.parse(e),t=e.id);let a={user_id:t,admin_id:null};try{const e=await ia.post("/getTransactionHistory",a);this.transactionHistoryList=e.data}catch(l){console.log(l)}},async deleteTransactionHistory(e){try{await ia.delete("/deleteTransactionHistory/"+e),this.removeTransactionFromList(e),this.snackbarMsg("Deleted Successfully")}catch(t){console.log(t)}},removeTransactionFromList(e){const t=this.transactionHistoryList.findIndex(t=>t.id===e);this.transactionHistoryList.splice(t,1)}}};a("90b4");const ih=Te()(rh,[["render",nh]]);var dh=ih;const mh={class:"card"},bh={class:"card-body pt-4 p-3"},uh={class:"row"},ph={class:"col-md-12 col-sm-12"},Oh={class:"list-group"},jh={style:{"background-color":"#573078 !important"},class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},hh={class:"d-flex flex-column"},gh={class:"mb-3 text-sm text-white"},fh={class:"wallet-info text-white mb-1 text-xs font-weight-bold"},Vh=Object(l["createTextVNode"])(" Current Balance: "),Eh={class:"wallet-info text-white font-weight-bold ms-sm-2"},xh={class:"wallet-info text-white mb-1 font-weight-bold text-xs"},Nh=Object(l["createTextVNode"])(" FSM Balance: "),vh={class:"wallet-info text-white font-weight-bold ms-sm-2"},yh={class:"wallet-info text-white mb-1 font-weight-bold text-xs"},wh=Object(l["createTextVNode"])(" Phone: "),kh={class:"wallet-info text-white ms-sm-2 font-weight-bold"},Ah={class:"wallet-info text-white mb-1 font-weight-bold text-xs"},Sh=Object(l["createTextVNode"])(" Email Address: "),Bh={class:"wallet-info text-white ms-sm-2 font-weight-bold"},Ch={class:"col-md-12 col-sm-12"},_h={class:"list-group"},Dh={class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},Ph={class:"d-flex flex-column"},Ih=Object(l["createElementVNode"])("h6",{class:"mb-3 text-sm"},"Recent Transaction",-1),Th={class:"text-dark ms-sm-2 font-weight-bold"},zh=Object(l["createElementVNode"])("br",null,null,-1),Mh=Object(l["createElementVNode"])("br",null,null,-1),Fh={class:"text-dark font-weight-bold me-3"},Uh={key:0,class:"recent-transactions mb-1 text-xs"},Lh=Object(l["createElementVNode"])("span",{class:"text-warning ms-sm-2 font-weight-bold"},"No recent transactions.",-1),qh=[Lh];function Rh(e,t,a,c,o,s){var n,r,i,d,m,b;return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",mh,[Object(l["createElementVNode"])("div",bh,[Object(l["createElementVNode"])("div",uh,[Object(l["createElementVNode"])("div",ph,[Object(l["createElementVNode"])("ul",Oh,[Object(l["createElementVNode"])("li",jh,[Object(l["createElementVNode"])("div",hh,[Object(l["createElementVNode"])("h6",gh,Object(l["toDisplayString"])(`${(null===(n=s.walletData.user)||void 0===n?void 0:n.first_name)||"-"} ${(null===(r=s.walletData.user)||void 0===r?void 0:r.last_name)||"-"}`),1),Object(l["createElementVNode"])("span",fh,[Vh,Object(l["createElementVNode"])("span",Eh," £"+Object(l["toDisplayString"])(s.formattedPrice((null===(i=s.walletData)||void 0===i?void 0:i.ballance)||"0")),1)]),Object(l["createElementVNode"])("span",xh,[Nh,Object(l["createElementVNode"])("span",vh," £"+Object(l["toDisplayString"])(s.formattedPrice((null===(d=o.fsmAmount)||void 0===d?void 0:d.fsm_amount)||"0")),1)]),Object(l["createElementVNode"])("span",yh,[wh,Object(l["createElementVNode"])("span",kh,Object(l["toDisplayString"])((null===(m=s.walletData.user)||void 0===m?void 0:m.phone)||"-"),1)]),Object(l["createElementVNode"])("span",Ah,[Sh,Object(l["createElementVNode"])("span",Bh,Object(l["toDisplayString"])((null===(b=s.walletData.user)||void 0===b?void 0:b.email)||"-"),1)])])])])]),Object(l["createElementVNode"])("div",Ch,[Object(l["createElementVNode"])("ul",_h,[Object(l["createElementVNode"])("li",Dh,[Object(l["createElementVNode"])("div",Ph,[Ih,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.transactions,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",{key:t,class:"recent-transactions mb-1 text-xs"},[Object(l["createElementVNode"])("span",Th,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(s.transactionType(e.type))+" ",1),zh,Object(l["createElementVNode"])("small",null,Object(l["toDisplayString"])(s.formatDate(e.created_at)),1)]),Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("span",{class:Object(l["normalizeClass"])(["font-weight-bold me-3",{"text-success":"top_up"===e.type||"pos_refund"===e.type,"text-danger":!("top_up"===e.type||"pos_refund"===e.type)}])},Object(l["toDisplayString"])("top_up"===e.type||"pos_refund"===e.type?"+":"-")+" £"+Object(l["toDisplayString"])(s.formattedPrice(e.amount)),3),Mh,Object(l["createElementVNode"])("small",Fh,Object(l["toDisplayString"])("top_up"===e.type||"pos_refund"===e.type?"Received":"Spent"),1)])]))),128)),0==o.transactions.length&&o.isTransactions?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Uh,qh)):Object(l["createCommentVNode"])("",!0)])])])])])])])}var $h=a("c1df"),Qh=a.n($h),Jh={name:"billing-card",mounted(){this.getUserId(),this.getWallet(),this.getFSMamount(),this.getRecentTransactions()},data(){return{fsmAmount:"",isTransactions:!1,transactions:"",user_id:"",user:"",wallet:""}},computed:{walletData(){return this.wallet}},methods:{transactionType(e){let t="";return"top_up"==e?t="Top Up":"pos_transaction"==e?t="Cafeteria Purchase":"pos_refund"==e?t="Cafeteria Refund":"trip_funds"==e?t="Trip Charges":"school_shop_funds"==e&&(t="Shop Purchase"),t},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},getUserId(){let e=localStorage.getItem("user");e=JSON.parse(e),this.$route.params.id?this.user_id=this.$route.params.id:this.user_id=e.id},async getWallet(){try{const e=await ia.get("/getWallet/"+this.user_id);this.wallet=e.data}catch(e){console.log(e)}},async getFSMamount(){try{const e=await ia.get("/getAmountFSM/"+this.user_id);this.fsmAmount=e.data}catch(e){console.log(e)}},async getRecentTransactions(){let e={user_id:this.user_id,admin_id:null};try{const t=await ia.post("/getTransactionHistory",e);this.transactions=t.data,this.isTransactions=!0}catch(t){console.log(t)}},formatDate(e){const t=Qh()(e);return t.format("MMM D, YYYY,   HH:mm:ss")}}};a("c0f4");const Hh=Te()(Jh,[["render",Rh]]);var Wh=Hh;const Zh={class:"container-fluid py-4"},Yh={class:"row"},Kh={class:"col-12"},Gh={class:"card my-4"},Xh={class:"d-flex justify-content-between border-radius-lg pt-4 "},eg=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Organizations",-1),tg=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 justify-content-between text-white fw-5 border-0 py-2 px-3 border-radius-lg"}," Add Organization ",-1),ag={class:"card-body px-0 pb-2"},lg={class:"table-responsive p-0"},cg={class:"table align-items-center mb-0"},og=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," ID "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Organization Name "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder ps-2"}," Email "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder ps-2"}," Country "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Status "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"},"Action")])],-1),sg={class:"align-middle text-center text-sm"},ng={class:"text-xs font-weight-bold mb-0"},rg={class:"d-flex px-2"},ig={class:"d-flex flex-column justify-content-center"},dg={class:"text-xs text-secondary mb-0"},mg={class:"d-flex px-2 "},bg={class:"d-flex flex-column justify-content-center"},ug={class:"text-xs text-secondary mb-0 "},pg={class:"d-flex px-2"},Og={class:"d-flex flex-column justify-content-center"},jg={class:"text-xs text-secondary  mb-0"},hg={class:"align-middle text-center text-sm"},gg={class:"badge badge-sm bg-gradient-success"},fg={class:"align-middle text-center"},Vg=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"edit",-1),Eg=["onClick"];function xg(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Zh,[Object(l["createElementVNode"])("div",Yh,[Object(l["createElementVNode"])("div",Kh,[Object(l["createElementVNode"])("div",Gh,[Object(l["createElementVNode"])("div",Xh,[eg,Object(l["createVNode"])(n,{to:{name:"add-organizations"}},{default:Object(l["withCtx"])(()=>[tg]),_:1})]),Object(l["createElementVNode"])("div",ag,[Object(l["createElementVNode"])("div",lg,[Object(l["createElementVNode"])("table",cg,[og,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.organizationsData,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",sg,[Object(l["createElementVNode"])("p",ng,Object(l["toDisplayString"])(e.id),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("div",rg,[Object(l["createElementVNode"])("div",ig,[Object(l["createElementVNode"])("h6",dg,Object(l["toDisplayString"])(e.name),1)])])]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("div",mg,[Object(l["createElementVNode"])("div",bg,[Object(l["createElementVNode"])("h6",ug,Object(l["toDisplayString"])(e.email),1)])])]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("div",pg,[Object(l["createElementVNode"])("div",Og,[Object(l["createElementVNode"])("h6",jg,Object(l["toDisplayString"])(e.country),1)])])]),Object(l["createElementVNode"])("td",hg,[Object(l["createElementVNode"])("span",gg,Object(l["toDisplayString"])(e.status),1)]),Object(l["createElementVNode"])("td",fg,[Object(l["createElementVNode"])("span",null,[Object(l["createVNode"])(n,{to:{name:"edit-organization",params:{id:e.id}}},{default:Object(l["withCtx"])(()=>[Vg]),_:2},1032,["to"]),Object(l["createElementVNode"])("i",{onClick:t=>s.confirmDelete(e.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"delete",8,Eg)])])]))),128))])])])])])])])])}var Ng={name:"organizations",metaInfo:{title:"Organizations"},mounted(){this.setColor(),this.getOrganizations()},computed:{...Object(De["c"])(["getBrandingSetting"])},data(){return{organizationsData:"",schools:6}},methods:{confirmDelete(e){qn.a.fire({title:"Are you sure?",text:"Item will be deleted permanently and you will not be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&this.deleteOrganization(e)})},setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},setListData(){this.updateOrganizationList(this.organizationsData)},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},async getOrganizations(){try{const e=await ia.get("/getAllOrganizations");this.organizationsData=e.data}catch(e){console.log(e)}},async deleteOrganization(e){try{await ia.delete("/deleteOrganization/"+e),this.removeOrganizationFromList(e),this.snackbarMsg("Organization Deleted")}catch(t){console.log(t)}},removeOrganizationFromList(e){const t=this.organizationsData.findIndex(t=>t.id===e);this.organizationsData.splice(t,1)}}};a("1798");const vg=Te()(Ng,[["render",xg]]);var yg=vg;Object(l["pushScopeId"])("data-v-ab4fadf8");const wg={class:"container-fluid py-4"},kg={class:"row"},Ag={class:"col-12"},Sg={class:"card my-4"},Bg={class:"d-flex justify-content-between border-radius-lg pt-4"},Cg=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Add Organization",-1),_g=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4 border-radius-lg"}," Back ",-1),Dg={class:"card-body px-0 pb-2"},Pg={class:"table-responsive p-0"},Ig={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},Tg={key:0,class:"mb-3 change-pass-alert"},zg=Object(l["createElementVNode"])("br",null,null,-1),Mg={class:"bg-white box-shadow-dark border-radius-lg col-xl-12 col-lg-12 col-md-12"},Fg={class:"form-bg container p-4 ms-2"},Ug={class:"card card-plain"},Lg={class:"card-body"},qg={class:"mb-1"},Rg=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"}," Name",-1),$g={key:0,class:"text-danger error-txt"},Qg={class:"mb-1"},Jg=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},"Email",-1),Hg={key:0,class:"text-danger error-txt"},Wg={class:"mb-1"},Zg=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Phone",-1),Yg={key:0,class:"text-danger error-txt"},Kg={class:"mb-1"},Gg=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Website",-1),Xg={key:0,class:"text-danger error-txt"},ef={class:"mb-1"},tf=Object(l["createElementVNode"])("label",{class:"input-label",for:"country"},"Country",-1),af=Object(l["createElementVNode"])("br",null,null,-1),lf=["value"],cf={key:0,class:"text-danger error-txt"},of={class:"mb-1"},sf=Object(l["createElementVNode"])("label",{class:"input-label",for:"city"},"City",-1),nf={key:0,class:"text-danger error-txt"},rf={class:"mb-1"},df=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Postcode/Zip",-1),mf={key:0,class:"text-danger error-txt"},bf={class:"mb-1"},uf=Object(l["createElementVNode"])("label",{class:"input-label",for:"address"},"Address",-1),pf={key:0,class:"text-danger error-txt"},Of={class:"d-flex align-items-right"};function jf(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",wg,[Object(l["createElementVNode"])("div",kg,[Object(l["createElementVNode"])("div",Ag,[Object(l["createElementVNode"])("div",Sg,[Object(l["createElementVNode"])("div",Bg,[Cg,Object(l["createVNode"])(n,{to:{name:"list-organizations"}},{default:Object(l["withCtx"])(()=>[_g]),_:1})]),Object(l["createElementVNode"])("div",Dg,[Object(l["createElementVNode"])("div",Pg,[Object(l["createElementVNode"])("div",Ig,[o.isError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Tg,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.validationErrors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{key:t,class:"pass-text"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e),1),zg]))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",Mg,[Object(l["createElementVNode"])("div",Fg,[Object(l["createElementVNode"])("div",Ug,[Object(l["createElementVNode"])("div",Lg,[Object(l["createElementVNode"])("div",qg,[Rg,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box","onUpdate:modelValue":t[0]||(t[0]=e=>o.newOrganization.name=e),id:"name",type:"text",placeholder:"Name",name:"name"},null,512),[[l["vModelText"],o.newOrganization.name]]),""!==o.formValidation&&""!==o.formValidation["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",$g,"Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Qg,[Jg,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newOrganization.email=e),type:"email",placeholder:"example@gmail.com",name:"email"},null,512),[[l["vModelText"],o.newOrganization.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Hg,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Wg,[Zg,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>o.newOrganization.phone=e),type:"tel",placeholder:"Phone",name:"phone"},null,512),[[l["vModelText"],o.newOrganization.phone]]),""!==o.formValidation&&""!==o.formValidation["phone"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Yg,"Phone is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Kg,[Gg,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>o.newOrganization.website=e),type:"url",placeholder:"https://example.com",name:"website"},null,512),[[l["vModelText"],o.newOrganization.website]]),""!==o.formValidation&&""!==o.formValidation["website"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Xg,"Website is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",ef,[tf,af,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[4]||(t[4]=e=>o.newOrganization.country=e),id:"country",type:"select",placeholder:"Country",name:"country"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableCountries,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,lf))),128))],512),[[l["vModelSelect"],o.newOrganization.country]]),""!==o.formValidation&&""!==o.formValidation["country"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",cf,"Country is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",of,[sf,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"city","onUpdate:modelValue":t[5]||(t[5]=e=>o.newOrganization.city=e),type:"city",placeholder:"City",name:"city"},null,512),[[l["vModelText"],o.newOrganization.city]]),""!==o.formValidation&&""!==o.formValidation["city"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",nf,"City is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",rf,[df,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[6]||(t[6]=e=>o.newOrganization.zip=e),type:"text",placeholder:"Zip",name:"zip"},null,512),[[l["vModelText"],o.newOrganization.zip]]),""!==o.formValidation&&""!==o.formValidation["zip"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",mf,"Postocode/Zip is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",bf,[uf,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"address","onUpdate:modelValue":t[7]||(t[7]=e=>o.newOrganization.address=e),type:"text",placeholder:"Address",name:"address"},null,512),[[l["vModelText"],o.newOrganization.address]]),""!==o.formValidation&&""!==o.formValidation["address"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",pf,"Address is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Of,[Object(l["createElementVNode"])("button",{onClick:t[8]||(t[8]=(...e)=>s.saveNewOrganization&&s.saveNewOrganization(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 mt-4 text-white fw-5 border-0 py-2 px-5 border-radius-lg"}," Save ")])])])])])])])])])])])])}Object(l["popScopeId"])();var hf={name:"",components:{},mounted(){},computed:{...Object(De["c"])(["getOrganizationList"])},data(){return{isError:!1,validationErrors:"",formValidation:"",availableCountries:["UK","USA","Canada"],newOrganization:{name:"",website:"",email:"",phone:"",country:"",city:"",zip:"",address:""},schools:["Skills Academy","Stockton","Redcar","Bede","NETA"]}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){let e=!1,t="";t=Wc()(this.newOrganization);for(let a in this.newOrganization)""===this.newOrganization[a]||void 0===this.newOrganization[a]?(t[a]="is required",e=!0):t[a]="";return this.formValidation=t,e},async saveNewOrganization(){if(!this.validateForm())try{await ia.post("/createOrganization",this.newOrganization),this.$router.push({name:"list-organizations"}),this.snackbarMsg("Organization Saved")}catch(e){console.log(e),this.isError=!0,this.validationErrors=e.response.data.errors}}}};a("806c");const gf=Te()(hf,[["render",jf],["__scopeId","data-v-ab4fadf8"]]);var ff=gf;Object(l["pushScopeId"])("data-v-3b91d313");const Vf={class:"container-fluid py-4"},Ef={class:"row"},xf={class:"col-12"},Nf={class:"card my-4"},vf=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between  border-radius-lg pt-4"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Edit Organization")],-1),yf={class:"card-body px-0 pb-2"},wf={class:"table-responsive p-0"},kf={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},Af={key:0,class:"mb-3 change-pass-alert"},Sf=Object(l["createElementVNode"])("br",null,null,-1),Bf={class:"bg-white box-shadow-dark border-radius-lg col-xl-12 col-lg-12 col-md-12"},Cf={class:"form-bg container p-4 ms-2"},_f={class:"card card-plain"},Df={class:"card-body"},Pf={class:"mb-1"},If=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"}," Name",-1),Tf={key:0,class:"text-danger error-txt"},zf={class:"mb-1"},Mf=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},"Email",-1),Ff={key:0,class:"text-danger error-txt"},Uf={class:"mb-1"},Lf=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Phone",-1),qf={key:0,class:"text-danger error-txt"},Rf={class:"mb-1"},$f=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Website",-1),Qf={key:0,class:"text-danger error-txt"},Jf={class:"mb-1"},Hf=Object(l["createElementVNode"])("label",{class:"input-label",for:"country"},"Country",-1),Wf=Object(l["createElementVNode"])("br",null,null,-1),Zf=["value"],Yf={key:0,class:"text-danger error-txt"},Kf={class:"mb-1"},Gf=Object(l["createElementVNode"])("label",{class:"input-label",for:"city"},"City",-1),Xf={key:0,class:"text-danger error-txt"},eV={class:"mb-1"},tV=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Postcode/Zip",-1),aV={key:0,class:"text-danger error-txt"},lV={class:"mb-1"},cV=Object(l["createElementVNode"])("label",{class:"input-label",for:"address"},"Address",-1),oV={key:0,class:"text-danger error-txt"},sV={class:"d-flex align-items-right"};function nV(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Vf,[Object(l["createElementVNode"])("div",Ef,[Object(l["createElementVNode"])("div",xf,[Object(l["createElementVNode"])("div",Nf,[vf,Object(l["createElementVNode"])("div",yf,[Object(l["createElementVNode"])("div",wf,[Object(l["createElementVNode"])("div",kf,[o.isError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Af,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.validationErrors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{key:t,class:"pass-text"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e),1),Sf]))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",Bf,[Object(l["createElementVNode"])("div",Cf,[Object(l["createElementVNode"])("div",_f,[Object(l["createElementVNode"])("div",Df,[Object(l["createElementVNode"])("div",Pf,[If,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box","onUpdate:modelValue":t[0]||(t[0]=e=>o.newOrganization.name=e),id:"name",type:"text",placeholder:"Name",name:"name"},null,512),[[l["vModelText"],o.newOrganization.name]]),""!==o.formValidation&&""!==o.formValidation["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Tf,"Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",zf,[Mf,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newOrganization.email=e),type:"email",placeholder:"example@gmail.com",name:"email"},null,512),[[l["vModelText"],o.newOrganization.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Ff,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Uf,[Lf,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>o.newOrganization.phone=e),type:"tel",placeholder:"Phone",name:"phone"},null,512),[[l["vModelText"],o.newOrganization.phone]]),""!==o.formValidation&&""!==o.formValidation["phone"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",qf,"Phone is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Rf,[$f,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>o.newOrganization.website=e),type:"url",placeholder:"https://example.com",name:"website"},null,512),[[l["vModelText"],o.newOrganization.website]]),""!==o.formValidation&&""!==o.formValidation["website"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Qf,"Website is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Jf,[Hf,Wf,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[4]||(t[4]=e=>o.newOrganization.country=e),id:"country",type:"select",placeholder:"Country",name:"country"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableCountries,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,Zf))),128))],512),[[l["vModelSelect"],o.newOrganization.country]]),""!==o.formValidation&&""!==o.formValidation["country"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Yf,"Country is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Kf,[Gf,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[5]||(t[5]=e=>o.newOrganization.city=e),type:"city",placeholder:"City",name:"city"},null,512),[[l["vModelText"],o.newOrganization.city]]),""!==o.formValidation&&""!==o.formValidation["city"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Xf,"City is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",eV,[tV,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[6]||(t[6]=e=>o.newOrganization.zip=e),type:"text",placeholder:"Zip",name:"zip"},null,512),[[l["vModelText"],o.newOrganization.zip]]),""!==o.formValidation&&""!==o.formValidation["zip"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",aV,"Zip is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",lV,[cV,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"address","onUpdate:modelValue":t[7]||(t[7]=e=>o.newOrganization.address=e),type:"text",placeholder:"Address",name:"address"},null,512),[[l["vModelText"],o.newOrganization.address]]),""!==o.formValidation&&""!==o.formValidation["address"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",oV,"Address is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",sV,[Object(l["createElementVNode"])("button",{onClick:t[8]||(t[8]=(...e)=>s.updateOrganization&&s.updateOrganization(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 mt-4 text-white fw-5 border-0 py-2 px-5 border-radius-lg"}," Save ")])])])])])])])])])])])])}Object(l["popScopeId"])();var rV={name:"",props:["data"],components:{},mounted(){this.editOrganization()},computed:{},data(){return{isError:!1,validationErrors:"",formValidation:"",availableCountries:["UK","USA","Canada"],newOrganization:{name:"",website:"",email:"",phone:"",country:"",city:"",zip:"",address:""},schools:["Skills Academy","Stockton","Redcar","Bede","NETA"]}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){let e=!1,t="";t=Wc()(this.newOrganization);for(let a in this.newOrganization)""===this.newOrganization[a]||void 0===this.newOrganization[a]?(t[a]="is required",e=!0):t[a]="";return this.formValidation=t,e},async editOrganization(){let e=this.$route.params.id;try{const t=await ia.get("/editOrganization/"+e);this.setData(t)}catch(t){console.log(t)}},setData(e){let t;e&&(t=e.data,this.newOrganization.name=t.name,this.newOrganization.website=t.website,this.newOrganization.email=t.email,this.newOrganization.phone=t.phone,this.newOrganization.country=t.country,this.newOrganization.city=t.city,this.newOrganization.state=t.state,this.newOrganization.zip=t.zip,this.newOrganization.address=t.address,this.newOrganization.founded_date=t.founded_date,this.newOrganization.description=t.description)},async updateOrganization(){if(this.validateForm())return;let e=this.$route.params.id;try{await ia.put("/updateOrganization/"+e,this.newOrganization),this.$router.push({name:"list-organizations"}),this.snackbarMsg("Organization Updated")}catch(t){console.log(t),this.isError=!0,this.validationErrors=t.response.data.errors}}}};a("db7b");const iV=Te()(rV,[["render",nV],["__scopeId","data-v-3b91d313"]]);var dV=iV,mV=a("d15c"),bV=a.n(mV);const uV={class:"card"},pV={class:"card-header pb-0 px-3"},OV={class:"d-flex justify-content-between"},jV=Object(l["createElementVNode"])("h6",{class:"mb-0"},"Trips",-1),hV={class:"card-body pt-1 p-3"},gV={class:"container-fluid mt-1"},fV={class:"col-md-8"},VV={class:"d-flex flex-column"},EV={class:"mb-3 text-sm"},xV=Object(l["createElementVNode"])("img",{src:bV.a,alt:"profile_image",class:"shadow-sm w-30 h-20 border-radius-lg"},null,-1),NV={class:"trip-description mt-2"},vV={class:"col-md-4"},yV={class:"ms-auto text-start"},wV={class:"me-3 trip-dates"},kV=Object(l["createElementVNode"])("br",null,null,-1),AV={class:"me-3 trip-dates"},SV={class:"me-3 trip-dates"},BV=Object(l["createElementVNode"])("br",null,null,-1),CV=Object(l["createElementVNode"])("span",null,[Object(l["createElementVNode"])("small",{class:"me-3 trip-dates"},"Age Group - 16-20")],-1),_V=Object(l["createElementVNode"])("span",null,[Object(l["createElementVNode"])("small",{class:"me-3 trip-dates"},"Booking Open")],-1),DV=Object(l["createElementVNode"])("br",null,null,-1),PV={class:"me-3 trip-dates"},IV=Object(l["createElementVNode"])("br",null,null,-1),TV={key:0},zV={class:"me-3 trip-dates"},MV={class:"d-flex  align-items-start text-danger text-gradient text-sm font-weight-bold",style:{"justify-content":"flex-start"}},FV=Object(l["createElementVNode"])("br",null,null,-1),UV=["onClick"],LV=Object(l["createTextVNode"])(" Participants "),qV=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"arrow_forward",-1),RV=[LV,qV],$V=Object(l["createElementVNode"])("br",null,null,-1),QV={class:"mt-0"},JV=["onClick"],HV=["onClick"],WV={key:2,class:"mt-0"},ZV=Object(l["createElementVNode"])("div",{class:"cart-status"},"Added To Cart",-1),YV=[ZV],KV={key:3,class:"mt-0"},GV=["onClick"],XV=Object(l["createElementVNode"])("br",null,null,-1),eE={key:0,class:"row list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},tE=Object(l["createElementVNode"])("small",{class:"d-flex justify-content-center"},"No trips found!",-1),aE=[tE];function lE(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",uV,[Object(l["createElementVNode"])("div",pV,[Object(l["createElementVNode"])("div",OV,[jV,s.userPermissions.create_trip?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},["super_admin"==o.user.role||"organization_admin"==o.user.role||"staff"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,onClick:t[0]||(t[0]=(...e)=>s.redirectToAddTrips&&s.redirectToAddTrips(...e)),to:{name:"add-trips"},style:{"font-size":"12px","background-color":"#573078"},class:"me-3 trips-btn w-10  text-white fw-5 p-2 border-radius-lg"},"Add Trips")):Object(l["createCommentVNode"])("",!0)],64)):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",hV,[Object(l["createElementVNode"])("div",gV,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allTrips,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:t,class:"row list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},[Object(l["createElementVNode"])("div",fV,[Object(l["createElementVNode"])("div",VV,[Object(l["createElementVNode"])("h6",EV,Object(l["toDisplayString"])(e.title),1),xV,Object(l["createElementVNode"])("small",NV,Object(l["toDisplayString"])(e.description),1)])]),Object(l["createElementVNode"])("div",vV,[Object(l["createElementVNode"])("div",yV,[Object(l["createElementVNode"])("span",null,[Object(l["createElementVNode"])("small",wV,"From "+Object(l["toDisplayString"])(s.formatDateString(e.start_date))+" To "+Object(l["toDisplayString"])(s.formatDateString(e.end_date)),1)]),kV,Object(l["createElementVNode"])("span",null,[Object(l["createElementVNode"])("small",AV,"Total Seats - "+Object(l["toDisplayString"])(e.total_booking?e.total_booking:0),1)]),Object(l["createElementVNode"])("span",null,[Object(l["createElementVNode"])("small",SV,"Available Seats - "+Object(l["toDisplayString"])(e.total_booking?e.total_booking:0),1)]),BV,CV,_V,DV,Object(l["createElementVNode"])("span",null,[Object(l["createElementVNode"])("small",PV,Object(l["toDisplayString"])(e.accomodation_details?e.accomodation_details:"-"),1)]),IV,"super_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",TV,[Object(l["createElementVNode"])("small",zV,"Organization: "+Object(l["toDisplayString"])(e.organization?e.organization.name:"-"),1)])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",MV," Trip Cost - £"+Object(l["toDisplayString"])(s.formattedAmount(e.budget)),1),FV,"super_admin"==o.user.role||"organization_admin"==o.user.role||"staff"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("button",{onClick:t=>s.navLegacy("participants-trips",{id:e.id}),style:{"font-size":"12px","background-color":"#F3F4F6",color:"#573078 !important"},class:"d-flex justify-content-around align-items-center me-3 trips-btn w-50  text-white fw-5 p-2 border-radius-lg"},RV,8,UV),$V,Object(l["createElementVNode"])("div",QV,[s.userPermissions.edit_trip?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,onClick:t=>s.editTrip(e.id),style:{"font-size":"12px","background-color":"#573078"},class:"me-3 trips-btn w-25  text-white fw-5 p-2 border-radius-lg"}," Edit ",8,JV)):Object(l["createCommentVNode"])("",!0),s.userPermissions.delete_trip?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:1,onClick:t=>s.deleteTrip(e.id),style:{"font-size":"12px","background-color":"#573078"},class:"me-3 trips-btn w-25  text-white fw-5 p-2 border-radius-lg"}," Delete ",8,HV)):Object(l["createCommentVNode"])("",!0)])],64)):Object(l["createCommentVNode"])("",!0),null!==e.cart&&"student"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",WV,YV)):Object(l["createCommentVNode"])("",!0),null==e.cart&&"student"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",KV,[Object(l["createElementVNode"])("button",{onClick:t=>s.addTripToCart(e.id),style:{"font-size":"12px","background-color":"#573078"},class:"me-3 trips-btn w-45  text-white fw-5 p-2 border-radius-lg"}," Add To Cart ",8,GV)])):Object(l["createCommentVNode"])("",!0),XV])])]))),128)),0==o.allTrips.length?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",eE,aE)):Object(l["createCommentVNode"])("",!0)])])])}var cE={name:"billing-card",data(){return{user:"",allTrips:""}},mounted(){this.getUser(),this.getAllTrips()},updated(){"student"!=this.user.role&&this.$permissions.redirectIfNotAllowed("view_trip")},watch:{getRemovedItem(e,t){console.log(t),"trip"==e&&this.getAllTrips()}},computed:{...Object(De["c"])(["getRemovedItem","getPermissions"]),userPermissions(){return this.$permissions.userPermissions.value}},methods:{...Object(De["b"])(["updateRemovedItem"]),snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},navLegacy(e,t){this.$router.push({name:e,params:t})},formattedAmount(e){const t=parseFloat(e).toFixed(2);return t},async addTripToCart(e){let t={trip_id:e};try{await ia.post("/addTripToCart",t),await this.getAllTrips(),this.snackbarMsg("Successfuly Added Trip To Cart")}catch(a){console.log(a)}},getUser(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))},redirectToAddTrips(){this.$router.push({name:"add-trips"})},async getAllTrips(){try{const e=await ia.get("/getAllTrips");this.allTrips=e.data,this.updateRemovedItem(null)}catch(e){console.log(e)}},async deleteTrip(e){try{await ia.delete("/deleteTrip/"+e),this.removeTripFromList(e),this.snackbarMsg("Trip Deleted Successfuly")}catch(t){console.log(t)}},removeTripFromList(e){const t=this.allTrips.findIndex(t=>t.id===e);this.allTrips.splice(t,1)},formatDateString(e){const t=Qh()(e),a=t.format("DD MMMM YYYY");return a},editTrip(e){this.$router.push("/edit-trips/"+e)}}};a("b0e7");const oE=Te()(cE,[["render",lE]]);var sE=oE;Object(l["pushScopeId"])("data-v-55e7eec3");const nE={class:"container-fluid py-4"},rE={class:"row "},iE={class:"col-12"},dE={class:"card my-4"},mE={class:"d-flex justify-content-between  border-radius-lg pt-4 "},bE=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Add Trips",-1),uE=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"me-3 text-white fw-5 w-90 border-0 p-2 border-radius-lg"}," Back ",-1),pE={class:"card-body px-0 pb-2"},OE={class:"table-responsive p-0"},jE={class:"row py-2 bg-white form-data border-radius-lg"},hE={class:"bg-white box-shadow-dark border-radius-lg col-xl-12 col-lg-12 col-md-12"},gE={class:"form-bg container p-4 ms-2"},fE={class:"card card-plain"},VE={class:"card-body"},EE={role:"form"},xE={class:"row mb-1"},NE={class:"mb-1"},vE=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Trip Image",-1),yE={class:"mb-1"},wE=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Trip Title",-1),kE={key:0,class:"text-danger error-txt"},AE={class:"mb-1"},SE=Object(l["createElementVNode"])("label",{class:"input-label",for:"description"},"Description",-1),BE=Object(l["createElementVNode"])("br",null,null,-1),CE={key:0,class:"text-danger error-txt"},_E={class:"row p-2"},DE={class:"col-xl-4 col-lg-4 col-md-4"},PE={class:"mb-1"},IE=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Total Seats",-1),TE={key:0,class:"text-danger error-txt"},zE={class:"col-xl-4 col-lg-4 col-md-4"},ME={class:"mb-1"},FE=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},"Organization",-1),UE=Object(l["createElementVNode"])("br",null,null,-1),LE=["value"],qE={key:0,class:"text-danger error-txt"},RE={class:"col-xl-4 col-lg-4 col-md-4"},$E={class:"mb-1"},QE=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Accomodation and Meals",-1),JE={key:0,class:"text-danger error-txt"},HE={class:"col-xl-4 col-lg-4 col-md-4"},WE={class:"mb-1"},ZE=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Start Date",-1),YE={key:0,class:"text-danger error-txt"},KE={class:"col-xl-4 col-lg-4 col-md-4"},GE={class:"mb-1"},XE=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"End Date",-1),ex={key:0,class:"text-danger error-txt"},tx={class:"col-xl-4 col-lg-4 col-md-4"},ax={class:"mb-1"},lx=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Trip Cost",-1),cx={key:0,class:"text-danger error-txt"},ox={class:"row p-2"},sx=Object(l["createElementVNode"])("div",{class:"col-xl-12 col-lg-12 col-md-12"},[Object(l["createElementVNode"])("h6",{class:"text-warning"},"Payment Plan")],-1),nx={class:"col-xl-4 col-lg-4 col-md-4"},rx={class:"d-flex justify-space-between align-items-center text-dark font-weight-bold text-xs"},ix=Object(l["createElementVNode"])("small",{class:"mb-2 me-3"},"Installments",-1),dx={class:"checkbox-container mt-2 me-5"},mx=["checked"],bx=Object(l["createElementVNode"])("label",{class:"checkbox-label",for:"installmentsCheckbox"},null,-1),ux={class:"col-xl-4 col-lg-4 col-md-4"},px={class:"d-flex justify-space-between align-items-center text-dark font-weight-bold text-xs"},Ox=Object(l["createElementVNode"])("small",{class:"mb-2 me-3"},"Deposit",-1),jx={class:"checkbox-container mt-2 me-5"},hx=["checked"],gx=Object(l["createElementVNode"])("label",{class:"checkbox-label",for:"installmentsCheckbox"},null,-1),fx={class:"col-xl-4 col-lg-4 col-md-4"},Vx={class:"d-flex justify-space-between align-items-center text-dark font-weight-bold text-xs"},Ex=Object(l["createElementVNode"])("small",{class:"mb-2 me-3"},"Manual Payment",-1),xx={class:"checkbox-container mt-2 me-5"},Nx=["checked"],vx=Object(l["createElementVNode"])("label",{class:"checkbox-label",for:"installmentsCheckbox"},null,-1),yx={key:0,class:"row p-2"},wx={class:"col-xl-4 col-lg-4 col-md-4"},kx={class:"mb-1"},Ax=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Total Installments",-1),Sx={key:0,class:"text-danger error-txt"},Bx={class:"col-xl-4 col-lg-4 col-md-4"},Cx={class:"mb-1"},_x=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Amount Per Installment",-1),Dx={key:0,class:"text-danger error-txt"},Px={class:"col-xl-4 col-lg-4 col-md-4"},Ix={class:"mb-1"},Tx=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Initial Deposit",-1),zx={key:0,class:"text-danger error-txt"},Mx={class:"col-xl-4 col-lg-4 col-md-4"},Fx={class:"mb-1"},Ux=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Due Date For Initial Deposit",-1),Lx={key:0,class:"text-danger error-txt"},qx={class:"mb-1"},Rx={class:"input-label",for:"enrollment_date"},$x=["onUpdate:modelValue"],Qx={key:0,class:"text-danger error-txt"},Jx={key:1,class:"row p-2"},Hx={class:"col-xl-4 col-lg-4 col-md-4"},Wx={class:"mb-1"},Zx=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Total Deposit",-1),Yx={key:0,class:"text-danger error-txt"},Kx={class:"col-xl-4 col-lg-4 col-md-4"},Gx={class:"mb-1"},Xx=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Initial Deposit",-1),eN=Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Initial Deposit",name:"name"},null,-1),tN={key:0,class:"text-danger error-txt"},aN={class:"col-xl-4 col-lg-4 col-md-4"},lN={class:"mb-1"},cN=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Final Deposit",-1),oN=Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Final Deposit",name:"name"},null,-1),sN={key:0,class:"text-danger error-txt"},nN={class:"col-xl-4 col-lg-4 col-md-4"},rN={class:"mb-1"},iN=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Due Date For Initial Deposit",-1),dN=Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"date",placeholder:"Deadline For Initial Deposit",name:"name"},null,-1),mN={key:0,class:"text-danger error-txt"},bN={class:"col-xl-4 col-lg-4 col-md-4"},uN={class:"mb-1"},pN=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Due Date For Final Deposit",-1),ON=Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"date",placeholder:"Deadline For Final Deposit",name:"name"},null,-1),jN={key:0,class:"text-danger error-txt"},hN={key:2,class:"row p-2"},gN={class:"col-xl-4 col-lg-4 col-md-4"},fN={class:"mb-1"},VN=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Total Amount",-1),EN={key:0,class:"text-danger error-txt"},xN={class:"col-xl-4 col-lg-4 col-md-4"},NN={class:"mb-1"},vN=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Initial Amount",-1),yN=Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Initial Amount",name:"name"},null,-1),wN={key:0,class:"text-danger error-txt"},kN={class:"col-xl-4 col-lg-4 col-md-4"},AN={class:"mb-1"},SN=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Final Amount",-1),BN=Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Final Amount",name:"name"},null,-1),CN={key:0,class:"text-danger error-txt"},_N={class:"col-xl-4 col-lg-4 col-md-4"},DN={class:"mb-1"},PN=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Due Date For Initial Amount",-1),IN=Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"date",placeholder:"Deadline For Initial Deposit",name:"name"},null,-1),TN={key:0,class:"text-danger error-txt"},zN={class:"col-xl-4 col-lg-4 col-md-4"},MN={class:"mb-1"},FN=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Due Date For Final Amount",-1),UN=Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"date",placeholder:"Deadline For Final Deposit",name:"name"},null,-1),LN={key:0,class:"text-danger error-txt"},qN={class:"col-xl-4 col-lg-4 col-md-4"},RN={class:"mb-1"},$N=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Comments",-1),QN=Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"text",placeholder:"cash and card payments are accepted",name:"name"},null,-1),JN={key:0,class:"text-danger error-txt"},HN={class:"mb-1"},WN=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Attribute",-1),ZN=Object(l["createElementVNode"])("br",null,null,-1),YN={class:"mt-4"};function KN(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link"),r=Object(l["resolveComponent"])("DropZone"),i=Object(l["resolveComponent"])("MultiSelect");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",nE,[Object(l["createElementVNode"])("div",rE,[Object(l["createElementVNode"])("div",iE,[Object(l["createElementVNode"])("div",dE,[Object(l["createElementVNode"])("div",mE,[bE,Object(l["createVNode"])(n,{to:{name:"list-trips"}},{default:Object(l["withCtx"])(()=>[uE]),_:1})]),Object(l["createElementVNode"])("div",pE,[Object(l["createElementVNode"])("div",OE,[Object(l["createElementVNode"])("div",jE,[Object(l["createElementVNode"])("div",hE,[Object(l["createElementVNode"])("div",gE,[Object(l["createElementVNode"])("div",fE,[Object(l["createElementVNode"])("div",VE,[Object(l["createElementVNode"])("form",EE,[Object(l["createElementVNode"])("div",xE,[Object(l["createElementVNode"])("div",NE,[vE,Object(l["createVNode"])(r,{maxFiles:Number(1),url:"http://localhost:8080",uploadOnDrop:!0,multipleUpload:!1,parallelUpload:1},null,8,["maxFiles"])]),Object(l["createElementVNode"])("div",yE,[wE,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.newTrip.title=e),class:"input-box title-input",id:"name",type:"text",placeholder:"Trip to Brazil",name:"name"},null,512),[[l["vModelText"],o.newTrip.title]]),""!==o.formValidation&&""!==o.formValidation["title"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",kE,"Title is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",AE,[SE,BE,Object(l["withDirectives"])(Object(l["createElementVNode"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.newTrip.description=e),class:"text-area-box text-area-trips",id:"name",type:"text",placeholder:"Description",name:"description"},null,512),[[l["vModelText"],o.newTrip.description]]),""!==o.formValidation&&""!==o.formValidation["description"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",CE,"Description is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",_E,[Object(l["createElementVNode"])("div",DE,[Object(l["createElementVNode"])("div",PE,[IE,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.newTrip.total_seats=e),class:"input-box",id:"name",type:"number",placeholder:"Total Seats",name:"name"},null,512),[[l["vModelText"],o.newTrip.total_seats]]),""!==o.formValidation&&""!==o.formValidation["total_seats"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",TE,"Total Seats is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",zE,[Object(l["createElementVNode"])("div",ME,[FE,UE,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.newTrip.organization_id=e),class:"select-box",id:"organization",type:"select",placeholder:"organization",name:"organization"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableOrganizations,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.name),9,LE))),128))],512),[[l["vModelSelect"],o.newTrip.organization_id]]),""!==o.formValidation&&""!==o.formValidation["organization_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",qE,"Organization is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",RE,[Object(l["createElementVNode"])("div",$E,[QE,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.newTrip.accomodation_details=e),class:"input-box",id:"name",type:"text",placeholder:"Accomodation and Meals included",name:"name"},null,512),[[l["vModelText"],o.newTrip.accomodation_details]]),""!==o.formValidation&&""!==o.formValidation["accomodation_details"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",JE,"Accomodation Details is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",HE,[Object(l["createElementVNode"])("div",WE,[ZE,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.newTrip.start_date=e),class:"input-box",id:"enrollment_date",type:"date",placeholder:"Enrollment Date",name:"enrollment_date"},null,512),[[l["vModelText"],o.newTrip.start_date]]),""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",YE,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",KE,[Object(l["createElementVNode"])("div",GE,[XE,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.newTrip.end_date=e),class:"input-box",id:"enrollment_date",type:"date",placeholder:"Enrollment Date",name:"enrollment_date"},null,512),[[l["vModelText"],o.newTrip.end_date]]),""!==o.formValidation&&""!==o.formValidation["end_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",ex,"End Date is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",tx,[Object(l["createElementVNode"])("div",ax,[lx,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>s.formattedPrice=e),class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Trip Cost",name:"name"},null,512),[[l["vModelText"],s.formattedPrice]]),""!==o.formValidation&&""!==o.formValidation["total_funds"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",cx,"Trip Cost is required")):Object(l["createCommentVNode"])("",!0)])])]),Object(l["createElementVNode"])("div",ox,[sx,Object(l["createElementVNode"])("div",nx,[Object(l["createElementVNode"])("span",rx,[ix,Object(l["createElementVNode"])("div",dx,[Object(l["createElementVNode"])("input",{checked:"installments"==o.paymentPlan,onChange:t[8]||(t[8]=e=>s.changePaymentPlan("installments")),type:"checkbox",class:"checkbox-input",id:"installmentsCheckbox"},null,40,mx),bx])])]),Object(l["createElementVNode"])("div",ux,[Object(l["createElementVNode"])("span",px,[Ox,Object(l["createElementVNode"])("div",jx,[Object(l["createElementVNode"])("input",{checked:"deposit"==o.paymentPlan,onChange:t[9]||(t[9]=e=>s.changePaymentPlan("deposit")),type:"checkbox",class:"checkbox-input",id:"installmentsCheckbox"},null,40,hx),gx])])]),Object(l["createElementVNode"])("div",fx,[Object(l["createElementVNode"])("span",Vx,[Ex,Object(l["createElementVNode"])("div",xx,[Object(l["createElementVNode"])("input",{checked:"manual"==o.paymentPlan,onChange:t[10]||(t[10]=e=>s.changePaymentPlan("manual")),type:"checkbox",class:"checkbox-input",id:"installmentsCheckbox"},null,40,Nx),vx])])])]),"installments"==o.paymentPlan?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",yx,[Object(l["createElementVNode"])("div",wx,[Object(l["createElementVNode"])("div",kx,[Ax,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>o.installmentsPlan.total_installments=e),class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Total Installments",name:"name"},null,512),[[l["vModelText"],o.installmentsPlan.total_installments]]),""!==o.formValidation&&""!==o.formValidation["total_seats"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Sx,"Total Seats is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",Bx,[Object(l["createElementVNode"])("div",Cx,[_x,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>o.installmentsPlan.amount_per_installment=e),class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Amount Per Installment",name:"name"},null,512),[[l["vModelText"],o.installmentsPlan.amount_per_installment]]),""!==o.formValidation&&""!==o.formValidation["accomodation_details"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Dx,"Accomodation Details is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",Px,[Object(l["createElementVNode"])("div",Ix,[Tx,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>o.installmentsPlan.initial_deposit=e),class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Initial Deposit",name:"name"},null,512),[[l["vModelText"],o.installmentsPlan.initial_deposit]]),""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",zx,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",Mx,[Object(l["createElementVNode"])("div",Fx,[Ux,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>o.installmentsPlan.initial_deposit_due_date=e),class:"input-box",id:"name",type:"date",placeholder:"Deadline For Initial Deposit",name:"name"},null,512),[[l["vModelText"],o.installmentsPlan.initial_deposit_due_date]]),""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Lx,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])]),o.installmentsPlan.total_installments>0?(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],{key:0},Object(l["renderList"])(o.installmentsPlan.total_installments,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:e,class:"col-xl-4 col-lg-4 col-md-4"},[Object(l["createElementVNode"])("div",qx,[Object(l["createElementVNode"])("label",Rx,"Due Date For Installment "+Object(l["toDisplayString"])(t+1),1),Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":e=>o.installmentsPlan.other_installments_due_date[t]=e,class:"input-box",id:"name",type:"date",placeholder:"Deadline For Installment {{ index+1 }}",name:"name"},null,8,$x),[[l["vModelText"],o.installmentsPlan.other_installments_due_date[t]]]),""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Qx,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])]))),128)):Object(l["createCommentVNode"])("",!0)])):Object(l["createCommentVNode"])("",!0),"deposit"==o.paymentPlan?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Jx,[Object(l["createElementVNode"])("div",Hx,[Object(l["createElementVNode"])("div",Wx,[Zx,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>s.formattedPrice=e),class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Total Deposit",name:"name"},null,512),[[l["vModelText"],s.formattedPrice]]),""!==o.formValidation&&""!==o.formValidation["total_seats"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Yx,"Total Seats is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",Kx,[Object(l["createElementVNode"])("div",Gx,[Xx,eN,""!==o.formValidation&&""!==o.formValidation["accomodation_details"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",tN,"Accomodation Details is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",aN,[Object(l["createElementVNode"])("div",lN,[cN,oN,""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",sN,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",nN,[Object(l["createElementVNode"])("div",rN,[iN,dN,""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",mN,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",bN,[Object(l["createElementVNode"])("div",uN,[pN,ON,""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",jN,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])])])):Object(l["createCommentVNode"])("",!0),"manual"==o.paymentPlan?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",hN,[Object(l["createElementVNode"])("div",gN,[Object(l["createElementVNode"])("div",fN,[VN,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>s.formattedPrice=e),class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Total Amount",name:"name"},null,512),[[l["vModelText"],s.formattedPrice]]),""!==o.formValidation&&""!==o.formValidation["total_seats"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",EN,"Total Seats is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",xN,[Object(l["createElementVNode"])("div",NN,[vN,yN,""!==o.formValidation&&""!==o.formValidation["accomodation_details"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",wN,"Accomodation Details is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",kN,[Object(l["createElementVNode"])("div",AN,[SN,BN,""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",CN,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",_N,[Object(l["createElementVNode"])("div",DN,[PN,IN,""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",TN,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",zN,[Object(l["createElementVNode"])("div",MN,[FN,UN,""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",LN,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",qN,[Object(l["createElementVNode"])("div",RN,[$N,QN,""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",JN,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])])])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",HN,[WN,ZN,Object(l["createVNode"])(i,{label:"Attributes",options:o.allAttributes,onInput:s.handleAttributes,placeholder:"Attributes"},null,8,["options","onInput"])])]),Object(l["createElementVNode"])("div",YN,[Object(l["createElementVNode"])("button",{onClick:t[17]||(t[17]=Object(l["withModifiers"])((...e)=>s.saveNewTrip&&s.saveNewTrip(...e),["prevent"])),style:{"z-index":"1","padding-left":"3rem !important","padding-right":"3rem !important","font-size":"12px","background-color":"#573078"},class:"btn text-white ms-2 fw-5 border-0  py-2 border-radius-lg"}," Save ")])])])])])])])])])])])])}Object(l["popScopeId"])();var GN=a("cd1f"),XN=a.n(GN),ev={name:"",components:{MultiSelect:dO,DropZone:GN["DropZone"]},mounted(){this.getOrganizations(),this.getAllAttributes()},updated(){this.$permissions.redirectIfNotAllowed("create_trip")},computed:{formattedPrice:{get(){return this.newTrip.total_funds},set(e){const t=parseFloat(e).toFixed(2);this.newTrip.total_funds=t}}},data(){return{paymentPlan:"",installmentsPlan:{total_installments:"",amount_per_installment:"",initial_deposit:"",initial_deposit_due_date:"",other_installments_due_date:[]},depositPlan:{total:"",final_deposit:"",initial_deposit:""},manualPlan:{total:"",final_deposit:"",initial_deposit:""},allAttributes:"",availableOrganizations:"",isError:!1,formValidation:"",newTrip:{organization_id:"",attributes:[],title:"",description:"",total_seats:"",accomodation_details:"",start_date:"",end_date:"",total_funds:""}}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},async getAllAttributes(){try{const e=await ia.get("/getAllAttributes");this.allAttributes=e.data}catch(e){console.log(e)}},validateForm(){this.$permissions.redirectIfNotAllowed("create_trip");let e=!1,t="";t=Wc()(this.newTrip);for(let a in this.newTrip)""===this.newTrip[a]||void 0===this.newTrip[a]?(t[a]="is required",e=!0):t[a]="";return this.formValidation=t,e},changePaymentPlan(e){this.paymentPlan==e?this.paymentPlan="":this.paymentPlan=e},async saveNewTrip(){if(!this.validateForm()){await this.addPaymentPlan();try{await ia.post("/createTrip",this.newTrip),this.$router.push({name:"list-trips"}),this.snackbarMsg("Trip Saved Successfuly")}catch(e){console.log(e)}}},addPaymentPlan(){"installments"==this.paymentPlan&&(this.newTrip.payment_plan="installments",this.newTrip={...this.newTrip,...this.installmentsPlan})},handleAttributes(e){this.newTrip.attributes=[],e.filter(e=>{this.newTrip.attributes.push(e.id)})},async getOrganizations(){try{const e=await ia.get("/getAllOrganizations");this.availableOrganizations=e.data}catch(e){console.log(e)}}}};a("90fd");const tv=Te()(ev,[["render",KN],["__scopeId","data-v-55e7eec3"]]);var av=tv;Object(l["pushScopeId"])("data-v-a88f19d4");const lv={class:"container-fluid py-4"},cv={class:"row "},ov={class:"col-12"},sv={class:"card my-4"},nv={class:"d-flex justify-content-between  border-radius-lg pt-4 "},rv=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Edit Trip",-1),iv=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"me-3 text-white fw-5 w-90 border-0 p-2 border-radius-lg"}," Back ",-1),dv={class:"card-body px-0 pb-2"},mv={class:"table-responsive p-0"},bv={class:"row py-2 bg-white form-data border-radius-lg"},uv={class:"bg-white box-shadow-dark border-radius-lg col-xl-12 col-lg-12 col-md-12"},pv={class:"form-bg container p-4 ms-2"},Ov={class:"card card-plain"},jv={class:"card-body"},hv={role:"form"},gv={class:"row mb-1"},fv={class:"mb-1"},Vv=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Trip Title",-1),Ev={key:0,class:"text-danger error-txt"},xv={class:"mb-1"},Nv=Object(l["createElementVNode"])("label",{class:"input-label",for:"description"},"Description",-1),vv=Object(l["createElementVNode"])("br",null,null,-1),yv={key:0,class:"text-danger error-txt"},wv={class:"row p-2"},kv={class:"col-xl-4 col-lg-4 col-md-4"},Av={class:"mb-1"},Sv=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Total Seats",-1),Bv={key:0,class:"text-danger error-txt"},Cv={class:"col-xl-4 col-lg-4 col-md-4"},_v={class:"mb-1"},Dv=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},"Organization",-1),Pv=Object(l["createElementVNode"])("br",null,null,-1),Iv=["value"],Tv={key:0,class:"text-danger error-txt"},zv={class:"col-xl-4 col-lg-4 col-md-4"},Mv={class:"mb-1"},Fv=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Accomodation and Meals",-1),Uv={key:0,class:"text-danger error-txt"},Lv={class:"col-xl-4 col-lg-4 col-md-4"},qv={class:"mb-1"},Rv=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Start Date",-1),$v={key:0,class:"text-danger error-txt"},Qv={class:"col-xl-4 col-lg-4 col-md-4"},Jv={class:"mb-1"},Hv=Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"End Date",-1),Wv={key:0,class:"text-danger error-txt"},Zv={class:"col-xl-4 col-lg-4 col-md-4"},Yv={class:"mb-1"},Kv=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Trip Cost",-1),Gv={key:0,class:"text-danger error-txt"},Xv={class:"mb-1"},ey=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Attribute",-1),ty=Object(l["createElementVNode"])("br",null,null,-1),ay={class:"mt-4"};function ly(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link"),r=Object(l["resolveComponent"])("MultiSelect");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",lv,[Object(l["createElementVNode"])("div",cv,[Object(l["createElementVNode"])("div",ov,[Object(l["createElementVNode"])("div",sv,[Object(l["createElementVNode"])("div",nv,[rv,Object(l["createVNode"])(n,{to:{name:"list-trips"}},{default:Object(l["withCtx"])(()=>[iv]),_:1})]),Object(l["createElementVNode"])("div",dv,[Object(l["createElementVNode"])("div",mv,[Object(l["createElementVNode"])("div",bv,[Object(l["createElementVNode"])("div",uv,[Object(l["createElementVNode"])("div",pv,[Object(l["createElementVNode"])("div",Ov,[Object(l["createElementVNode"])("div",jv,[Object(l["createElementVNode"])("form",hv,[Object(l["createElementVNode"])("div",gv,[Object(l["createElementVNode"])("div",fv,[Vv,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.newTrip.title=e),class:"input-box title-input",id:"name",type:"text",placeholder:"Trip to Brazil",name:"name"},null,512),[[l["vModelText"],o.newTrip.title]]),""!==o.formValidation&&""!==o.formValidation["title"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Ev,"Title is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",xv,[Nv,vv,Object(l["withDirectives"])(Object(l["createElementVNode"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.newTrip.description=e),class:"text-area-box text-area-trips",id:"name",type:"text",placeholder:"Description",name:"description"},null,512),[[l["vModelText"],o.newTrip.description]]),""!==o.formValidation&&""!==o.formValidation["description"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",yv,"Description is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",wv,[Object(l["createElementVNode"])("div",kv,[Object(l["createElementVNode"])("div",Av,[Sv,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.newTrip.total_seats=e),class:"input-box",id:"name",type:"number",placeholder:"Total Seats",name:"name"},null,512),[[l["vModelText"],o.newTrip.total_seats]]),""!==o.formValidation&&""!==o.formValidation["total_seats"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Bv,"Total Seats is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",Cv,[Object(l["createElementVNode"])("div",_v,[Dv,Pv,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.newTrip.organization_id=e),class:"select-box",id:"organization",type:"select",placeholder:"organization",name:"organization"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableOrganizations,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.name),9,Iv))),128))],512),[[l["vModelSelect"],o.newTrip.organization_id]]),""!==o.formValidation&&""!==o.formValidation["organization_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Tv,"Organization is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",zv,[Object(l["createElementVNode"])("div",Mv,[Fv,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.newTrip.accomodation_details=e),class:"input-box",id:"name",type:"text",placeholder:"Accomodation and Meals included",name:"name"},null,512),[[l["vModelText"],o.newTrip.accomodation_details]]),""!==o.formValidation&&""!==o.formValidation["accomodation_details"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Uv,"Accomodation Details is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",Lv,[Object(l["createElementVNode"])("div",qv,[Rv,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.newTrip.start_date=e),class:"input-box",id:"enrollment_date",type:"date",placeholder:"Enrollment Date",name:"enrollment_date"},null,512),[[l["vModelText"],o.newTrip.start_date]]),""!==o.formValidation&&""!==o.formValidation["start_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",$v,"Start Date is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",Qv,[Object(l["createElementVNode"])("div",Jv,[Hv,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.newTrip.end_date=e),class:"input-box",id:"enrollment_date",type:"date",placeholder:"Enrollment Date",name:"enrollment_date"},null,512),[[l["vModelText"],o.newTrip.end_date]]),""!==o.formValidation&&""!==o.formValidation["end_date"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Wv,"End Date is required")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",Zv,[Object(l["createElementVNode"])("div",Yv,[Kv,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>s.formattedPrice=e),class:"input-box",id:"name",type:"number",step:"0.01",min:"0",placeholder:"Trip Cost",name:"name"},null,512),[[l["vModelText"],s.formattedPrice]]),""!==o.formValidation&&""!==o.formValidation["total_funds"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Gv,"Trip Cost is required")):Object(l["createCommentVNode"])("",!0)])])]),Object(l["createElementVNode"])("div",Xv,[ey,ty,Object(l["createVNode"])(r,{label:"Attributes",value:o.selectedAttrs,options:o.allAttributes,onInput:s.handleAttributes,placeholder:"Attributes"},null,8,["value","options","onInput"])])]),Object(l["createElementVNode"])("div",ay,[Object(l["createElementVNode"])("button",{onClick:t[8]||(t[8]=Object(l["withModifiers"])((...e)=>s.updateTrip&&s.updateTrip(...e),["prevent"])),style:{"z-index":"1","padding-left":"3rem !important","padding-right":"3rem !important","font-size":"12px","background-color":"#573078"},class:"btn text-white ms-2 fw-5 border-0  py-2 border-radius-lg"}," Save ")])])])])])])])])])])])])}Object(l["popScopeId"])();var cy={name:"",components:{MultiSelect:dO},mounted(){this.editTrip(),this.getOrganizations(),this.getAllAttributes()},updated(){this.$permissions.redirectIfNotAllowed("edit_trip")},computed:{formattedPrice:{get(){return this.newTrip.total_funds},set(e){const t=parseFloat(e).toFixed(2);this.newTrip.total_funds=t}}},data(){return{allAttributes:"",availableOrganizations:"",isError:!1,formValidation:"",selectedAttrs:[],newTrip:{organization_id:"",attributes:[],title:"",description:"",total_seats:"",accomodation_details:"",start_date:"",end_date:"",total_funds:""}}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},async getAllAttributes(){try{const e=await ia.get("/getAllAttributes");this.allAttributes=e.data}catch(e){console.log(e)}this.allAttributes.map(e=>{this.newTrip.attributes.includes(e.id)&&this.selectedAttrs.push(e)})},validateForm(){this.$permissions.redirectIfNotAllowed("edit_trip");let e=!1,t="";t=Wc()(this.newTrip);for(let a in this.newTrip)""===this.newTrip[a]||void 0===this.newTrip[a]?(t[a]="is required",e=!0):t[a]="";return this.formValidation=t,console.log(this.formValidation),e},async updateTrip(){if(this.validateForm())return;let e=this.$route.params.id;try{await ia.put("/updateTrip/"+e,this.newTrip),this.$router.push({name:"list-trips"}),this.snackbarMsg("Trip Updated Successfuly")}catch(t){console.log(t)}},handleAttributes(e){this.newTrip.attributes=[],e.filter(e=>{this.newTrip.attributes.push(e.id)})},async getOrganizations(){try{const e=await ia.get("/getAllOrganizations");this.availableOrganizations=e.data}catch(e){console.log(e)}},async editTrip(){let e=this.$route.params.id;try{let t=await ia.get("/findTrip/"+e);t=t.data,this.setTrip(t)}catch(t){console.log(t)}},setTrip(e){this.newTrip.title=e.title,this.newTrip.description=e.description,this.newTrip.total_seats=e.total_booking,this.newTrip.accomodation_details=e.accomodation_details,this.newTrip.start_date=this.formatDateString(e.start_date),this.newTrip.end_date=this.formatDateString(e.end_date),this.newTrip.total_funds=e.budget,this.newTrip.organization_id=e.organization_id,this.newTrip.attributes=e.attributes},formatDateString(e){const t=Qh()(e),a=t.format("YYYY-MM-DD");return a}}};a("0cd9");const oy=Te()(cy,[["render",ly],["__scopeId","data-v-a88f19d4"]]);var sy=oy;const ny={class:"container-fluid py-4"},ry={class:"row"},iy={class:"col-12"},dy={class:"card my-4"},my={class:"card-body px-0 pb-2"},by={class:"table-responsive p-0"},uy=Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div",{class:"filter-container"},[Object(l["createElementVNode"])("input",{class:"input-box filter-box",id:"name",type:"text",placeholder:"Type to Search...",name:"address"}),Object(l["createElementVNode"])("small",{style:{"font-size":"12px","font-weight":"bold"},class:" me-3 text-dark fw-5 border-0 py-2 px-4 border-radius-lg"}," Trip Participants ")])],-1),py={class:"table align-items-center mb-0"},Oy=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"text-uppercase align-middle text-center text-secondary text-xxs font-weight-bolder opacity-7"}," Student ID "),Object(l["createElementVNode"])("th",{class:"text-uppercase align-middle text-center text-secondary text-xxs font-weight-bolder opacity-7"}," Name "),Object(l["createElementVNode"])("th",{class:"text-uppercase align-middle text-center text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," Stage "),Object(l["createElementVNode"])("th",{class:"text-uppercase align-middle text-center text-secondary text-xxs font-weight-bolder opacity-7"}," School "),Object(l["createElementVNode"])("th",{class:"text-center align-middle text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Payment Status "),Object(l["createElementVNode"])("th",{class:"text-center align-middle text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Participation Status ")])],-1),jy={class:"align-middle text-center"},hy={class:"text-secondary text-xs font-weight-bold"},gy={class:"align-middle text-center"},fy={class:"text-secondary text-xs "},Vy={class:"align-middle text-center"},Ey={class:"text-secondary text-xs "},xy={class:"align-middle text-center"},Ny={class:"text-secondary text-xs "},vy={class:"align-middle text-center text-sm"},yy={class:"badge badge-sm bg-gradient-success"},wy={class:"align-middle text-center text-sm"},ky={class:"badge badge-sm bg-gradient-success"};function Ay(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ny,[Object(l["createElementVNode"])("div",ry,[Object(l["createElementVNode"])("div",iy,[Object(l["createElementVNode"])("div",dy,[Object(l["createElementVNode"])("div",my,[Object(l["createElementVNode"])("div",by,[uy,Object(l["createElementVNode"])("table",py,[Oy,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allParticipants,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",jy,[Object(l["createElementVNode"])("span",hy,Object(l["toDisplayString"])(e.student_id),1)]),Object(l["createElementVNode"])("td",gy,[Object(l["createElementVNode"])("span",fy,Object(l["toDisplayString"])(e.first_name)+" "+Object(l["toDisplayString"])(e.last_name),1)]),Object(l["createElementVNode"])("td",Vy,[Object(l["createElementVNode"])("span",Ey,Object(l["toDisplayString"])(e.stage),1)]),Object(l["createElementVNode"])("td",xy,[Object(l["createElementVNode"])("span",Ny,Object(l["toDisplayString"])(e.school),1)]),Object(l["createElementVNode"])("td",vy,[Object(l["createElementVNode"])("span",yy,Object(l["toDisplayString"])(e.payment_status),1)]),Object(l["createElementVNode"])("td",wy,[Object(l["createElementVNode"])("span",ky,Object(l["toDisplayString"])(e.participation_status),1)])]))),128))])])])])])])])])}var Sy={name:"tables",mounted(){this.getUser(),this.getTripParticipants()},data(){return{allParticipants:"",user:"",filterBy:"",allFields:["Clear","Account","Type","Amount","Date","Status"]}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},getUser(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},async getTripParticipants(){let e=this.$route.params.id;try{const t=await ia.get("/getTripParticipants/"+e);this.allParticipants=t.data}catch(t){console.log(t)}}}};a("f2b6");const By=Te()(Sy,[["render",Ay]]);var Cy=By;const _y={class:"container-fluid py-4"},Dy={class:"row"},Py={class:"col-12"},Iy={class:"card my-4"},Ty={class:"card-body px-0 pb-2"},zy={class:"table-responsive p-0"},My={class:"filter-container"},Fy=Object(l["createElementVNode"])("option",{value:"",disabled:"",selected:""},"Filter",-1),Uy=["value"],Ly=Object(l["createElementVNode"])("i",{class:"fas fa-filter filter-icon me-1"},null,-1),qy={class:"table align-items-center mb-0"},Ry={key:0,class:"text-uppercase text-xxs font-weight-bolder"},$y=Object(l["createElementVNode"])("th",{class:"align-middle text-center text-uppercase text-xxs font-weight-bolder"}," Type ",-1),Qy=Object(l["createElementVNode"])("th",{class:" align-middle text-center text-uppercase text-xxs font-weight-bolder ps-2"}," Amount ",-1),Jy=Object(l["createElementVNode"])("th",{class:"align-middle text-center text-uppercase text-xxs font-weight-bolder"}," Date ",-1),Hy={key:0},Wy={class:"d-flex px-2 py-1"},Zy=Object(l["createElementVNode"])("div",null,null,-1),Yy={class:"d-flex flex-column justify-content-center"},Ky={class:"text-xs text-secondary mb-0"},Gy={class:"align-middle text-center"},Xy={class:"text-xs text-secondary mb-0"},ew={class:"align-middle text-center"},tw={class:"d-flex justify-content-center"},aw={key:0,class:"fas fa-plus fa-xs text-success me-2","aria-hidden":"true"},lw={key:1,class:"fas fa-minus fa-xs text-danger me-2","aria-hidden":"true"},cw={class:"text-xs text-secondary mb-0"},ow={class:"align-middle text-center"},sw={class:"text-secondary text-xs "};function nw(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",_y,[Object(l["createElementVNode"])("div",Dy,[Object(l["createElementVNode"])("div",Py,[Object(l["createElementVNode"])("div",Iy,[Object(l["createElementVNode"])("div",Ty,[Object(l["createElementVNode"])("div",zy,[Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div",My,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box filter-box mb-3 ms-3",onKeyup:t[0]||(t[0]=Object(l["withKeys"])((...e)=>s.filterTransactionHistory&&s.filterTransactionHistory(...e),["enter"])),"onUpdate:modelValue":t[1]||(t[1]=e=>o.seachString=e),id:"name",type:"text",placeholder:"Type to Search...",name:"address"},null,544),[[l["vModelText"],o.seachString]]),Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box filter-type-btn","onUpdate:modelValue":t[2]||(t[2]=e=>o.filterBy=e),id:"filter",type:"select",placeholder:"Filter",name:"filter"},[Fy,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allFields,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,Uy))),128))],512),[[l["vModelSelect"],o.filterBy]]),Ly])]),Object(l["createElementVNode"])("table",qy,[Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,["student"!==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("th",Ry," User ")):Object(l["createCommentVNode"])("",!0),$y,Qy,Jy])]),Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.transactionHistoryList,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},["student"!==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",Hy,[Object(l["createElementVNode"])("div",Wy,[Zy,Object(l["createElementVNode"])("div",Yy,[Object(l["createElementVNode"])("p",Ky,Object(l["toDisplayString"])(e.user.first_name)+" "+Object(l["toDisplayString"])(e.user.last_name),1)])])])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("td",Gy,[Object(l["createElementVNode"])("p",Xy,Object(l["toDisplayString"])(s.transactionType(e.type)),1)]),Object(l["createElementVNode"])("td",ew,[Object(l["createElementVNode"])("span",tw,["top_up"==e.type||"pos_refund"==e.type?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",aw)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",lw)),Object(l["createElementVNode"])("p",cw,"£"+Object(l["toDisplayString"])(s.formattedPrice(e.amount)),1)])]),Object(l["createElementVNode"])("td",ow,[Object(l["createElementVNode"])("span",sw,Object(l["toDisplayString"])(s.formatDate(e.created_at)),1)])]))),128))])])])])])])])])}var rw={name:"tables",mounted(){this.setColor(),this.getUser(),this.getTransactionHistory()},updated(){"student"!=this.user.role&&this.$permissions.redirectIfNotAllowed("transaction_history")},computed:{...Object(De["c"])(["getBrandingSetting"])},data(){return{user:"",transactionHistoryList:"",filterBy:"",seachString:"",allFields:["Type","Amount","Date"]}},methods:{setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},transactionType(e){let t="";return"top_up"==e?t="Top Up":"pos_transaction"==e?t="Cafeteria Purchase":"pos_refund"==e?t="Cafeteria Refund":"trip_funds"==e?t="Trip Charges":"school_shop_funds"==e&&(t="Shop Purchase"),t},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},getUser(){let e=localStorage.getItem("user");this.user=JSON.parse(e)},snackbarMsg(e,t="success"){this.$snackbar.add({type:t,text:e,background:"white"})},async getTransactionHistory(){let e=localStorage.getItem("user");e=JSON.parse(e);let t=null;"student"==e.role&&(t=e.id);let a={user_id:null,admin_id:null,role:null};a.user_id=t,"organization_admin"!=this.user.role&&"staff"!=this.user.role&&"parent"!=this.user.role||(a.admin_id=this.user.id,a.role=this.user.role);try{const e=await ia.post("getTransactionHistory",a);this.transactionHistoryList=e.data}catch(l){console.log(l)}},async filterTransactionHistory(){let e=localStorage.getItem("user");e=JSON.parse(e),""==this.filterBy&&""==this.seachString?(this.filterBy="Clear",this.seachString="clear"):""!=this.filterBy&&""==this.seachString&&this.snackbarMsg("Please Enter the Search String","error");let t={user_id:e.id,type:this.filterBy,value:this.seachString};try{const e=await ia.post("/filterTransactionHistory",t);this.transactionHistoryList=e.data}catch(a){console.log(a)}},async deleteTransactionHistory(e){try{await ia.delete("/deleteTransactionHistory/"+e),this.removeTransactionFromList(e),this.snackbarMsg("Deleted Successfully")}catch(t){console.log(t)}},removeTransactionFromList(e){const t=this.transactionHistoryList.findIndex(t=>t.id===e);this.transactionHistoryList.splice(t,1)},formatDate(e){const t=Qh()(e);return t.format("MMM D, YYYY,   HH:mm:ss")}}};a("693b");const iw=Te()(rw,[["render",nw]]);var dw=iw;const mw={class:"container-fluid py-4"},bw={class:"row"},uw={class:"col-12"},pw={class:"card my-4"},Ow={class:"card-body px-0 pb-2"},jw={class:"table-responsive p-0"},hw={class:"filter-container"},gw=Object(l["createElementVNode"])("input",{class:"input-box filter-box mb-3 ms-3",id:"name",type:"text",placeholder:"Type to Search...",name:"address"},null,-1),fw=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4 border-radius-lg"}," Add Item ",-1),Vw={class:"table align-items-center mb-0"},Ew=Object(l["createElementVNode"])("th",{class:"text-uppercase align-middle text-center text-xxs font-weight-bolder"}," ID ",-1),xw=Object(l["createElementVNode"])("th",{class:"text-uppercase align-middle text-center text-xxs font-weight-bolder"}," Item ",-1),Nw=Object(l["createElementVNode"])("th",{class:"text-uppercase align-middle text-center text-xxs font-weight-bolder ps-2"}," Quantity ",-1),vw=Object(l["createElementVNode"])("th",{class:"text-uppercase align-middle text-center text-xxs font-weight-bolder"}," Price ",-1),yw={key:0,class:"text-uppercase align-middle text-center text-xxs font-weight-bolder"},ww=Object(l["createElementVNode"])("th",{class:"text-center align-middle text-center text-uppercase text-xxs font-weight-bolder"}," Status ",-1),kw=Object(l["createElementVNode"])("th",{class:"text-center align-middle text-center text-uppercase text-xxs font-weight-bolder"}," Action ",-1),Aw={class:"align-middle text-center"},Sw={class:"text-secondary text-xs font-weight-bold"},Bw={class:"align-middle text-center"},Cw={class:"text-secondary text-xs "},_w={class:"align-middle text-center"},Dw={class:"text-secondary text-xs "},Pw={class:"align-middle text-center"},Iw={class:"text-secondary text-xs "},Tw={key:0,class:"align-middle text-center"},zw={class:"text-secondary text-xs "},Mw={class:"align-middle text-center text-sm"},Fw={class:"badge badge-sm bg-gradient-success"},Uw={class:"align-middle text-center text-sm"},Lw=["onClick"],qw={key:1},Rw=["onClick"],$w=["onClick"];function Qw(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",mw,[Object(l["createElementVNode"])("div",bw,[Object(l["createElementVNode"])("div",uw,[Object(l["createElementVNode"])("div",pw,[Object(l["createElementVNode"])("div",Ow,[Object(l["createElementVNode"])("div",jw,[Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div",hw,[gw,s.userPermissions.create_shop?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[o.user&&"organization_admin"==o.user.role||"staff"==o.user.role||"super_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"add-items"}},{default:Object(l["withCtx"])(()=>[fw]),_:1})):Object(l["createCommentVNode"])("",!0)],64)):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("table",Vw,[Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Ew,xw,Nw,vw,o.user&&"super_admin"==o.user.role||o.user&&"organization_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("th",yw," Shop ")):Object(l["createCommentVNode"])("",!0),ww,kw])]),Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.shopItems,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:t},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.shop_items,(t,a)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:a},[Object(l["createElementVNode"])("td",Aw,[Object(l["createElementVNode"])("span",Sw,Object(l["toDisplayString"])(t.id),1)]),Object(l["createElementVNode"])("td",Bw,[Object(l["createElementVNode"])("span",Cw,Object(l["toDisplayString"])(t.name),1)]),Object(l["createElementVNode"])("td",_w,[Object(l["createElementVNode"])("span",Dw,Object(l["toDisplayString"])(t.quantity),1)]),Object(l["createElementVNode"])("td",Pw,[Object(l["createElementVNode"])("span",Iw,"£"+Object(l["toDisplayString"])(s.formattedPrice(t.price)),1)]),o.user&&"super_admin"==o.user.role||"organization_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",Tw,[Object(l["createElementVNode"])("span",zw,Object(l["toDisplayString"])(e.shop_name?e.shop_name:"-"),1)])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("td",Mw,[Object(l["createElementVNode"])("span",Fw,Object(l["toDisplayString"])(t.status),1)]),Object(l["createElementVNode"])("td",Uw,[o.user&&"student"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",{key:0,onClick:e=>s.addToCart(t.id),class:"fas fa-plus-circle text-success me-2","aria-hidden":"true"},null,8,Lw)):Object(l["createCommentVNode"])("",!0),o.user&&"super_admin"==o.user.role||"organization_admin"==o.user.role||"staff"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",qw,[s.userPermissions.edit_shop?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",{key:0,onClick:e=>s.editShopItem(t.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"edit",8,Rw)):Object(l["createCommentVNode"])("",!0),s.userPermissions.delete_shop?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",{key:1,onClick:e=>s.confirmDelete(t.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"delete",8,$w)):Object(l["createCommentVNode"])("",!0)])):Object(l["createCommentVNode"])("",!0)])]))),128))],64))),128))])])])])])])])])}var Jw={name:"tables",mounted(){this.setColor(),this.getUser(),this.getShopItems()},updated(){"student"!=this.user.role&&this.$permissions.redirectIfNotAllowed("view_shop")},computed:{...Object(De["c"])(["getBrandingSetting"]),userPermissions(){return this.$permissions.userPermissions.value}},data(){return{shopItems:"",user:"",filterBy:"",allFields:["Clear","Account","Type","Amount","Date","Status"]}},methods:{confirmDelete(e){qn.a.fire({title:"Are you sure?",text:"Item will be deleted permanently and you will not be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&this.deleteShopItem(e)})},setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},getUser(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},async getShopItems(){try{const e=await ia.get("/getShopItems");this.shopItems=e.data}catch(e){console.log(e)}},async deleteShopItem(e){try{await ia.delete("/deleteShopItem/"+e),this.getShopItems(),this.snackbarMsg("Item Removed Successfuly")}catch(t){console.log(t)}},removeShopItem(e){const t=this.shopItems.findIndex(t=>t.id===e);this.shopItems.splice(t,1)},editShopItem(e){this.$router.push({name:"edit-shop-items",params:{id:e}})},async addToCart(e){let t=localStorage.getItem("user");t=JSON.parse(t);let a={user_id:t.id,shop_item_id:e};try{await ia.post("/addItemToCart",a),this.snackbarMsg("Item Added to Cart")}catch(l){console.log(l)}}}};a("28a7");const Hw=Te()(Jw,[["render",Qw]]);var Ww=Hw;const Zw={class:"container-fluid py-4"},Yw={class:"row"},Kw={class:"col-12"},Gw={class:"card my-4"},Xw=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between  border-radius-lg pt-4 pb-3"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Add Shop Item")],-1),ek={class:"card-body px-0 pb-2"},tk={class:"table-responsive p-0"},ak={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},lk={class:"bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},ck={class:"form-bg container p-4"},ok={class:"card card-plain"},sk={class:"card-body"},nk={role:"form"},rk={class:"mb-1"},ik=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Name",-1),dk={key:0,class:"text-danger error-txt"},mk={class:"mb-1"},bk=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Price",-1),uk={key:0,class:"text-danger error-txt"},pk={class:"mb-1"},Ok=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Quantity",-1),jk={key:0,class:"text-danger error-txt"},hk={class:"mb-1"},gk=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Detail",-1),fk={key:0,class:"text-danger error-txt"},Vk={class:"mb-1"},Ek=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Attribute",-1),xk=Object(l["createElementVNode"])("br",null,null,-1),Nk={key:0,class:"mb-1"},vk=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Shop",-1),yk=Object(l["createElementVNode"])("br",null,null,-1),wk=["value"],kk={key:0,class:"text-danger error-txt"},Ak={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},Sk={class:""};function Bk(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("MultiSelect");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Zw,[Object(l["createElementVNode"])("div",Yw,[Object(l["createElementVNode"])("div",Kw,[Object(l["createElementVNode"])("div",Gw,[Xw,Object(l["createElementVNode"])("div",ek,[Object(l["createElementVNode"])("div",tk,[Object(l["createElementVNode"])("div",ak,[Object(l["createElementVNode"])("div",lk,[Object(l["createElementVNode"])("div",ck,[Object(l["createElementVNode"])("div",ok,[Object(l["createElementVNode"])("div",sk,[Object(l["createElementVNode"])("form",nk,[Object(l["createElementVNode"])("div",rk,[ik,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newItem.name=e),type:"text",placeholder:"Name",name:"name"},null,512),[[l["vModelText"],o.newItem.name]]),""!==o.formValidation&&""!==o.formValidation["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",dk,"Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",mk,[bk,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"price","onUpdate:modelValue":t[1]||(t[1]=e=>s.formattedPrice=e),type:"number",step:"0.01",min:"0",placeholder:"price",name:"price"},null,512),[[l["vModelText"],s.formattedPrice]]),""!==o.formValidation&&""!==o.formValidation["price"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",uk,"Price is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",pk,[Ok,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"quantity","onUpdate:modelValue":t[2]||(t[2]=e=>o.newItem.quantity=e),type:"number",placeholder:"Quantity",name:"quantity"},null,512),[[l["vModelText"],o.newItem.quantity]]),""!==o.formValidation&&""!==o.formValidation["quantity"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",jk,"Quantity is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",hk,[gk,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>o.newItem.detail=e),type:"text",placeholder:"Detail",name:"detail"},null,512),[[l["vModelText"],o.newItem.detail]]),""!==o.formValidation&&""!==o.formValidation["detail"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",fk,"Detail is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Vk,[Ek,xk,Object(l["createVNode"])(n,{label:"Attributes",options:o.allAttributes,onInput:s.handleAttributes,placeholder:"Attributes"},null,8,["options","onInput"])]),"super_admin"==o.user.role||"organization_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Nk,[vk,yk,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[4]||(t[4]=e=>o.newItem.shop_id=e),id:"shop",type:"select",placeholder:"shop",name:"shop"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allShops,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.shop_name),9,wk))),128))],512),[[l["vModelSelect"],o.newItem.shop_id]]),""!==o.formValidation&&""!==o.formValidation["shop_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",kk,"Shop is required")):Object(l["createCommentVNode"])("",!0)])):Object(l["createCommentVNode"])("",!0)])])])])]),Object(l["createElementVNode"])("div",Ak,[Object(l["createElementVNode"])("div",Sk,[Object(l["createElementVNode"])("button",{onClick:t[5]||(t[5]=(...e)=>s.saveNewItem&&s.saveNewItem(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-5 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Save Item ")])])])])])])])])])}var Ck={name:"",components:{MultiSelect:dO},mounted(){this.getUser(),this.getAllAttributes(),this.getAllShops()},updated(){this.$permissions.redirectIfNotAllowed("create_shop")},computed:{formattedPrice:{get(){return this.newItem.price},set(e){const t=parseFloat(e).toFixed(2);this.newItem.price=t}}},data(){return{formValidation:"",allAttributes:"",allShops:"",user:"",newItem:{name:"",attributes:[],price:"",quantity:"",detail:"",attribute_id:"",shop_id:""},availableStatus:["active","pending","blocked"],allSchools:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("create_shop");let e=!1,t="";t=Wc()(this.newItem);for(let a in this.newItem)""!==this.newItem[a]&&void 0!==this.newItem[a]||"attribute_id"===a?t[a]="":("shop_id"!=a||"super_admin"!=this.user.role&&"organization_admin"!=this.user.role||(t[a]="is required",e=!0),t[a]="is required",e=!0);return this.formValidation=t,e},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async saveNewItem(){if(!this.validateForm())try{await ia.post("/addItem",this.newItem),this.$router.push({name:"shop-items"}),this.snackbarMsg("Item Saved Successfuly")}catch(e){console.log(e)}},handleAttributes(e){this.newItem.attributes=[],e.filter(e=>{this.newItem.attributes.push(e.id)})},async getAllAttributes(){try{const e=await ia.get("/getAllAttributes");this.allAttributes=e.data}catch(e){console.log(e)}},async getAllShops(){try{const e=await ia.get("/getAllSchoolShop");this.allShops=e.data}catch(e){console.log(e)}}}};const _k=Te()(Ck,[["render",Bk]]);var Dk=_k;const Pk={class:"container-fluid py-4"},Ik={class:"row"},Tk={class:"col-12"},zk={class:"card my-4"},Mk=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between  border-radius-lg pt-4 pb-3"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Edit Shop Item")],-1),Fk={class:"card-body px-0 pb-2"},Uk={class:"table-responsive p-0"},Lk={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},qk={class:"bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},Rk={class:"form-bg container p-4"},$k={class:"card card-plain"},Qk={class:"card-body"},Jk={role:"form"},Hk={class:"mb-1"},Wk=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Name",-1),Zk={key:0,class:"text-danger error-txt"},Yk={class:"mb-1"},Kk=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Price",-1),Gk={key:0,class:"text-danger error-txt"},Xk={class:"mb-1"},eA=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Quantity",-1),tA={key:0,class:"text-danger error-txt"},aA={class:"mb-1"},lA=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Detail",-1),cA={key:0,class:"text-danger error-txt"},oA={class:"mb-1"},sA=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Attribute",-1),nA=Object(l["createElementVNode"])("br",null,null,-1),rA={key:0,class:"mb-1"},iA=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Shop",-1),dA=Object(l["createElementVNode"])("br",null,null,-1),mA=["value"],bA={key:0,class:"text-danger error-txt"},uA={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},pA={class:""};function OA(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("MultiSelect");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Pk,[Object(l["createElementVNode"])("div",Ik,[Object(l["createElementVNode"])("div",Tk,[Object(l["createElementVNode"])("div",zk,[Mk,Object(l["createElementVNode"])("div",Fk,[Object(l["createElementVNode"])("div",Uk,[Object(l["createElementVNode"])("div",Lk,[Object(l["createElementVNode"])("div",qk,[Object(l["createElementVNode"])("div",Rk,[Object(l["createElementVNode"])("div",$k,[Object(l["createElementVNode"])("div",Qk,[Object(l["createElementVNode"])("form",Jk,[Object(l["createElementVNode"])("div",Hk,[Wk,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newItem.name=e),type:"text",placeholder:"Name",name:"name"},null,512),[[l["vModelText"],o.newItem.name]]),""!==o.formValidation&&""!==o.formValidation["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Zk,"Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Yk,[Kk,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"price","onUpdate:modelValue":t[1]||(t[1]=e=>o.newItem.price=e),type:"number",placeholder:"price",name:"price"},null,512),[[l["vModelText"],o.newItem.price]]),""!==o.formValidation&&""!==o.formValidation["price"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Gk,"Price is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Xk,[eA,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"quantity","onUpdate:modelValue":t[2]||(t[2]=e=>o.newItem.quantity=e),type:"number",placeholder:"Quantity",name:"quantity"},null,512),[[l["vModelText"],o.newItem.quantity]]),""!==o.formValidation&&""!==o.formValidation["quantity"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",tA,"Quantity is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",aA,[lA,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>o.newItem.detail=e),type:"text",placeholder:"Detail",name:"detail"},null,512),[[l["vModelText"],o.newItem.detail]]),""!==o.formValidation&&""!==o.formValidation["detail"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",cA,"Detail is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",oA,[sA,nA,Object(l["createVNode"])(n,{label:"Attributes",value:o.selectedAttrs,options:o.allAttributes,onInput:s.handleAttributes,placeholder:"Attributes"},null,8,["value","options","onInput"])]),"super_admin"==o.user.role||"organization_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",rA,[iA,dA,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[4]||(t[4]=e=>o.newItem.shop_id=e),id:"shop",type:"select",placeholder:"shop",name:"shop"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allShops,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.shop_name),9,mA))),128))],512),[[l["vModelSelect"],o.newItem.shop_id]]),""!==o.formValidation&&""!==o.formValidation["shop_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",bA,"Shop is required")):Object(l["createCommentVNode"])("",!0)])):Object(l["createCommentVNode"])("",!0)])])])])]),Object(l["createElementVNode"])("div",uA,[Object(l["createElementVNode"])("div",pA,[Object(l["createElementVNode"])("button",{onClick:t[5]||(t[5]=(...e)=>s.updateItem&&s.updateItem(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-5 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Save Item ")])])])])])])])])])}var jA={name:"",components:{MultiSelect:dO},mounted(){this.getUser(),this.editItem(),this.getAllAttributes(),this.getAllShops()},updated(){this.$permissions.redirectIfNotAllowed("edit_shop")},data(){return{formValidation:"",allAttributes:"",allShops:"",selectedAttrs:[],user:"",newItem:{name:"",attributes:[],price:"",quantity:"",detail:"",attribute_id:"",shop_id:""},availableStatus:["active","pending","blocked"],allSchools:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("edit_shop");let e=!1,t="";t=Wc()(this.newItem);for(let a in this.newItem)""!==this.newItem[a]&&void 0!==this.newItem[a]||"attribute_id"===a?t[a]="":("shop_id"!=a||"super_admin"!=this.user.role&&"organization_admin"!=this.user.role||(t[a]="is required",e=!0),t[a]="is required",e=!0);return this.formValidation=t,e},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async updateItem(){if(this.validateForm())return;let e=this.$route.params.id;try{await ia.put("/updateShopItem/"+e,this.newItem),this.$router.push({name:"shop-items"}),this.snackbarMsg("Item Updated Successfuly")}catch(t){console.log(t)}},async editItem(){let e=this.$route.params.id;try{let t=await ia.get("/editShopItem/"+e);t=t.data,this.setShopItem(t)}catch(t){console.log(t)}},setShopItem(e){this.newItem.name=e.name,this.newItem.price=e.price,this.newItem.quantity=e.quantity,this.newItem.shop_id=e.shop_id,this.newItem.attribute_id=e.attribute_id,this.newItem.detail=e.detail,this.newItem.attributes=e.attributes},async getAllAttributes(){try{const e=await ia.get("/getAllAttributes");this.allAttributes=e.data}catch(e){console.log(e)}this.allAttributes.map(e=>{this.newItem.attributes.includes(e.id)&&this.selectedAttrs.push(e)})},handleAttributes(e){console.log("attrs",e),this.newItem.attributes=[],e.filter(e=>{this.newItem.attributes.push(e.id)})},async getAllShops(){try{const e=await ia.get("/getAllSchoolShop");this.allShops=e.data}catch(e){console.log(e)}}}};const hA=Te()(jA,[["render",OA]]);var gA=hA,fA=a("aa68"),VA=a.n(fA);const EA={class:"row"},xA={class:"col-xl-12 col-lg-12 col-md-12"},NA={class:"card"},vA=Object(l["createElementVNode"])("div",{class:"card-header pb-0 px-3 d-flex justify-content-between"},[Object(l["createElementVNode"])("h6",{class:"mb-0"},"Checkout")],-1),yA={class:"card-body pt-4 p-3"},wA={class:"row"},kA={class:"list-group col-xl-6 col-lg-6 col-md-6"},AA={key:0,class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},SA={class:"d-flex flex-column"},BA={class:"mb-3 text-sm"},CA=Object(l["createElementVNode"])("span",{class:"mb-1 text-xs"},null,-1),_A={class:"ms-auto text-end"},DA=Object(l["createElementVNode"])("i",{class:"far fa-trash-alt me-2","aria-hidden":"true"},null,-1),PA=Object(l["createElementVNode"])("i",{class:"fas fa-pencil-alt text-dark me-2","aria-hidden":"true"},null,-1),IA={class:"ms-auto text-end"},TA={class:"me-2 text-warning text-gradient text-sm font-weight-bold"},zA=["onClick"],MA={key:1,class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},FA={class:"d-flex flex-column"},UA={class:"mb-3 text-sm"},LA=Object(l["createElementVNode"])("span",{class:"mb-1 text-xs"},null,-1),qA={class:"ms-auto text-end"},RA=Object(l["createElementVNode"])("i",{class:"far fa-trash-alt me-2","aria-hidden":"true"},null,-1),$A=Object(l["createElementVNode"])("i",{class:"fas fa-pencil-alt text-dark me-2","aria-hidden":"true"},null,-1),QA={class:"ms-auto text-end"},JA={class:"me-2 text-warning text-gradient text-sm font-weight-bold"},HA=["onClick"],WA={class:"col-md-5 ms-auto"},ZA=["onClick"],YA={key:0,class:"w-10 me-3 mb-0",src:VA.a,alt:"logo"},KA={key:1,class:"w-10 me-3 mb-0",src:Re.a,alt:"logo"},GA={class:"mb-0"},XA={key:0,class:"d-flex align-items-center list-group-item border-0 d-flex p-2 bg-gray-100 border-radius-lg"},eS=Object(l["createElementVNode"])("div",{class:"d-flex flex-column"},[Object(l["createElementVNode"])("h6",{class:"d-flex align-items-center text-sm "},"Total Amount")],-1),tS={class:"ms-auto text-end"},aS={class:"d-flex me-3 align-items-center",style:{"justify-content":"flex-end"}},lS={class:"d-flex align-items-center text-success fw-bold text-sm "},cS={key:1,class:"d-flex justify-content-center align-items-center list-group-item border-0 d-flex p-4 bg-gray-100 border-radius-lg"},oS=Object(l["createElementVNode"])("h6",{class:"text-sm text-warning"},"You can't checkout while Cart is empty!",-1),sS=[oS];function nS(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",EA,[Object(l["createElementVNode"])("div",xA,[Object(l["createElementVNode"])("div",NA,[vA,Object(l["createElementVNode"])("div",yA,[Object(l["createElementVNode"])("div",wA,[Object(l["createElementVNode"])("ul",kA,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.cartItems,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:t},[null!==e.shop_item?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",AA,[Object(l["createElementVNode"])("div",SA,[Object(l["createElementVNode"])("h6",BA,Object(l["toDisplayString"])(e.shop_item.name)+" (Shop Item)",1),CA]),Object(l["createElementVNode"])("div",_A,[Object(l["createElementVNode"])("span",null,["super_admin"==o.user.role||"organization_admin"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[DA,PA],64)):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",IA,[Object(l["createElementVNode"])("span",null,[Object(l["createElementVNode"])("span",TA," £"+Object(l["toDisplayString"])(s.formattedPrice(e.shop_item.price)),1),Object(l["createElementVNode"])("i",{onClick:t=>s.removeItemFromCart(e.id),class:"fas fa-minus-circle text-danger me-2","aria-hidden":"true"},null,8,zA)])])])])):Object(l["createCommentVNode"])("",!0),null!==e.trip?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",MA,[Object(l["createElementVNode"])("div",FA,[Object(l["createElementVNode"])("h6",UA,Object(l["toDisplayString"])(e.trip.title)+" (Trip)",1),LA]),Object(l["createElementVNode"])("div",qA,[Object(l["createElementVNode"])("span",null,["super_admin"==o.user.role||"school_user"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[RA,$A],64)):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",QA,[Object(l["createElementVNode"])("span",null,[Object(l["createElementVNode"])("span",JA," £"+Object(l["toDisplayString"])(s.formattedPrice(e.trip.budget)),1),Object(l["createElementVNode"])("i",{onClick:t=>s.removeItemFromCart(e.id),class:"fas fa-minus-circle text-danger me-2","aria-hidden":"true"},null,8,HA)])])])])):Object(l["createCommentVNode"])("",!0)],64))),128))]),Object(l["createElementVNode"])("div",WA,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.userCards,(e,a)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:a},[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])([{selected:o.isSelected===a}," mb-1 card card-body border card-plain border-radius-lg d-flex align-items-center flex-row"]),onClick:e=>s.toggleSelection(a,e)},["visa"==e.card.brand?(Object(l["openBlock"])(),Object(l["createElementBlock"])("img",YA)):Object(l["createCommentVNode"])("",!0),"mastercard"==e.card.brand?(Object(l["openBlock"])(),Object(l["createElementBlock"])("img",KA)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("h6",GA," **** **** **** "+Object(l["toDisplayString"])(e.card.last4),1)],10,ZA),o.cartItems.length>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",XA,[eS,Object(l["createElementVNode"])("div",tS,[Object(l["createElementVNode"])("div",aS,[Object(l["createElementVNode"])("h6",lS,"£"+Object(l["toDisplayString"])(s.totalAmount()),1)])])])):o.dataLoaded?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",cS,sS)):Object(l["createCommentVNode"])("",!0),o.cartItems.length>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:2,onClick:t[0]||(t[0]=e=>s.checkout()),style:{"font-size":"12px","background-color":"#573078"},class:"mt-3 me-3 trips-btn w-45 bg-gradient-grey shadow-grey text-white fw-5 p-2 border-radius-lg"}," One-Click Payment ")):Object(l["createCommentVNode"])("",!0)],64))),128))])])])])])])}var rS={name:"billing-card",data(){return{userCards:"",dataLoaded:!1,user:"",cartItems:"",isSelected:0}},mounted(){this.getUser(),this.getCartItems(),this.getCustomerPaymentMethods()},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},async getCartItems(){try{let e=await ia.get("/getUserCartItems");e=e.data,this.cartItems=e,this.dataLoaded=!0}catch(e){console.log(e)}},totalAmount(){let e=0;return Array.isArray(this.cartItems)?this.cartItems.forEach(t=>{t.trip&&(e+=t.trip.budget),t.shop_item&&(e+=t.shop_item.price)}):console.error("this.cartItems is not an array"),this.formattedPrice(e)},async removeItemFromCart(e){let t={item_id:e};try{await ia.post("/removeItemFromCart",t),this.removeItemFromList(e)}catch(a){console.log(a)}},removeItemFromList(e){const t=this.cartItems.findIndex(t=>t.id===e);this.cartItems.splice(t,1),this.snackbarMsg("Item Removed Successfully")},async checkout(){let e=this.userCards[this.isSelected]?this.userCards[this.isSelected].id:"",t={payment_method:e};try{await ia.post("/checkout",t),this.snackbarMsg("Checkout Successful"),this.$router.push({name:"Dashboard"})}catch(a){console.log(a)}},async getCustomerPaymentMethods(){let e,t;e=localStorage.getItem("user"),e=JSON.parse(e),t=e.id;let a={user_id:t};try{const e=await ia.post("/getPaymentMethods",a);this.userCards=e.data.data}catch(l){console.log(l)}},toggleSelection(e,t){"i"!==t.target.tagName.toLowerCase()&&(this.isSelected=e)}}};const iS=Te()(rS,[["render",nS]]);var dS=iS;const mS={class:"row"},bS={class:"col-xl-8 col-lg-8 col-md-8"},uS={class:"card"},pS={class:"card-header pb-0 px-3 d-flex justify-content-between"},OS=Object(l["createElementVNode"])("h6",{class:"mb-0"},"Menu",-1),jS=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#f513ca"},class:"me-3 text-white fw-5 border-0 p-2 border-radius-lg"}," Add Menu ",-1),hS=Object(l["createStaticVNode"])('<div class="card-body pt-4 p-3"><ul class="list-group"><li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-3 text-sm">ATA Rice</h6><span class="mb-1 text-xs"> Boiled Egg and wrapped in a ground meat mixture coated in breadcrumbs, and deep-fried. </span></div><div class="ms-auto text-end"><span><i class="far fa-trash-alt me-2" aria-hidden="true"></i><i class="fas fa-pencil-alt text-dark me-2" aria-hidden="true"></i><i class="fas fa-plus-circle text-success me-2" aria-hidden="true"></i></span><br><div class="d-flex me-3 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold" style="justify-content:flex-end;"> - £5 </div></div></li><li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-3 text-sm">Scotch Egg</h6><span class="mb-1 text-xs"> Boiled Egg and wrapped in a ground meat mixture coated in breadcrumbs, and deep-fried. </span></div><div class="ms-auto text-end"><span><i class="far fa-trash-alt me-2" aria-hidden="true"></i><i class="fas fa-pencil-alt text-dark me-2" aria-hidden="true"></i><i class="fas fa-plus-circle text-success me-2" aria-hidden="true"></i></span><br><div class="d-flex me-3 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold" style="justify-content:flex-end;"> - £5 </div></div></li><li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-3 text-sm">Rice and DODO</h6><span class="mb-1 text-xs"> Boiled Egg and wrapped in a ground meat mixture coated in breadcrumbs, and deep-fried. </span></div><div class="ms-auto text-end"><span><i class="far fa-trash-alt me-2" aria-hidden="true"></i><i class="fas fa-pencil-alt text-dark me-2" aria-hidden="true"></i><i class="fas fa-plus-circle text-success me-2" aria-hidden="true"></i></span><br><div class="d-flex me-3 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold" style="justify-content:flex-end;"> - £5 </div></div></li><li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-3 text-sm">Puff-Puff</h6><span class="mb-1 text-xs"> Boiled Egg and wrapped in a ground meat mixture coated in breadcrumbs, and deep-fried. </span></div><div class="ms-auto text-end"><span><i class="far fa-trash-alt me-2" aria-hidden="true"></i><i class="fas fa-pencil-alt text-dark me-2" aria-hidden="true"></i><i class="fas fa-plus-circle text-success me-2" aria-hidden="true"></i></span><br><div class="d-flex me-3 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold" style="justify-content:flex-end;"> - £5 </div></div></li></ul></div>',1),gS=Object(l["createStaticVNode"])('<div class="col-xl-4 col-lg-4 col-md-4"><div class="card"><div class="card-header pb-0 px-3"><h6 class="mb-0">Favourite</h6></div><div class="card-body pt-4 p-3"><ul class="list-group"><li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-3 text-sm">Puff-Puff</h6><span class="mb-1 text-xs"> Boiled Egg and wrapped in a ground meat mixture coated in breadcrumbs, and deep-fried. </span></div><div class="ms-auto text-end"><span><i class="fas fa-minus-circle text-danger me-2" aria-hidden="true"></i></span><br><div class="d-flex ms-3 me-2 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold" style="justify-content:flex-end;"> £5 </div></div></li><li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-3 text-sm">Scotch Egg</h6><span class="mb-1 text-xs"> Boiled Egg and wrapped in a ground meat mixture coated in breadcrumbs, and deep-fried. </span></div><div class="ms-auto text-end"><span><i class="fas fa-minus-circle text-danger me-2" aria-hidden="true"></i></span><br><div class="d-flex ms-3 me-2 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold" style="justify-content:flex-end;"> £5 </div></div></li><li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-3 text-sm">Rice and DODO</h6><span class="mb-1 text-xs"> Boiled Egg and wrapped in a ground meat mixture coated in breadcrumbs, and deep-fried. </span></div><div class="ms-auto text-end"><span><i class="fas fa-minus-circle text-danger me-2" aria-hidden="true"></i></span><br><div class="d-flex ms-3 me-2 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold" style="justify-content:flex-end;"> £5 </div></div></li></ul></div></div></div>',1);function fS(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",mS,[Object(l["createElementVNode"])("div",bS,[Object(l["createElementVNode"])("div",uS,[Object(l["createElementVNode"])("div",pS,[OS,Object(l["createVNode"])(n,{to:"/add-menu"},{default:Object(l["withCtx"])(()=>[jS]),_:1})]),hS])]),gS])}var VS={name:"billing-card"};const ES=Te()(VS,[["render",fS]]);var xS=ES;Object(l["pushScopeId"])("data-v-d27ede50");const NS={class:"container-fluid py-4"},vS=Object(l["createElementVNode"])("div",{class:"row "},[Object(l["createElementVNode"])("div",{class:"col-12"},[Object(l["createElementVNode"])("div",{class:"card my-4"},[Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between  border-radius-lg pt-4 "},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Add Menu")]),Object(l["createElementVNode"])("div",{class:"card-body px-0 pb-2"},[Object(l["createElementVNode"])("div",{class:"table-responsive p-0"},[Object(l["createElementVNode"])("div",{class:"row py-2 bg-white form-data border-radius-lg"},[Object(l["createElementVNode"])("div",{class:"bg-white box-shadow-dark border-radius-lg col-xl-12 col-lg-12 col-md-12"},[Object(l["createElementVNode"])("div",{class:"card card-plain"},[Object(l["createElementVNode"])("div",{class:"card-body"},[Object(l["createElementVNode"])("form",{role:"form"},[Object(l["createElementVNode"])("div",{class:"row mb-1"},[Object(l["createElementVNode"])("div",{class:"mb-1"},[Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Item Name"),Object(l["createElementVNode"])("input",{class:"input-box title-input",id:"name",type:"text",placeholder:"name",name:"name"})]),Object(l["createElementVNode"])("div",{class:"mb-1"},[Object(l["createElementVNode"])("label",{class:"input-label",for:"description"},"Description"),Object(l["createElementVNode"])("br"),Object(l["createElementVNode"])("textarea",{class:"text-area-box text-area-trips",id:"name",type:"text",placeholder:"Description",name:"description"})])]),Object(l["createElementVNode"])("div",{class:"row p-2"},[Object(l["createElementVNode"])("div",{class:"col-xl-4 col-lg-4 col-md-4"},[Object(l["createElementVNode"])("div",{class:"mb-1"},[Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Price"),Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"text",placeholder:"price",name:"name"})])]),Object(l["createElementVNode"])("div",{class:"col-xl-4 col-lg-4 col-md-4"},[Object(l["createElementVNode"])("div",{class:"mb-1"},[Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Available Seats"),Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"text",placeholder:"Available Seats",name:"name"})])]),Object(l["createElementVNode"])("div",{class:"col-xl-4 col-lg-4 col-md-4"},[Object(l["createElementVNode"])("div",{class:"mb-1"},[Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Accomodation and Meals"),Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"text",placeholder:"Accomodation and Meals included",name:"name"})])]),Object(l["createElementVNode"])("div",{class:"col-xl-4 col-lg-4 col-md-4"},[Object(l["createElementVNode"])("div",{class:"mb-1"},[Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"Start Date"),Object(l["createElementVNode"])("input",{class:"input-box",id:"enrollment_date",type:"date",placeholder:"Enrollment Date",name:"enrollment_date"})])]),Object(l["createElementVNode"])("div",{class:"col-xl-4 col-lg-4 col-md-4"},[Object(l["createElementVNode"])("div",{class:"mb-1"},[Object(l["createElementVNode"])("label",{class:"input-label",for:"enrollment_date"},"End Date"),Object(l["createElementVNode"])("input",{class:"input-box",id:"enrollment_date",type:"date",placeholder:"Enrollment Date",name:"enrollment_date"})])]),Object(l["createElementVNode"])("div",{class:"col-xl-4 col-lg-4 col-md-4"},[Object(l["createElementVNode"])("div",{class:"mb-1"},[Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Total Funds"),Object(l["createElementVNode"])("input",{class:"input-box",id:"name",type:"text",placeholder:"funds",name:"name"})])])])])])])])])])])])])],-1),yS=[vS];function wS(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",NS,yS)}Object(l["popScopeId"])();var kS={name:"",components:{},mounted(){},data(){return{}},methods:{}};a("19b8");const AS=Te()(kS,[["render",wS],["__scopeId","data-v-d27ede50"]]);var SS=AS;const BS={class:"card mt-4 card-height"},CS={class:"card-header pb-3 p-3"},_S={class:"row"},DS=Object(l["createElementVNode"])("div",{class:"col-6 d-flex align-items-center"},[Object(l["createElementVNode"])("h6",{class:"mb-0"},"Set up Payment Account")],-1),PS={key:0,class:"col-6 text-end"},IS=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"add-card-btn mb-3 trips-btn w-35  text-white fw-5 border-radius-lg"},[Object(l["createElementVNode"])("i",{class:"fas fa-plus me-2"}),Object(l["createTextVNode"])(" Add New Card ")],-1),TS={class:"card-body p-3"},zS={class:"row"},MS={class:"col-md-6 mb-md-0 mb-4"},FS={class:"amount-radio"},US={class:"top-up-row"},LS={class:"mb-1",style:{display:"flex"}},qS=Object(l["createElementVNode"])("label",{style:{"margin-top":"-3px"},for:"amount25"},"£25.00",-1),RS={class:"top-up-row"},$S={class:"mb-1",style:{display:"flex"}},QS=Object(l["createElementVNode"])("label",{style:{"margin-top":"-3px"},for:"amount50"},"£50.00",-1),JS={class:"top-up-row"},HS={class:"mb-1",style:{display:"flex"}},WS=Object(l["createElementVNode"])("label",{class:"",style:{"margin-top":"-3px"},for:"amount100"},"£100.00",-1),ZS={class:"mb-1 amount-container",style:{display:"flex"}},YS={key:0,class:"col-md-5 ms-auto"},KS=["onClick"],GS={key:0,class:"w-10 me-3 mb-0",src:VA.a,alt:"logo"},XS={key:1,class:"w-10 me-3 mb-0",src:Re.a,alt:"logo"},eB={class:"mb-0"},tB=["onClick"],aB=Object(l["createElementVNode"])("span",{class:"sr-only"},"Edit Card",-1),lB={class:"conteiner"};function cB(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",BS,[Object(l["createElementVNode"])("div",CS,[Object(l["createElementVNode"])("div",_S,[DS,"student"==o.user.role||"staff"==o.user.role||"organization_admin"==o.user.role||"super_admin"==o.user.role||"parent"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",PS,[Object(l["createVNode"])(n,{to:{name:"add_card"}},{default:Object(l["withCtx"])(()=>[IS]),_:1})])):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",TS,[Object(l["createElementVNode"])("div",zS,[Object(l["createElementVNode"])("div",MS,[Object(l["createElementVNode"])("div",FS,[Object(l["createElementVNode"])("div",US,[Object(l["createElementVNode"])("span",LS,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"amount25",class:"me-1",type:"radio","onUpdate:modelValue":t[0]||(t[0]=e=>o.selected_amount=e),name:"amount",value:"25"},null,512),[[l["vModelRadio"],o.selected_amount]]),qS])]),Object(l["createElementVNode"])("div",RS,[Object(l["createElementVNode"])("span",$S,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"amount50",class:"me-1",type:"radio","onUpdate:modelValue":t[1]||(t[1]=e=>o.selected_amount=e),name:"amount",value:"50"},null,512),[[l["vModelRadio"],o.selected_amount]]),QS])]),Object(l["createElementVNode"])("div",JS,[Object(l["createElementVNode"])("span",HS,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"amount100",class:"me-1",type:"radio","onUpdate:modelValue":t[2]||(t[2]=e=>o.selected_amount=e),name:"amount",value:"100"},null,512),[[l["vModelRadio"],o.selected_amount]]),WS])]),Object(l["createElementVNode"])("span",ZS,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{onKeyup:t[3]||(t[3]=e=>o.selected_amount=null),"onUpdate:modelValue":t[4]||(t[4]=e=>s.formattedBalance=e),class:"me-1 amount-input",type:"text",name:"gender",placeholder:"1.00"},null,544),[[l["vModelText"],s.formattedBalance]])])])]),"student"==o.user.role||"staff"==o.user.role||"organization_admin"==o.user.role||"super_admin"==o.user.role||"parent"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",YS,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.userCards,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:t,class:Object(l["normalizeClass"])([{selected:o.isSelected===t}," mb-1 card card-body border card-plain border-radius-lg d-flex align-items-center flex-row"]),onClick:e=>s.toggleSelection(t,e)},["visa"==e.card.brand?(Object(l["openBlock"])(),Object(l["createElementBlock"])("img",GS)):Object(l["createCommentVNode"])("",!0),"mastercard"==e.card.brand?(Object(l["openBlock"])(),Object(l["createElementBlock"])("img",XS)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("h6",eB," **** **** **** "+Object(l["toDisplayString"])(e.card.last4),1),Object(l["createElementVNode"])("i",{onClick:t=>s.confirmDelete(e.id),class:"fas fa-trash-alt ms-auto text-dark cursor-pointer","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","aria-hidden":"true","data-bs-original-title":"Edit Card","aria-label":"Edit Card"},null,8,tB),aB],10,KS))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",lB,[Object(l["createElementVNode"])("button",{onClick:t[5]||(t[5]=(...e)=>s.addBalance&&s.addBalance(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"top-up-btn p-3 mb-3 trips-btn  text-white fw-5 border-radius-lg"}," Add Balance ")])])])])}var oB={name:"payment-card",components:{},mounted(){let e=localStorage.getItem("user");this.user=JSON.parse(e),this.getCustomerPaymentMethods()},computed:{formattedBalance:{get(){return this.addedBalance},set(e){const t=parseFloat(e).toFixed(2);this.addedBalance=t}}},data(){return{user:"",selected_amount:"",externalAccounts:"",addedBalance:"",userCards:"",isSelected:0,img1:Re.a,img2:VA.a,showModal:!1}},methods:{confirmDelete(e){qn.a.fire({title:"Are you sure?",text:"Item will be deleted permanently and you will not be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&this.removePaymentMethod(e)})},snackbarMsg(e,t="success"){this.$snackbar.add({type:t,text:e,background:"white"})},async addBalance(){let e,t="";e=this.$route.params.id?this.$route.params.id:this.user.id;let a=null==this.selected_amount?this.addedBalance:this.selected_amount,l=this.userCards[this.isSelected]?this.userCards[this.isSelected].id:"";if(""==a)return void this.snackbarMsg("Please select the amount","error");if("super_admin"==this.user.role||"organization_admin"==this.user.role||"staff"==this.user.role)if("staff"==this.user.role&&this.user.id==e){if(t="/payment/initiate",!l)return void this.snackbarMsg("Payment Method Not Found","error")}else t="/adminTopUp",l=null;else if(t="/payment/initiate",!l)return void this.snackbarMsg("Payment Method Not Found","error");let c={user_id:e,amount:a,payment_method:l,type:"top_up"};try{await ia.post(t,c),this.snackbarMsg("Balance Added Successfully")}catch(o){console.log(o)}},toggleSelection(e,t){"i"!==t.target.tagName.toLowerCase()&&(this.isSelected=e)},async getCustomerPaymentMethods(){let e,t;if(this.$route.params.id?t=this.$route.params.id:(e=localStorage.getItem("user"),e=JSON.parse(e),t=e.id),null==t&&"student"==e.role)return void this.snackbarMsg("Stripe Customer Not Found");let a={user_id:t};try{const e=await ia.post("/getPaymentMethods",a);this.userCards=e.data.data}catch(l){console.log(l)}},async removePaymentMethod(e){let t=localStorage.getItem("user");t=JSON.parse(t);let a={user_id:t.id,payment_method:e};try{await ia.post("/removePaymentMethod",a),this.removeFromList(e)}catch(l){console.log(l)}},removeFromList(e){const t=this.userCards.findIndex(t=>t.id===e);this.userCards.splice(t,1),this.snackbarMsg("Card Removed Successfully")}}};a("b071");const sB=Te()(oB,[["render",cB]]);var nB=sB;Object(l["pushScopeId"])("data-v-f699bd2a");const rB={class:"card"},iB=Object(l["createElementVNode"])("div",{class:"card-header"},null,-1),dB={class:"card-body row"},mB={class:"col-md-5"},bB=Object(l["createStaticVNode"])('<div class="row d-flex" data-v-f699bd2a><div style="background-color:#F5F5F5;" class=" mb-1 card card-body border bg-gray card-plain border-radius-lg d-flex" data-v-f699bd2a><p class="text-dark" data-v-f699bd2a>Your Payment Information</p></div></div><div id="card-element" class="StripeElement" data-v-f699bd2a></div><div class="row d-flex mt-1" data-v-f699bd2a><div class="col-md-5 bg-white name-row p-2 holder_name" data-v-f699bd2a><label data-v-f699bd2a>Card Holder Name</label><input id="card-holder-name" type="text" class="bg-white w-100  mb-2" data-v-f699bd2a></div></div>',3),uB={class:"row d-flex"},pB={class:"col-md-5 ms-auto"},OB=["onClick"],jB={key:0,class:"w-10 me-3 mb-0",src:VA.a,alt:"logo"},hB={key:1,class:"w-10 me-3 mb-0",src:Re.a,alt:"logo"},gB={class:"mb-0"},fB=["onClick"],VB=Object(l["createElementVNode"])("span",{class:"sr-only"},"Edit Card",-1);function EB(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("div",rB,[iB,Object(l["createElementVNode"])("div",dB,[Object(l["createElementVNode"])("div",mB,[bB,Object(l["createElementVNode"])("div",uB,[Object(l["createElementVNode"])("button",{onClick:t[0]||(t[0]=(...e)=>s.submitPaymentMethod&&s.submitPaymentMethod(...e)),style:{"font-size":"12px"},class:"save_btn mx-auto me-3 w-50 mt-3 trips-btn bg-gradient-grey shadow-grey text-dark fw-5 p-2 border-radius-lg"}," Save Payment Method ")])]),Object(l["createElementVNode"])("div",pB,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.userCards,(t,a)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:a,class:Object(l["normalizeClass"])([{selected:e.isSelected===a}," mb-1 card card-body border card-plain border-radius-lg d-flex align-items-center flex-row"]),onClick:t=>e.toggleSelection(a,t)},["visa"==t.card.brand?(Object(l["openBlock"])(),Object(l["createElementBlock"])("img",jB)):Object(l["createCommentVNode"])("",!0),"mastercard"==t.card.brand?(Object(l["openBlock"])(),Object(l["createElementBlock"])("img",hB)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("h6",gB," **** **** **** "+Object(l["toDisplayString"])(t.card.last4),1),Object(l["createElementVNode"])("i",{onClick:e=>s.confirmDelete(t.id),class:"fas fa-trash-alt ms-auto text-dark cursor-pointer","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","aria-hidden":"true","data-bs-original-title":"Edit Card","aria-label":"Edit Card"},null,8,fB),VB],10,OB))),128))])])])])}Object(l["popScopeId"])();var xB={mounted(){this.includeStripe("js.stripe.com/v3/",function(){this.configureStripe()}.bind(this)),this.getUser(),this.getCustomerPaymentMethods()},data(){return{userCards:"",user:"",card_token:"",intentToken:"",name:"",addPaymentStatus:0,addPaymentStatusError:"",stripe:"",elements:"",card:"",stripeAPIToken:"pk_test_51NL39OA54mv9Tt3cBvUM2bicn8hMv5NhdEuvJcjgezES5zhVCGMOf5IUoqjglR8UfAWjVFStR2iPn3yLvMF3XcpM00Q0oowpaJ"}},methods:{confirmDelete(e){qn.a.fire({title:"Are you sure?",text:"Item will be deleted permanently and you will not be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&this.removePaymentMethod(e)})},includeStripe(e,t){let a=document,l="script",c=a.createElement(l),o=a.getElementsByTagName(l)[0];c.src="//"+e,t&&c.addEventListener("load",(function(e){t(null,e)}),!1),o.parentNode.insertBefore(c,o)},configureStripe(){this.stripe=window.Stripe(this.stripeAPIToken),this.elements=this.stripe.elements(),this.card=this.elements.create("card"),this.card.mount("#card-element")},generateToken(){this.stripe.createToken(this.card).then(e=>{this.savePaymentMethod(e.token.id)}).catch(e=>{console.error("Error generating token:",e)})},submitPaymentMethod(){this.generateToken(),this.addPaymentStatus=1,this.stripe.confirmCardSetup(this.intentToken.client_secret,{payment_method:{card:this.card,billing_details:{name:this.name}}}).then(function(e){console.log("CreateToken",e),e.error?(this.addPaymentStatus=3,this.addPaymentStatusError=e.error.message):(this.addPaymentStatus=2,this.card.clear(),this.name="")}.bind(this))},async savePaymentMethod(e){let t=localStorage.getItem("user");t=JSON.parse(t);let a=t.stripe_id;if(null==a)return void this.snackbarMsg("Stripe Customer Not Found");let l={card_token:e,customer_id:a};try{await ia.post("/createCard",l),this.getCustomerPaymentMethods()}catch(c){console.log(c)}},async removePaymentMethod(e){let t={user_id:this.user.id,payment_method:e};try{await ia.post("/removePaymentMethod",t),this.removeFromList(e)}catch(a){console.log(a)}},removeFromList(e){const t=this.userCards.findIndex(t=>t.id===e);this.userCards.splice(t,1),this.snackbarMsg("Card Removed Successfully")},getUser(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))},async getCustomerPaymentMethods(){let e,t;if(this.$route.params.id?t=this.$route.params.id:(e=localStorage.getItem("user"),e=JSON.parse(e),t=e.id),null==t&&"student"==e.role)return void this.snackbarMsg("Stripe Customer Not Found");let a={user_id:t};try{const e=await ia.post("/getPaymentMethods",a);this.userCards=e.data.data}catch(l){console.log(l)}},snackbarMsg(e){this.$snackbar.add({type:"error",text:e,background:"white"})}}};a("ab27");const NB=Te()(xB,[["render",EB],["__scopeId","data-v-f699bd2a"]]);var vB=NB;const yB={class:"card"},wB=Object(l["createElementVNode"])("div",{class:"card-header"},null,-1),kB={class:"card-body"},AB=Object(l["createStaticVNode"])('<div class="row d-flex justify-content-center"><div class="col-md-5"><div style="background-color:#F5F5F5;" class=" mb-1 card card-body border bg-gray card-plain border-radius-lg d-flex align-items-center"><p class="text-dark">Your Payment Information</p></div></div></div><div id="card-element" class="StripeElement"></div><div class="row d-flex justify-content-center mt-1"><div class="col-md-5 mx-auto bg-white name-row p-2"><label>Card Holder Name</label><input id="card-holder-name" type="text" class="bg-white w-100  mb-2"></div></div>',3),SB={class:"row d-flex justify-content-center"};function BB(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("div",yB,[wB,Object(l["createElementVNode"])("div",kB,[AB,Object(l["createElementVNode"])("div",SB,[Object(l["createElementVNode"])("button",{onClick:t[0]||(t[0]=(...e)=>s.submitPaymentMethod&&s.submitPaymentMethod(...e)),style:{"font-size":"12px"},class:"me-3 w-20 mt-3 trips-btn bg-gradient-grey shadow-grey text-dark fw-5 p-2 border-radius-lg"}," Save Payment Method ")])])])])}var CB={mounted(){this.includeStripe("js.stripe.com/v3/",function(){this.configureStripe()}.bind(this)),this.getUser()},data(){return{user:"",card_token:"",intentToken:"",name:"",addPaymentStatus:0,addPaymentStatusError:"",stripe:"",elements:"",card:"",stripeAPIToken:"pk_test_51NL39OA54mv9Tt3cBvUM2bicn8hMv5NhdEuvJcjgezES5zhVCGMOf5IUoqjglR8UfAWjVFStR2iPn3yLvMF3XcpM00Q0oowpaJ"}},methods:{includeStripe(e,t){let a=document,l="script",c=a.createElement(l),o=a.getElementsByTagName(l)[0];c.src="//"+e,t&&c.addEventListener("load",(function(e){t(null,e)}),!1),o.parentNode.insertBefore(c,o)},configureStripe(){this.stripe=window.Stripe(this.stripeAPIToken),this.elements=this.stripe.elements(),this.card=this.elements.create("card"),this.card.mount("#card-element")},generateToken(){this.stripe.createToken(this.card).then(e=>{this.savePaymentMethod(e.token.id)}).catch(e=>{console.error("Error generating token:",e)})},submitPaymentMethod(){this.generateToken(),this.addPaymentStatus=1,this.stripe.confirmCardSetup(this.intentToken.client_secret,{payment_method:{card:this.card,billing_details:{name:this.name}}}).then(function(e){console.log("CreateToken",e),e.error?(this.addPaymentStatus=3,this.addPaymentStatusError=e.error.message):(this.addPaymentStatus=2,this.card.clear(),this.name="")}.bind(this))},async savePaymentMethod(e){let t=localStorage.getItem("user");t=JSON.parse(t);let a=t.stripe_id;if(null==a)return void this.snackbarMsg("Stripe Customer Not Found");let l={card_token:e,customer_id:a};try{await ia.post("/createCard",l),this.$router.push({name:"payment_account"})}catch(c){console.log(c)}},getUser(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))},snackbarMsg(e){this.$snackbar.add({type:"error",text:e,background:"white"})}}};a("6df5");const _B=Te()(CB,[["render",BB]]);var DB=_B;const PB={class:"row"},IB={class:"col-xl-12 col-lg-12 col-md-12"},TB={class:"card"},zB=Object(l["createElementVNode"])("div",{class:"card-header pb-0 px-3 d-flex justify-content-between"},[Object(l["createElementVNode"])("h6",{class:"mb-0"},"Courses")],-1),MB={class:"card-body pt-4 p-3"},FB={class:"list-group"},UB={class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},LB=Object(l["createElementVNode"])("div",{class:"d-flex flex-column"},[Object(l["createElementVNode"])("h6",{class:"mb-3 text-sm"},"Isa - Maths 9-1 GCSE Revision Guide"),Object(l["createElementVNode"])("span",{class:"mb-1 text-xs"}," Isa - Maths 9-1 GCSE Revision Guide - £3. ")],-1),qB={class:"ms-auto text-end"},RB=Object(l["createElementVNode"])("i",{class:"far fa-trash-alt me-2","aria-hidden":"true"},null,-1),$B=Object(l["createElementVNode"])("i",{class:"fas fa-pencil-alt text-dark me-2","aria-hidden":"true"},null,-1),QB=Object(l["createElementVNode"])("i",{class:"fas fa-plus-circle text-success me-2","aria-hidden":"true"},null,-1),JB=Object(l["createElementVNode"])("br",null,null,-1),HB=Object(l["createElementVNode"])("div",{class:"d-flex me-3 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold",style:{"justify-content":"flex-end"}}," - £5 ",-1),WB={class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},ZB=Object(l["createElementVNode"])("div",{class:"d-flex flex-column"},[Object(l["createElementVNode"])("h6",{class:"mb-3 text-sm"},"Nisam - Maths Algebra and Shape Grade 7"),Object(l["createElementVNode"])("span",{class:"mb-1 text-xs"}," Maths Algebra and Shape Grade 7 ")],-1),YB={class:"ms-auto text-end"},KB=Object(l["createElementVNode"])("i",{class:"far fa-trash-alt me-2","aria-hidden":"true"},null,-1),GB=Object(l["createElementVNode"])("i",{class:"fas fa-pencil-alt text-dark me-2","aria-hidden":"true"},null,-1),XB=Object(l["createElementVNode"])("i",{class:"fas fa-plus-circle text-success me-2","aria-hidden":"true"},null,-1),eC=Object(l["createElementVNode"])("br",null,null,-1),tC=Object(l["createElementVNode"])("div",{class:"d-flex me-3 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold",style:{"justify-content":"flex-end"}}," - £5 ",-1),aC={class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},lC=Object(l["createElementVNode"])("div",{class:"d-flex flex-column"},[Object(l["createElementVNode"])("h6",{class:"mb-3 text-sm"},"Isa - Maths 9-1 GCSE Revision Guide"),Object(l["createElementVNode"])("span",{class:"mb-1 text-xs"}," Isa - Maths 9-1 GCSE Revision Guide - £3. ")],-1),cC={class:"ms-auto text-end"},oC=Object(l["createElementVNode"])("i",{class:"far fa-trash-alt me-2","aria-hidden":"true"},null,-1),sC=Object(l["createElementVNode"])("i",{class:"fas fa-pencil-alt text-dark me-2","aria-hidden":"true"},null,-1),nC=Object(l["createElementVNode"])("i",{class:"fas fa-plus-circle text-success me-2","aria-hidden":"true"},null,-1),rC=Object(l["createElementVNode"])("br",null,null,-1),iC=Object(l["createElementVNode"])("div",{class:"d-flex me-3 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold",style:{"justify-content":"flex-end"}}," - £5 ",-1),dC={class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},mC=Object(l["createElementVNode"])("div",{class:"d-flex flex-column"},[Object(l["createElementVNode"])("h6",{class:"mb-3 text-sm"},"Nisam - Maths Algebra and Shape Grade 7"),Object(l["createElementVNode"])("span",{class:"mb-1 text-xs"}," Maths Algebra and Shape Grade 7 ")],-1),bC={class:"ms-auto text-end"},uC=Object(l["createElementVNode"])("i",{class:"far fa-trash-alt me-2","aria-hidden":"true"},null,-1),pC=Object(l["createElementVNode"])("i",{class:"fas fa-pencil-alt text-dark me-2","aria-hidden":"true"},null,-1),OC=Object(l["createElementVNode"])("i",{class:"fas fa-plus-circle text-success me-2","aria-hidden":"true"},null,-1),jC=Object(l["createElementVNode"])("br",null,null,-1),hC=Object(l["createElementVNode"])("div",{class:"d-flex me-3 mt-2 align-items-center text-warning text-gradient text-sm font-weight-bold",style:{"justify-content":"flex-end"}}," - £5 ",-1);function gC(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",PB,[Object(l["createElementVNode"])("div",IB,[Object(l["createElementVNode"])("div",TB,[zB,Object(l["createElementVNode"])("div",MB,[Object(l["createElementVNode"])("ul",FB,[Object(l["createElementVNode"])("li",UB,[LB,Object(l["createElementVNode"])("div",qB,[Object(l["createElementVNode"])("span",null,["super_admin"==o.user.role||"school_user"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[RB,$B],64)):Object(l["createCommentVNode"])("",!0),QB]),JB,HB])]),Object(l["createElementVNode"])("li",WB,[ZB,Object(l["createElementVNode"])("div",YB,[Object(l["createElementVNode"])("span",null,["super_admin"==o.user.role||"school_user"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[KB,GB],64)):Object(l["createCommentVNode"])("",!0),XB]),eC,tC])]),Object(l["createElementVNode"])("li",aC,[lC,Object(l["createElementVNode"])("div",cC,[Object(l["createElementVNode"])("span",null,["super_admin"==o.user.role||"school_user"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[oC,sC],64)):Object(l["createCommentVNode"])("",!0),nC]),rC,iC])]),Object(l["createElementVNode"])("li",dC,[mC,Object(l["createElementVNode"])("div",bC,[Object(l["createElementVNode"])("span",null,["super_admin"==o.user.role||"school_user"==o.user.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[uC,pC],64)):Object(l["createCommentVNode"])("",!0),OC]),jC,hC])])])])])])])}var fC={name:"billing-card",data(){return{user:""}},mounted(){this.getUser()},methods:{getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e}}};const VC=Te()(fC,[["render",gC]]);var EC=VC;const xC={class:"container-fluid py-4"},NC={class:"row"},vC={class:"col-12"},yC={class:"card my-4"},wC={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-3"},kC=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Admins",-1),AC=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4 border-radius-lg"}," Add Admin ",-1),SC={class:"card-body px-0 pb-2"},BC={class:"table-responsive p-0"},CC={class:"table align-items-center mb-0"},_C=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"align-middle text-center text-uppercase text-xxs font-weight-bolder"}," ID "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Name "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Email "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Role "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Organization "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Status "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Action ")])],-1),DC={class:"align-middle text-center text-sm"},PC={class:"text-xs font-weight-bold mb-0"},IC={class:"text-xs font-weight-bold mb-0"},TC={class:"text-xs font-weight-bold mb-0"},zC={class:"align-middle text-center"},MC={class:"text-xs font-weight-bold mb-0"},FC={class:"align-middle text-center"},UC={class:"text-secondary text-xs font-weight-bold"},LC={class:"align-middle text-center text-sm"},qC={class:"badge badge-sm bg-gradient-success"},RC={class:"align-middle text-center"},$C=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"edit",-1),QC=["onClick"];function JC(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",xC,[Object(l["createElementVNode"])("div",NC,[Object(l["createElementVNode"])("div",vC,[Object(l["createElementVNode"])("div",yC,[Object(l["createElementVNode"])("div",wC,[kC,Object(l["createVNode"])(n,{to:{name:"add-organization-admins"}},{default:Object(l["withCtx"])(()=>[AC]),_:1})]),Object(l["createElementVNode"])("div",SC,[Object(l["createElementVNode"])("div",BC,[Object(l["createElementVNode"])("table",CC,[_C,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allAdmins,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",DC,[Object(l["createElementVNode"])("p",PC,Object(l["toDisplayString"])(e.id),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",IC,Object(l["toDisplayString"])(e.first_name)+" "+Object(l["toDisplayString"])(e.last_name),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",TC,Object(l["toDisplayString"])(e.email),1)]),Object(l["createElementVNode"])("td",zC,[Object(l["createElementVNode"])("p",MC,Object(l["toDisplayString"])(e.user_role.role.name),1)]),Object(l["createElementVNode"])("td",FC,[Object(l["createElementVNode"])("span",UC,Object(l["toDisplayString"])(e.organization_admin&&e.organization_admin.organization?e.organization_admin.organization.name:"-"),1)]),Object(l["createElementVNode"])("td",LC,[Object(l["createElementVNode"])("span",qC,Object(l["toDisplayString"])(e.status),1)]),Object(l["createElementVNode"])("td",RC,[Object(l["createElementVNode"])("span",null,[Object(l["createVNode"])(n,{to:{name:"edit-organization-admin",params:{id:e.id}}},{default:Object(l["withCtx"])(()=>[$C]),_:2},1032,["to"]),Object(l["createElementVNode"])("i",{onClick:t=>s.confirmDelete(e.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"delete",8,QC)])])]))),128))])])])])])])])])}var HC={name:"tables",mounted(){this.setColor(),this.getAllAdmins()},updated(){this.$permissions.redirectIfNotAllowed("view_admin")},data(){return{allAdmins:"",schools:6}},computed:{...Object(De["c"])(["getBrandingSetting"]),userPermissions(){return this.$permissions.userPermissions.value}},methods:{setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},confirmDelete(e){qn.a.fire({title:"Are you sure?",text:"Item will be deleted permanently and you will not be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&this.deleteOrganizationAdmin(e)})},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},topUps(e){this.$router.push("/payment_account/"+e)},transactionHistoryNav(e){this.$router.push("/student-billing/"+e)},async getAllAdmins(){try{const e=await ia.get("/getAllOrganizationAdmins");this.allAdmins=e.data}catch(e){console.log(e)}},async deleteOrganizationAdmin(e){try{await ia.delete("/deleteOrganizationAdmin/"+e),this.removeOrganizationAdminFromList(e),this.snackbarMsg("Successfully Deleted")}catch(t){console.log(t)}},removeOrganizationAdminFromList(e){const t=this.allAdmins.findIndex(t=>t.id===e);this.allAdmins.splice(t,1)}}};a("744d");const WC=Te()(HC,[["render",JC]]);var ZC=WC;Object(l["pushScopeId"])("data-v-c7e58f5e");const YC={class:"container-fluid py-4"},KC={class:"row"},GC={class:"col-12"},XC={class:"card my-4"},e_={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-1"},t_=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Create Admin",-1),a_=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4  border-radius-lg"}," Back ",-1),l_={class:"card-body px-0 pb-2"},c_={class:"table-responsive p-0"},o_={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},s_={key:0,class:"mb-3 change-pass-alert"},n_=Object(l["createElementVNode"])("br",null,null,-1),r_={class:"bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},i_={class:"form-bg container p-4"},d_=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Personal Information",-1),m_={class:"card card-plain"},b_={class:"card-body"},u_={role:"form"},p_={class:"mb-1"},O_=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"First Name",-1),j_={key:0,class:"text-danger error-txt"},h_={class:"mb-1"},g_=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Last Name",-1),f_={key:0,class:"text-danger error-txt"},V_={class:"mb-1"},E_=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},"Email",-1),x_={key:0,class:"text-danger error-txt"},N_={class:"mb-1"},v_=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Password",-1),y_={key:0,class:"text-danger error-txt"},w_={class:"mb-1"},k_=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Confirm Password",-1),A_={key:0,class:"text-danger error-txt"},S_={class:"mb-1"},B_=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Organization",-1),C_=Object(l["createElementVNode"])("br",null,null,-1),__=["value"],D_={key:0,class:"text-danger error-txt"},P_={class:"mb-1"},I_=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Role",-1),T_=Object(l["createElementVNode"])("br",null,null,-1),z_=["value"],M_={key:0,class:"text-danger error-txt"},F_={class:"mb-1"},U_=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},"Status",-1),L_=Object(l["createElementVNode"])("br",null,null,-1),q_=["value"],R_={key:0,class:"text-danger error-txt"},$_={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},Q_={class:""};function J_(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",YC,[Object(l["createElementVNode"])("div",KC,[Object(l["createElementVNode"])("div",GC,[Object(l["createElementVNode"])("div",XC,[Object(l["createElementVNode"])("div",e_,[t_,Object(l["createVNode"])(n,{to:{name:"list-organization-admins"}},{default:Object(l["withCtx"])(()=>[a_]),_:1})]),Object(l["createElementVNode"])("div",l_,[Object(l["createElementVNode"])("div",c_,[Object(l["createElementVNode"])("div",o_,[o.isError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",s_,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.validationErrors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{key:t,class:"pass-text"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e),1),n_]))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",r_,[Object(l["createElementVNode"])("div",i_,[d_,Object(l["createElementVNode"])("div",m_,[Object(l["createElementVNode"])("div",b_,[Object(l["createElementVNode"])("form",u_,[Object(l["createElementVNode"])("div",p_,[O_,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newAdmin.first_name=e),type:"text",placeholder:"First Name",name:"first_name"},null,512),[[l["vModelText"],o.newAdmin.first_name]]),""!==o.formValidation&&""!==o.formValidation["first_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",j_,"First Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",h_,[g_,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newAdmin.last_name=e),type:"text",placeholder:"Last Name",name:"last_name"},null,512),[[l["vModelText"],o.newAdmin.last_name]]),""!==o.formValidation&&""!==o.formValidation["last_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",f_,"Last Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",V_,[E_,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>o.newAdmin.email=e),type:"email",placeholder:"email",name:"email"},null,512),[[l["vModelText"],o.newAdmin.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",x_,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",N_,[v_,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>o.newAdmin.password=e),type:"password",placeholder:"Password",name:"password"},null,512),[[l["vModelText"],o.newAdmin.password]]),""!==o.formValidation&&""!==o.formValidation["password"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",y_,"password is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",w_,[k_,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[4]||(t[4]=e=>o.newAdmin.password_confirmation=e),type:"password",placeholder:"Confirm Password",name:"password_confirmation"},null,512),[[l["vModelText"],o.newAdmin.password_confirmation]]),""!==o.formValidation&&""!==o.formValidation["password_confirmation"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",A_,"confirm password is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",S_,[B_,C_,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[5]||(t[5]=e=>o.newAdmin.organization_id=e),id:"school",type:"select",placeholder:"school",name:"school"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allOrganizations,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.name),9,__))),128))],512),[[l["vModelSelect"],o.newAdmin.organization_id]]),""!==o.formValidation&&""!==o.formValidation["organization_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",D_,"School ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",P_,[I_,T_,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[6]||(t[6]=e=>o.newAdmin.role=e),id:"role",type:"select",placeholder:"role",name:"role"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allRoles,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:t},["Admin"==e.name||"Associate Admin"==e.name?(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:0,value:e.name},Object(l["toDisplayString"])(e.name),9,z_)):Object(l["createCommentVNode"])("",!0)],64))),128))],512),[[l["vModelSelect"],o.newAdmin.role]]),""!==o.formValidation&&""!==o.formValidation["role"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",M_,"Admin Role is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",F_,[U_,L_,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>o.newAdmin.status=e),class:"select-box",id:"status",type:"select",placeholder:"status",name:"status"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableStatus,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,q_))),128))],512),[[l["vModelSelect"],o.newAdmin.status]]),""!==o.formValidation&&""!==o.formValidation["status"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",R_,"status is required")):Object(l["createCommentVNode"])("",!0)])])])])])]),Object(l["createElementVNode"])("div",$_,[Object(l["createElementVNode"])("div",Q_,[Object(l["createElementVNode"])("button",{onClick:t[8]||(t[8]=(...e)=>s.saveNewAdmin&&s.saveNewAdmin(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-5 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Save Admin ")])])])])])])])])])}Object(l["popScopeId"])();var H_={name:"",components:{},mounted(){this.getAllOrganizations(),this.getAllRoles()},updated(){this.$permissions.redirectIfNotAllowed("create_admin")},data(){return{allRoles:"",availableCountries:["UK","USA","Canada"],isError:!1,formValidation:"",validationErrors:"",newAdmin:{organization_id:"",first_name:"",last_name:"",email:"",password:"",password_confirmation:"",status:"",role:""},availableStatus:["active","pending","blocked"],allOrganizations:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("create_admin");let e=!1,t="";t=Wc()(this.newAdmin);for(let a in this.newAdmin)""===this.newAdmin[a]||void 0===this.newAdmin[a]?(t[a]="is required",e=!0):t[a]="";return this.formValidation=t,console.log(this.formValidation),e},async getAllRoles(){try{const e=await ia.get("getAllRoles");this.allRoles=e.data}catch(e){console.log(e)}},async saveNewAdmin(){if(!this.validateForm())try{let e=await ia.post("/createOrganizationAdmin",this.newAdmin);this.isError=!1,e=e.data,this.createCustomer(e.user.id),this.$router.push({name:"list-organization-admins"}),this.snackbarMsg("Admin Saved Successfuly")}catch(e){this.isError=!0,this.validationErrors=e.response.data.errors}},async createCustomer(e){let t=this.newAdmin.first_name+" "+this.newAdmin.last_name,a={user_id:e,name:t,email:this.newAdmin.email};try{await ia.post("/createCustomer",a)}catch(l){console.log(l)}},async getAllOrganizations(){try{const e=await ia.get("/getAllOrganizations");this.allOrganizations=e.data}catch(e){console.log(e)}}}};a("c7a0");const W_=Te()(H_,[["render",J_],["__scopeId","data-v-c7e58f5e"]]);var Z_=W_;Object(l["pushScopeId"])("data-v-49fdba7b");const Y_={class:"container-fluid py-4"},K_={class:"row"},G_={class:"col-12"},X_={class:"card my-4"},eD={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-1"},tD=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Edit Admin",-1),aD=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4  border-radius-lg"}," Back ",-1),lD={class:"card-body px-0 pb-2"},cD={class:"table-responsive p-0"},oD={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},sD={key:0,class:"mb-3 change-pass-alert"},nD=Object(l["createElementVNode"])("br",null,null,-1),rD={class:"bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},iD={class:"form-bg container p-4"},dD=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Personal Information",-1),mD={class:"card card-plain"},bD={class:"card-body"},uD={role:"form"},pD={class:"mb-1"},OD=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"First Name",-1),jD={key:0,class:"text-danger error-txt"},hD={class:"mb-1"},gD=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Last Name",-1),fD={key:0,class:"text-danger error-txt"},VD={class:"mb-1"},ED=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},"Email",-1),xD={key:0,class:"text-danger error-txt"},ND={class:"mb-1"},vD=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Organization",-1),yD=Object(l["createElementVNode"])("br",null,null,-1),wD=["value"],kD={key:0,class:"text-danger error-txt"},AD={class:"mb-1"},SD=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Role",-1),BD=Object(l["createElementVNode"])("br",null,null,-1),CD=["value"],_D={key:0,class:"text-danger error-txt"},DD={class:"mb-1"},PD=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},"Status",-1),ID=Object(l["createElementVNode"])("br",null,null,-1),TD=["value"],zD={key:0,class:"text-danger error-txt"},MD={class:"mt-3 bg-white box-shadow-dark border-radius-lg  col-xl-10 col-lg-10 col-md-10"},FD={class:"form-bg container p-4"},UD=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Password",-1),LD=Object(l["createElementVNode"])("small",{class:"ms-4 text-xs"},"password fields are optional if you wan't to change the password you can fill the following data",-1),qD={class:"card card-plain"},RD={class:"card-body"},$D={role:"form"},QD={class:"mb-1"},JD=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Password",-1),HD={class:"mb-1"},WD=Object(l["createElementVNode"])("label",{class:"input-label",for:"address"},"Confirm Password",-1),ZD={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},YD={class:""};function KD(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Y_,[Object(l["createElementVNode"])("div",K_,[Object(l["createElementVNode"])("div",G_,[Object(l["createElementVNode"])("div",X_,[Object(l["createElementVNode"])("div",eD,[tD,Object(l["createVNode"])(n,{to:{name:"list-organization-admins"}},{default:Object(l["withCtx"])(()=>[aD]),_:1})]),Object(l["createElementVNode"])("div",lD,[Object(l["createElementVNode"])("div",cD,[Object(l["createElementVNode"])("div",oD,[o.isError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",sD,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.validationErrors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{key:t,class:"pass-text"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e),1),nD]))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",rD,[Object(l["createElementVNode"])("div",iD,[dD,Object(l["createElementVNode"])("div",mD,[Object(l["createElementVNode"])("div",bD,[Object(l["createElementVNode"])("form",uD,[Object(l["createElementVNode"])("div",pD,[OD,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newAdmin.first_name=e),type:"text",placeholder:"First Name",name:"first_name"},null,512),[[l["vModelText"],o.newAdmin.first_name]]),""!==o.formValidation&&""!==o.formValidation["first_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",jD,"First Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",hD,[gD,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newAdmin.last_name=e),type:"text",placeholder:"Last Name",name:"last_name"},null,512),[[l["vModelText"],o.newAdmin.last_name]]),""!==o.formValidation&&""!==o.formValidation["last_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",fD,"Last Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",VD,[ED,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>o.newAdmin.email=e),type:"email",placeholder:"email",name:"email"},null,512),[[l["vModelText"],o.newAdmin.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",xD,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",ND,[vD,yD,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[3]||(t[3]=e=>o.newAdmin.organization_id=e),id:"school",type:"select",placeholder:"school",name:"school"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allOrganizations,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.name),9,wD))),128))],512),[[l["vModelSelect"],o.newAdmin.organization_id]]),""!==o.formValidation&&""!==o.formValidation["organization_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",kD,"Organization is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",AD,[SD,BD,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[4]||(t[4]=e=>o.newAdmin.role=e),id:"role",type:"select",placeholder:"role",name:"role"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allRoles,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:t},["Admin"==e.name||"Associate Admin"==e.name?(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:0,value:e.name},Object(l["toDisplayString"])(e.name),9,CD)):Object(l["createCommentVNode"])("",!0)],64))),128))],512),[[l["vModelSelect"],o.newAdmin.role]]),""!==o.formValidation&&""!==o.formValidation["role"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",_D,"Admin Role is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",DD,[PD,ID,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.newAdmin.status=e),class:"select-box",id:"status",type:"select",placeholder:"status",name:"status"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableStatus,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,TD))),128))],512),[[l["vModelSelect"],o.newAdmin.status]]),""!==o.formValidation&&""!==o.formValidation["status"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",zD,"status is required")):Object(l["createCommentVNode"])("",!0)])])])])])]),Object(l["createElementVNode"])("div",MD,[Object(l["createElementVNode"])("div",FD,[UD,LD,Object(l["createElementVNode"])("div",qD,[Object(l["createElementVNode"])("div",RD,[Object(l["createElementVNode"])("form",$D,[Object(l["createElementVNode"])("div",QD,[JD,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[6]||(t[6]=e=>o.newAdmin.password=e),type:"password",placeholder:"Password",name:"zip"},null,512),[[l["vModelText"],o.newAdmin.password]])]),Object(l["createElementVNode"])("div",HD,[WD,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[7]||(t[7]=e=>o.newAdmin.password_confirmation=e),type:"password",placeholder:"Confirm Password",name:"address"},null,512),[[l["vModelText"],o.newAdmin.password_confirmation]])])])])])])]),Object(l["createElementVNode"])("div",ZD,[Object(l["createElementVNode"])("div",YD,[Object(l["createElementVNode"])("button",{onClick:t[8]||(t[8]=(...e)=>s.updateAdmin&&s.updateAdmin(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-5 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Save Admin ")])])])])])])])])])}Object(l["popScopeId"])();var GD={name:"",components:{},mounted(){this.getAllRoles(),this.getAllOrganizations(),this.editOrganizationAdmin()},updated(){this.$permissions.redirectIfNotAllowed("edit_admin")},data(){return{allRoles:"",availableCountries:["UK","USA","Canada"],isError:!1,formValidation:"",validationErrors:"",newAdmin:{organization_id:"",first_name:"",last_name:"",email:"",status:"",role:"",password:"",password_confirmation:""},availableStatus:["active","pending","blocked"],allOrganizations:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("edit_admin");let e=!1,t="";t=Wc()(this.newAdmin);for(let a in this.newAdmin)""!==this.newAdmin[a]&&void 0!==this.newAdmin[a]||"password"===a||"password_confirmation"===a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,e},async getAllRoles(){try{const e=await ia.get("getAllRoles");this.allRoles=e.data}catch(e){console.log(e)}},async editOrganizationAdmin(){let e=this.$route.params.id;try{const t=await ia.get("/editOrganizationAdmin/"+e);this.setData(t)}catch(t){console.log(t)}},setData(e){let t;e&&(t=e.data,this.newAdmin.organization_id=t.organization_admin.organization_id,this.newAdmin.first_name=t.first_name,this.newAdmin.last_name=t.last_name,this.newAdmin.email=t.email,this.newAdmin.status=t.status,this.newAdmin.role=t.user_role.role.name)},async updateAdmin(){if(this.validateForm())console.log(this.formValidation);else try{let e=this.$route.params.id;await ia.put("/updateOrganizationAdmin/"+e,this.newAdmin),this.isError=!1,this.$router.push({name:"list-organization-admins"}),this.snackbarMsg("Admin Updated Successfuly")}catch(e){this.isError=!0,this.validationErrors=e.response.data.errors}},async createCustomer(e){let t=this.newAdmin.first_name+" "+this.newAdmin.last_name,a={user_id:e,name:t,email:this.newAdmin.email};try{await ia.post("/createCustomer",a)}catch(l){console.log(l)}},async getAllOrganizations(){try{const e=await ia.get("/getAllOrganizations");this.allOrganizations=e.data}catch(e){console.log(e)}}}};a("dd92");const XD=Te()(GD,[["render",KD],["__scopeId","data-v-49fdba7b"]]);var eP=XD;const tP={class:"container-fluid py-4"},aP={class:"row"},lP={class:"col-12"},cP={class:"card my-4"},oP={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-3"},sP=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Staff",-1),nP=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4 border-radius-lg"}," Add Staff ",-1),rP={class:"filter-container"},iP={class:"card-body px-0 pb-2"},dP={class:"table-responsive p-0"},mP={class:"table align-items-center mb-0"},bP=Object(l["createElementVNode"])("th",{class:"text-uppercase text-center text-xxs font-weight-bolder"}," MIFARE ID ",-1),uP=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Name ",-1),pP=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Email ",-1),OP=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," School ",-1),jP=Object(l["createElementVNode"])("th",{class:"text-uppercase text-center text-xxs font-weight-bolder"}," Balance ",-1),hP={key:0,class:"text-center text-uppercase text-xxs font-weight-bolder"},gP=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," TopUp ",-1),fP=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Status ",-1),VP=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Action ",-1),EP={class:"text-xs  text-center font-weight-bold mb-0"},xP={class:"text-xs font-weight-bold mb-0"},NP={class:"text-xs font-weight-bold mb-0"},vP={class:"text-xs text-center font-weight-bold mb-0"},yP={class:"ms-4 text-secondary text-xs font-weight-bold"},wP={key:0,class:"align-middle text-center"},kP=Object(l["createElementVNode"])("i",{class:"fas fa-donate fs-5 me-2"},null,-1),AP={key:1,class:"align-middle text-center"},SP=["onClick"],BP={class:"align-middle text-center text-sm"},CP={class:"badge badge-sm bg-gradient-success"},_P={class:"align-middle text-center"},DP=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"edit",-1),PP=["onClick"],IP={class:"row"},TP={class:"col-md-12 col-lg-12"},zP={class:"page-nav","aria-label":"Page navigation"},MP={class:"pagination mt-4 mb-4"},FP=["disabled"],UP=["onClick"],LP=["disabled"];function qP(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",tP,[Object(l["createElementVNode"])("div",aP,[Object(l["createElementVNode"])("div",lP,[Object(l["createElementVNode"])("div",cP,[Object(l["createElementVNode"])("div",oP,[sP,s.userPermissions.create_staff?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"add-staff"}},{default:Object(l["withCtx"])(()=>[nP]),_:1})):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",rP,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box filter-box",onKeyup:t[0]||(t[0]=Object(l["withKeys"])((...e)=>s.filterStaff&&s.filterStaff(...e),["enter"])),"onUpdate:modelValue":t[1]||(t[1]=e=>o.seachString=e),id:"name",type:"text",placeholder:"Type to Search...",name:"address"},null,544),[[l["vModelText"],o.seachString]])]),Object(l["createElementVNode"])("div",iP,[Object(l["createElementVNode"])("div",dP,[Object(l["createElementVNode"])("table",mP,[Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[bP,uP,pP,OP,jP,s.userPermissions.wallet?(Object(l["openBlock"])(),Object(l["createElementBlock"])("th",hP," Wallet ")):Object(l["createCommentVNode"])("",!0),gP,fP,VP])]),Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allStaff,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",EP,Object(l["toDisplayString"])(e.mifare_id?e.mifare_id:"-"),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",xP,Object(l["toDisplayString"])(e.user.first_name)+" "+Object(l["toDisplayString"])(e.user.last_name),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",NP,Object(l["toDisplayString"])(e.user.email),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",vP,Object(l["toDisplayString"])(e.school.name),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("span",yP,"£"+Object(l["toDisplayString"])(s.formattedPrice(e.balance?e.balance:0)),1)]),s.userPermissions.wallet?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",wP,[Object(l["createVNode"])(n,{to:{name:"balance",params:{id:e.user.id}},title:"Wallet"},{default:Object(l["withCtx"])(()=>[kP]),_:2},1032,["to"])])):Object(l["createCommentVNode"])("",!0),s.userPermissions.topup?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",AP,[Object(l["createElementVNode"])("i",{onClick:t=>s.topUps(e.user.id),class:"hover-pointer material-icons-round opacity-10 fs-5"},"credit_card",8,SP)])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("td",BP,[Object(l["createElementVNode"])("span",CP,Object(l["toDisplayString"])(e.user.status),1)]),Object(l["createElementVNode"])("td",_P,[Object(l["createElementVNode"])("span",null,[s.userPermissions.edit_staff?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"edit-staff",params:{id:e.id}}},{default:Object(l["withCtx"])(()=>[DP]),_:2},1032,["to"])):Object(l["createCommentVNode"])("",!0),s.userPermissions.delete_staff?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",{key:1,onClick:t=>s.confirmDelete(e.user.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"delete",8,PP)):Object(l["createCommentVNode"])("",!0)])])]))),128))])])]),Object(l["createElementVNode"])("div",IP,[Object(l["createElementVNode"])("div",TP,[Object(l["createElementVNode"])("nav",zP,[Object(l["createElementVNode"])("ul",MP,[Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:1===o.currentPage}])},[Object(l["createElementVNode"])("i",{class:"page-link material-icons-round opacity-10 fs-5",disabled:1===o.currentPage,onClick:t[2]||(t[2]=e=>s.getAllStaff(o.currentPage-1)),tabindex:"-1","aria-disabled":"true"},"arrow_back",8,FP)],2),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.totalPages,e=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:Object(l["normalizeClass"])(["page-item",{active:o.currentPage===e}]),key:e},[Object(l["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t=>s.getAllStaff(e)},Object(l["toDisplayString"])(e),9,UP)],2))),128)),Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:o.currentPage===o.totalPages}])},[Object(l["createElementVNode"])("i",{class:"page-link material-icons-round opacity-10 fs-5",disabled:o.currentPage===o.totalPages,onClick:t[3]||(t[3]=e=>s.getAllStaff(o.currentPage+1)),tabindex:"-1","aria-disabled":"true"},"arrow_forward",8,LP)],2)])])])])])])])])])}var RP={name:"tables",mounted(){this.setColor(),this.getUser(),this.getAllStaff()},updated(){this.$permissions.redirectIfNotAllowed("view_staff")},computed:{...Object(De["c"])(["getBrandingSetting"]),userPermissions(){return this.$permissions.userPermissions.value}},data(){return{seachString:"",allStaff:"",schools:6,user:"",totalRows:"",currentPage:"",perPage:"",totalPages:""}},methods:{setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},confirmDelete(e){qn.a.fire({title:"Are you sure?",text:"Item will be archived and you will be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&this.deleteStaff(e)})},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},topUps(e){this.$router.push("/payment_account/"+e)},transactionHistoryNav(e){this.$router.push("/student-billing/"+e)},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async getAllStaff(e){let t={user_id:null,page:e};try{"organization_admin"==this.user.role&&(t.user_id=this.user.id);const e=await ia.post("/getAllStaff",t);this.allStaff=e.data.data,this.totalRows=e.data.pagination.total,this.currentPage=e.data.pagination.current_page,this.perPage=e.data.pagination.per_page,this.totalPages=e.data.pagination.last_page}catch(a){console.log(a)}},async deleteStaff(e){try{await ia.delete("/deleteStaff/"+e),this.removeStaffFromList(e),this.snackbarMsg("Staff Deleted")}catch(t){console.log(t)}},removeStaffFromList(e){const t=this.allStaff.findIndex(t=>t.id===e);this.allStaff.splice(t,1)},async filterStaff(){if(""==this.seachString)return void this.getAllStaff();let e={searchString:this.seachString};try{const t=await ia.post("/searchStaff",e);this.allStaff=t.data,this.totalRows=t.data.total,this.currentPage=t.data.current_page,this.perPage=t.per_page,this.totalPages=t.data.last_page}catch(t){console.log(t)}}}};a("fa1f");const $P=Te()(RP,[["render",qP]]);var QP=$P;const JP={class:"container-fluid py-4"},HP={class:"row"},WP={class:"col-12"},ZP={class:"card my-0"},YP=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between  border-radius-lg pt-4 pb-3"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Archived Staff")],-1),KP={class:"card-body px-0 pb-2"},GP={class:"icon-container"},XP=Object(l["createElementVNode"])("span",{class:"label-text"},"Bulk Restore",-1),eI=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-6 cursor-pointer"},"restore",-1),tI=[XP,eI],aI=Object(l["createElementVNode"])("span",{class:"label-text"},"Bulk Delete",-1),lI=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-6 cursor-pointer"},"delete",-1),cI=[aI,lI],oI={class:"table-responsive p-0"},sI={class:"table align-items-center mb-0"},nI={class:""},rI={class:"form-check",style:{"margin-left":"-20px"}},iI=Object(l["createElementVNode"])("label",{for:"",class:"custom-control-label"},null,-1),dI=Object(l["createElementVNode"])("th",{class:"text-uppercase text-center text-xxs font-weight-bolder"}," MIFARE ID ",-1),mI=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Name ",-1),bI=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Email ",-1),uI=Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," School ",-1),pI=Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Status ",-1),OI={class:"align-middle text-center text-sm"},jI={class:"form-check"},hI=["checked","onChange"],gI=Object(l["createElementVNode"])("label",{for:"",class:"custom-control-label"},null,-1),fI={class:"text-xs  text-center font-weight-bold mb-0"},VI={class:"text-xs font-weight-bold mb-0"},EI={class:"text-xs font-weight-bold mb-0"},xI={class:"text-xs text-center font-weight-bold mb-0"},NI={class:"align-middle text-center text-sm"},vI={class:"badge badge-sm bg-gradient-success"},yI={class:"row"},wI={class:"col-md-12 col-lg-12"},kI={class:"page-nav","aria-label":"Page navigation"},AI={class:"pagination mt-4 mb-4"},SI=["disabled"],BI=["onClick"],CI=["disabled"];function _I(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",JP,[Object(l["createElementVNode"])("div",HP,[Object(l["createElementVNode"])("div",WP,[Object(l["createElementVNode"])("div",ZP,[YP,Object(l["createElementVNode"])("div",KP,[Object(l["createElementVNode"])("div",GP,[Object(l["createElementVNode"])("div",{class:"icon-label",onClick:t[0]||(t[0]=e=>s.confirmAction("restore"))},tI),s.userPermissions.delete_student?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"icon-label",onClick:t[1]||(t[1]=e=>s.confirmAction("delete"))},cI)):Object(l["createCommentVNode"])("",!0),Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box filter-box",onKeyup:t[2]||(t[2]=Object(l["withKeys"])((...e)=>s.filterStaff&&s.filterStaff(...e),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=e=>o.seachString=e),id:"name",type:"text",placeholder:"Type to Search...",name:"address"},null,544),[[l["vModelText"],o.seachString]])]),Object(l["createElementVNode"])("div",oI,[Object(l["createElementVNode"])("table",sI,[Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",nI,[Object(l["createElementVNode"])("div",rI,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{onChange:t[4]||(t[4]=(...e)=>s.selectAll&&s.selectAll(...e)),"onUpdate:modelValue":t[5]||(t[5]=e=>o.selectall=e),id:"",class:"form-check-input",type:"checkbox",name:""},null,544),[[l["vModelCheckbox"],o.selectall]]),iI])]),dI,mI,bI,uI,pI])]),Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allStaff,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",OI,[Object(l["createElementVNode"])("div",jI,[Object(l["createElementVNode"])("input",{checked:s.checkIfSelected(e.user.id),onChange:t=>s.selectRecord(e.user.id),id:"",class:"form-check-input",type:"checkbox",name:""},null,40,hI),gI])]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",fI,Object(l["toDisplayString"])(e.mifare_id?e.mifare_id:"-"),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",VI,Object(l["toDisplayString"])(e.user.first_name)+" "+Object(l["toDisplayString"])(e.user.last_name),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",EI,Object(l["toDisplayString"])(e.user.email),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",xI,Object(l["toDisplayString"])(e.school.name),1)]),Object(l["createElementVNode"])("td",NI,[Object(l["createElementVNode"])("span",vI,Object(l["toDisplayString"])(e.user.status),1)])]))),128))])])]),Object(l["createElementVNode"])("div",yI,[Object(l["createElementVNode"])("div",wI,[Object(l["createElementVNode"])("nav",kI,[Object(l["createElementVNode"])("ul",AI,[Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:1===o.currentPage}])},[Object(l["createElementVNode"])("i",{class:"page-link material-icons-round opacity-10 fs-5",disabled:1===o.currentPage,onClick:t[6]||(t[6]=e=>s.getAllStaff(o.currentPage-1)),tabindex:"-1","aria-disabled":"true"},"arrow_back",8,SI)],2),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.totalPages,e=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:Object(l["normalizeClass"])(["page-item",{active:o.currentPage===e}]),key:e},[Object(l["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t=>s.getAllStaff(e)},Object(l["toDisplayString"])(e),9,BI)],2))),128)),Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:o.currentPage===o.totalPages}])},[Object(l["createElementVNode"])("i",{class:"page-link material-icons-round opacity-10 fs-5",disabled:o.currentPage===o.totalPages,onClick:t[7]||(t[7]=e=>s.getAllStaff(o.currentPage+1)),tabindex:"-1","aria-disabled":"true"},"arrow_forward",8,CI)],2)])])])])])])])])])}var DI={name:"tables",async mounted(){this.setColor(),await this.getUser(),await this.getAllStaff(),await this.selectAll()},updated(){this.$permissions.redirectIfNotAllowed("view_staff")},computed:{...Object(De["c"])(["getBrandingSetting"]),userPermissions(){return this.$permissions.userPermissions.value}},data(){return{selectall:!1,selectedRecords:[],seachString:"",allStaff:"",schools:6,user:"",totalRows:"",currentPage:"",perPage:"",totalPages:""}},methods:{setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},selectAll(){this.selectedRecords=[],this.allStaff.filter(e=>{this.selectall?this.selectedRecords.push({id:e.user.id,value:!0}):this.selectedRecords.push({id:e.user.id,value:!1})})},checkIfSelected(e){const t=this.selectedRecords.find(t=>t.id===e);return!!t&&t.value},selectRecord(e){const t=this.selectedRecords.find(t=>t.id===e);t.value?t.value=!1:t.value=!0},async bulkDelete(){let e=[];if(this.selectedRecords.filter(t=>{t.value&&e.push(t.id)}),e.length){const t=await ia.post("/bulkDeleteStaff",e);this.snackbarMsg(t.data.message),this.getAllStaff()}},async bulkRestore(){let e=[];if(this.selectedRecords.filter(t=>{t.value&&e.push(t.id)}),e.length){const t=await ia.post("/bulkRestoreStaff",e);this.snackbarMsg(t.data.message),this.getAllStaff()}else this.snackbarMsg("Error: data not selected")},confirmAction(e){qn.a.fire({title:"Are you sure?",text:"delete"==e?"Items will be deleted permanently and you will not be able to revert this!":"Items Will be restored to the staff",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"delete"==e?"Yes, delete it!":"Yes, restore it!",customClass:{popup:"custom-swal"}}).then(t=>{t.isConfirmed&&("delete"==e?this.bulkDelete():"restore"==e&&this.bulkRestore())})},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},topUps(e){this.$router.push("/payment_account/"+e)},transactionHistoryNav(e){this.$router.push("/student-billing/"+e)},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async getAllStaff(e){let t={user_id:null,page:e};try{"organization_admin"==this.user.role&&(t.user_id=this.user.id);const e=await ia.post("/archivedStaff",t);this.allStaff=e.data.data,this.totalRows=e.data.pagination.total,this.currentPage=e.data.pagination.current_page,this.perPage=e.data.pagination.per_page,this.totalPages=e.data.pagination.last_page}catch(a){console.log(a)}},async deleteStaff(e){try{await ia.delete("/deleteStaff/"+e),this.removeStaffFromList(e),this.snackbarMsg("Staff Deleted")}catch(t){console.log(t)}},removeStaffFromList(e){const t=this.allStaff.findIndex(t=>t.id===e);this.allStaff.splice(t,1)},async filterStaff(){if(""==this.seachString)return void this.getAllStaff();let e={searchString:this.seachString};try{const t=await ia.post("/searchStaff",e);this.allStaff=t.data,this.totalRows=t.data.total,this.currentPage=t.data.current_page,this.perPage=t.per_page,this.totalPages=t.data.last_page}catch(t){console.log(t)}}}};a("aa12");const PI=Te()(DI,[["render",_I]]);var II=PI;Object(l["pushScopeId"])("data-v-7397f441");const TI={class:"container-fluid py-4"},zI={class:"row"},MI={class:"col-12"},FI={class:"card my-4"},UI={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-1"},LI=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Add Staff",-1),qI=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4  border-radius-lg"}," Back ",-1),RI={class:"card-body px-0 pb-2"},$I={class:"table-responsive p-0"},QI={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},JI={key:0,class:"mb-3 change-pass-alert"},HI=Object(l["createElementVNode"])("br",null,null,-1),WI={class:"bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},ZI={class:"form-bg container p-4"},YI=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Personal Information",-1),KI={class:"card card-plain"},GI={class:"card-body"},XI={role:"form"},eT={class:"mb-1"},tT=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},[Object(l["createTextVNode"])("First Name "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),aT={key:0,class:"text-danger error-txt"},lT={class:"mb-1"},cT=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},[Object(l["createTextVNode"])("Last Name "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),oT={key:0,class:"text-danger error-txt"},sT={class:"mb-1"},nT=Object(l["createElementVNode"])("label",{class:"input-label",for:"student_id"},[Object(l["createTextVNode"])("Staff ID "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),rT={key:0,class:"text-danger error-txt"},iT={class:"mb-1"},dT=Object(l["createElementVNode"])("label",{class:"input-label",for:"mifare_id"},[Object(l["createTextVNode"])("MIFARE ID "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),mT={key:0,class:"text-danger error-txt"},bT={class:"mb-1"},uT=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},[Object(l["createTextVNode"])("Email "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),pT={key:0,class:"text-danger error-txt"},OT={class:"mb-1"},jT=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},[Object(l["createTextVNode"])("School "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),hT=Object(l["createElementVNode"])("br",null,null,-1),gT=["value"],fT={key:0,class:"text-danger error-txt"},VT={class:"mb-1"},ET=Object(l["createElementVNode"])("label",{class:"input-label",for:"balance"},"Balance ",-1),xT={class:"mb-1"},NT=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},[Object(l["createTextVNode"])("Role "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),vT=Object(l["createElementVNode"])("br",null,null,-1),yT=["value"],wT={key:0,class:"text-danger error-txt"},kT={class:"mb-1"},AT=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},[Object(l["createTextVNode"])("Status "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),ST=Object(l["createElementVNode"])("br",null,null,-1),BT=["value"],CT={key:0,class:"text-danger error-txt"},_T={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},DT={class:""};function PT(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",TI,[Object(l["createElementVNode"])("div",zI,[Object(l["createElementVNode"])("div",MI,[Object(l["createElementVNode"])("div",FI,[Object(l["createElementVNode"])("div",UI,[LI,Object(l["createVNode"])(n,{to:{name:"list-staff"}},{default:Object(l["withCtx"])(()=>[qI]),_:1})]),Object(l["createElementVNode"])("div",RI,[Object(l["createElementVNode"])("div",$I,[Object(l["createElementVNode"])("div",QI,[o.isError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",JI,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.validationErrors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{key:t,class:"pass-text"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e),1),HI]))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",WI,[Object(l["createElementVNode"])("div",ZI,[YI,Object(l["createElementVNode"])("div",KI,[Object(l["createElementVNode"])("div",GI,[Object(l["createElementVNode"])("form",XI,[Object(l["createElementVNode"])("div",eT,[tT,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newStaff.first_name=e),type:"text",placeholder:"First Name",name:"first_name"},null,512),[[l["vModelText"],o.newStaff.first_name]]),""!==o.formValidation&&""!==o.formValidation["first_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",aT,"First Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",lT,[cT,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newStaff.last_name=e),type:"text",placeholder:"Last Name",name:"last_name"},null,512),[[l["vModelText"],o.newStaff.last_name]]),""!==o.formValidation&&""!==o.formValidation["last_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",oT,"Last Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",sT,[nT,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"student_id","onUpdate:modelValue":t[2]||(t[2]=e=>o.newStaff.staff_id=e),type:"text",placeholder:"ID",name:"student_id"},null,512),[[l["vModelText"],o.newStaff.staff_id]]),""!==o.formValidation&&""!==o.formValidation["staff_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",rT,"Student ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",iT,[dT,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"mifare_id","onUpdate:modelValue":t[3]||(t[3]=e=>o.newStaff.mifare_id=e),type:"text",placeholder:"MIFARE ID",name:"mifare_id"},null,512),[[l["vModelText"],o.newStaff.mifare_id]]),""!==o.formValidation&&""!==o.formValidation["mifare_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",mT,"MIFARE ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",bT,[uT,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[4]||(t[4]=e=>o.newStaff.email=e),type:"email",placeholder:"email",name:"email"},null,512),[[l["vModelText"],o.newStaff.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",pT,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",OT,[jT,hT,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[5]||(t[5]=e=>o.newStaff.school_id=e),id:"school",type:"select",placeholder:"school",name:"school"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allSchools,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.title),9,gT))),128))],512),[[l["vModelSelect"],o.newStaff.school_id]]),""!==o.formValidation&&""!==o.formValidation["school_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",fT,"School ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",VT,[ET,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"balance","onUpdate:modelValue":t[6]||(t[6]=e=>s.formattedBalance=e),type:"number",step:"0.01",min:"0",placeholder:"balance",name:"balance"},null,512),[[l["vModelText"],s.formattedBalance]])]),Object(l["createElementVNode"])("div",xT,[NT,vT,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[7]||(t[7]=e=>o.newStaff.role=e),id:"role",type:"select",placeholder:"role",name:"role"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allRoles,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:t},["Admin"!==e.name&&"Associate Admin"!==e.name?(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:0,value:e.name},Object(l["toDisplayString"])(e.name),9,yT)):Object(l["createCommentVNode"])("",!0)],64))),128))],512),[[l["vModelSelect"],o.newStaff.role]]),""!==o.formValidation&&""!==o.formValidation["role"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",wT,"Staff Role is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",kT,[AT,ST,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.newStaff.status=e),class:"select-box",id:"status",type:"select",placeholder:"status",name:"status"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableStatus,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,BT))),128))],512),[[l["vModelSelect"],o.newStaff.status]]),""!==o.formValidation&&""!==o.formValidation["status"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",CT,"status is required")):Object(l["createCommentVNode"])("",!0)])])])])])]),Object(l["createElementVNode"])("div",_T,[Object(l["createElementVNode"])("div",DT,[Object(l["createElementVNode"])("button",{onClick:t[9]||(t[9]=(...e)=>s.saveNewStudent&&s.saveNewStudent(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-5 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Save Staff ")])])])])])])])])])}Object(l["popScopeId"])();var IT={name:"",components:{},mounted(){this.getUser(),this.getSchools(),this.getAllRoles()},updated(){this.$permissions.redirectIfNotAllowed("create_staff")},computed:{formattedBalance:{get(){return this.newStaff.balance},set(e){const t=parseFloat(e).toFixed(2);this.newStaff.balance=t}}},data(){return{allRoles:"",availableCountries:["UK","USA","Canada"],user:"",isError:!1,formValidation:"",validationErrors:"",newStaff:{school_id:"",mifare_id:"",staff_id:"",first_name:"",last_name:"",email:"",status:"",role:"",balance:""},availableStatus:["active","pending","blocked"],allSchools:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("create_staff");let e=!1,t="";t=Wc()(this.newStaff);for(let a in this.newStaff)""!==this.newStaff[a]&&void 0!==this.newStaff[a]||"balance"===a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,e},async getAllRoles(){try{const e=await ia.get("getAllRoles");this.allRoles=e.data}catch(e){console.log(e)}},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async saveNewStudent(){if(!this.validateForm())try{let e=await ia.post("/createStaff",this.newStaff);this.isError=!1,e=e.data,this.createCustomer(e.user.id),this.$router.push({name:"list-staff"}),this.snackbarMsg("Staff Saved Successfuly")}catch(e){this.isError=!0,this.validationErrors=e.response.data.errors}},async createCustomer(e){let t=this.newStudent.first_name+" "+this.newStudent.last_name,a={user_id:e,name:t,email:this.newStudent.email};try{await ia.post("/createCustomer",a)}catch(l){console.log(l)}},async getSchools(){try{let e="/getAllSchools";"organization_admin"==this.user.role&&(e="/getAllSchools/"+this.user.id);const t=await ia.get(e);this.allSchools=t.data}catch(e){console.log(e)}}}};a("29fe");const TT=Te()(IT,[["render",PT],["__scopeId","data-v-7397f441"]]);var zT=TT;Object(l["pushScopeId"])("data-v-386f52f2");const MT={class:"container-fluid py-4"},FT={class:"row"},UT={class:"col-12"},LT={class:"card my-4"},qT=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between border-radius-lg pt-4"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Edit Staff")],-1),RT={class:"card-body px-0 pb-2"},$T={class:"table-responsive p-0"},QT={class:"row d-flex justify-content-center bg-white form-data border-radius-lg"},JT={key:0,class:"mb-3 change-pass-alert"},HT=Object(l["createElementVNode"])("br",null,null,-1),WT={class:"mt-3 bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},ZT={class:"form-bg container p-4"},YT=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Personal Information",-1),KT={class:"card card-plain"},GT={class:"card-body"},XT={role:"form"},ez={class:"mb-1"},tz=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},[Object(l["createTextVNode"])("First Name "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),az={key:0,class:"text-danger error-txt"},lz={class:"mb-1"},cz=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},[Object(l["createTextVNode"])("Last Name "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),oz={key:0,class:"text-danger error-txt"},sz={class:"mb-1"},nz=Object(l["createElementVNode"])("label",{class:"input-label",for:"student_id"},[Object(l["createTextVNode"])("Staff ID "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),rz={key:0,class:"text-danger error-txt"},iz={class:"mb-1"},dz=Object(l["createElementVNode"])("label",{class:"input-label",for:"mifare_id"},[Object(l["createTextVNode"])("MIFARE ID "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),mz={key:0,class:"text-danger error-txt"},bz={class:"mb-1"},uz=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},[Object(l["createTextVNode"])("Email "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),pz={key:0,class:"text-danger error-txt"},Oz={class:"mb-1"},jz=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},[Object(l["createTextVNode"])("School "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),hz=Object(l["createElementVNode"])("br",null,null,-1),gz=["value"],fz={key:0,class:"text-danger error-txt"},Vz={class:"mb-1"},Ez=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},[Object(l["createTextVNode"])("Role "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),xz=Object(l["createElementVNode"])("br",null,null,-1),Nz=["value"],vz={key:0,class:"text-danger error-txt"},yz={class:"mb-1"},wz=Object(l["createElementVNode"])("label",{class:"input-label",for:"balance"},"Balance ",-1),kz={class:"mb-1"},Az=Object(l["createElementVNode"])("label",{class:"input-label",for:"balance"},"Add Amount",-1),Sz={class:"mb-1"},Bz=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},"Status",-1),Cz=Object(l["createElementVNode"])("br",null,null,-1),_z=["value"],Dz={key:0,class:"text-danger error-txt"},Pz={class:"mt-3 bg-white box-shadow-dark border-radius-lg  col-xl-10 col-lg-10 col-md-10"},Iz={class:"form-bg container p-4"},Tz=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Password",-1),zz=Object(l["createElementVNode"])("small",{class:"ms-4 text-xs"},"password fields are optional if you wan't to change the password you can fill the following data",-1),Mz={class:"card card-plain"},Fz={class:"card-body"},Uz={role:"form"},Lz={class:"mb-1"},qz=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Password",-1),Rz={class:"mb-1"},$z=Object(l["createElementVNode"])("label",{class:"input-label",for:"address"},"Confirm Password",-1),Qz={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},Jz={class:""};function Hz(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",MT,[Object(l["createElementVNode"])("div",FT,[Object(l["createElementVNode"])("div",UT,[Object(l["createElementVNode"])("div",LT,[qT,Object(l["createElementVNode"])("div",RT,[Object(l["createElementVNode"])("div",$T,[Object(l["createElementVNode"])("div",QT,[o.isError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",JT,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.validationErrors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{key:t,class:"pass-text"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e),1),HT]))),128))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",WT,[Object(l["createElementVNode"])("div",ZT,[YT,Object(l["createElementVNode"])("div",KT,[Object(l["createElementVNode"])("div",GT,[Object(l["createElementVNode"])("form",XT,[Object(l["createElementVNode"])("div",ez,[tz,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newStaff.first_name=e),type:"text",placeholder:"First Name",name:"first_name"},null,512),[[l["vModelText"],o.newStaff.first_name]]),""!==o.formValidation&&""!==o.formValidation["first_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",az,"First Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",lz,[cz,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newStaff.last_name=e),type:"text",placeholder:"Last Name",name:"last_name"},null,512),[[l["vModelText"],o.newStaff.last_name]]),""!==o.formValidation&&""!==o.formValidation["last_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",oz,"Last Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",sz,[nz,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"student_id","onUpdate:modelValue":t[2]||(t[2]=e=>o.newStaff.staff_id=e),type:"text",placeholder:"ID",name:"student_id"},null,512),[[l["vModelText"],o.newStaff.staff_id]]),""!==o.formValidation&&""!==o.formValidation["staff_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",rz,"Staff ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",iz,[dz,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"mifare_id","onUpdate:modelValue":t[3]||(t[3]=e=>o.newStaff.mifare_id=e),type:"text",placeholder:"MIFARE ID",name:"mifare_id"},null,512),[[l["vModelText"],o.newStaff.mifare_id]]),""!==o.formValidation&&""!==o.formValidation["mifare_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",mz,"MIFARE ID is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",bz,[uz,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[4]||(t[4]=e=>o.newStaff.email=e),type:"email",placeholder:"email",name:"email"},null,512),[[l["vModelText"],o.newStaff.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",pz,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Oz,[jz,hz,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[5]||(t[5]=e=>o.newStaff.school_id=e),id:"school",type:"select",placeholder:"school",name:"school"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allSchools,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.title),9,gz))),128))],512),[[l["vModelSelect"],o.newStaff.school_id]]),""!==o.formValidation&&""!==o.formValidation["school_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",fz,"School is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",Vz,[Ez,xz,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[6]||(t[6]=e=>o.newStaff.role=e),id:"role",type:"select",placeholder:"role",name:"role"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allRoles,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:t},["Admin"!==e.name&&"Associate Admin"!==e.name?(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:0,value:e.name},Object(l["toDisplayString"])(e.name),9,Nz)):Object(l["createCommentVNode"])("",!0)],64))),128))],512),[[l["vModelSelect"],o.newStaff.role]]),""!==o.formValidation&&""!==o.formValidation["role"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",vz,"Staff Role is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",yz,[wz,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"balance","onUpdate:modelValue":t[7]||(t[7]=e=>s.formattedBalance=e),type:"number",step:"0.01",min:"0",placeholder:"balance",name:"balance"},null,512),[[l["vModelText"],s.formattedBalance]])]),Object(l["createElementVNode"])("div",kz,[Az,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"balance","onUpdate:modelValue":t[8]||(t[8]=e=>s.formattedAmount=e),type:"number",step:"0.01",min:"0",placeholder:"add amount",name:"add_amount"},null,512),[[l["vModelText"],s.formattedAmount]])]),Object(l["createElementVNode"])("div",Sz,[Bz,Cz,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.newStaff.status=e),class:"select-box",id:"status",type:"select",placeholder:"status",name:"status"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableStatus,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,_z))),128))],512),[[l["vModelSelect"],o.newStaff.status]]),""!==o.formValidation&&""!==o.formValidation["status"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Dz,"Status is required")):Object(l["createCommentVNode"])("",!0)])])])])])]),Object(l["createElementVNode"])("div",Pz,[Object(l["createElementVNode"])("div",Iz,[Tz,zz,Object(l["createElementVNode"])("div",Mz,[Object(l["createElementVNode"])("div",Fz,[Object(l["createElementVNode"])("form",Uz,[Object(l["createElementVNode"])("div",Lz,[qz,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[10]||(t[10]=e=>o.newStaff.password=e),type:"password",placeholder:"Password",name:"zip"},null,512),[[l["vModelText"],o.newStaff.password]])]),Object(l["createElementVNode"])("div",Rz,[$z,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[11]||(t[11]=e=>o.newStaff.password_confirmation=e),type:"password",placeholder:"Confirm Password",name:"address"},null,512),[[l["vModelText"],o.newStaff.password_confirmation]])])])])])])]),Object(l["createElementVNode"])("div",Qz,[Object(l["createElementVNode"])("div",Jz,[Object(l["createElementVNode"])("button",{onClick:t[12]||(t[12]=(...e)=>s.updateStaff&&s.updateStaff(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-3 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Update Staff ")])])])])])])])])])}Object(l["popScopeId"])();var Wz={name:"",components:{},mounted(){this.getUser(),this.editStaff(),this.getSchools(),this.getAllRoles()},updated(){this.$permissions.redirectIfNotAllowed("edit_staff")},computed:{formattedAmount:{get(){return parseFloat(this.newStaff.add_amount).toFixed(2)},set(e){const t=parseFloat(e).toFixed(2);this.newStaff.add_amount=t}},formattedBalance:{get(){return this.newStaff.balance},set(e){const t=parseFloat(e).toFixed(2);this.newStaff.balance=t}}},data(){return{allRoles:"",user:"",availableCountries:["UK","USA","Canada"],newStaff:{school_id:"",mifare_id:"",staff_id:"",first_name:"",balance:"",add_amount:"",last_name:"",email:"",phone:"",country:"",city:"",zip:"",address:"",status:"",password:"",password_confirmation:"",role:""},validationErrors:"",isError:!1,formValidation:"",availableStatus:["active","pending","blocked"],allSchools:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("edit_staff");let e=!1,t="";t=Wc()(this.newStaff);for(let a in this.newStaff)""!==this.newStaff[a]&&null!==this.newStaff[a]||"phone"===a||"country"===a||"city"===a||"address"===a||"zip"===a||"balance"===a||"add_amount"===a||"password"===a||"password_confirmation"===a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,console.log(this.formValidation),e},async getAllRoles(){try{const e=await ia.get("getAllRoles");this.allRoles=e.data}catch(e){console.log(e)}},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async editStaff(){let e=this.$route.params.id;try{const t=await ia.get("/editStaff/"+e);this.setData(t)}catch(t){console.log(t)}},setData(e){let t;e&&(t=e.data,this.newStaff.school_id=t.school_id,this.newStaff.staff_id=t.staff_id,this.newStaff.mifare_id=t.mifare_id,this.newStaff.first_name=t.user.first_name,this.newStaff.last_name=t.user.last_name,this.newStaff.email=t.user.email,this.newStaff.phone=t.user.phone,this.newStaff.country=t.user.country,this.newStaff.city=t.user.city,this.newStaff.zip=t.user.zip,this.newStaff.address=t.user.address,this.newStaff.status=t.user.status,this.newStaff.role=t.user.user_role.role.name,this.newStaff.balance=this.formattedPrice(t.balance.ballance))},async updateStaff(){if(this.validateForm())return;let e=this.$route.params.id;try{await ia.put("/updateStaff/"+e,this.newStaff),this.$router.push({name:"list-staff"}),this.snackbarMsg("Staff Updated Successfuly")}catch(t){console.log(t),this.isError=!0,this.validationErrors=t.response.data.errors}},formattedPrice(e){const t=parseFloat(e).toFixed(2);return t},async getSchools(){try{let e="/getAllSchools";"organization_admin"==this.user.role&&(e="/getAllSchools/"+this.user.id);const t=await ia.get(e);this.allSchools=t.data}catch(e){console.log(e)}}}};a("6099");const Zz=Te()(Wz,[["render",Hz],["__scopeId","data-v-386f52f2"]]);var Yz=Zz;const Kz={class:"card"},Gz={class:"card-body pt-4 p-3"},Xz={class:"list-group"},eM={style:{"background-color":"#F0F2F5 !important"},class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},tM={class:"info-width d-flex flex-column"},aM={class:"row"},lM=Object(l["createStaticVNode"])('<div class="col-md-8 col-sm-8"><div><h6 class="mb-3 text-sm text-dark"> Muhammad Anees </h6><span class="user-info d-flex justify-content-between align-items-center text-dark font-weight-bold text-xs"><span class="text-sm fw-5">Phone:</span><span class="text-dark ms-2 font-weight-bold"> +92347193809 </span></span><span class="user-info d-flex justify-content-between align-items-center text-dark font-weight-bold text-xs"><span class="text-sm fw-5">Email:</span><span class="text-dark ms-2 font-weight-bold"> anees@example.com </span></span><span class="user-info d-flex justify-content-between align-items-center text-dark font-weight-bold text-xs"><span class="text-sm fw-5">Staff ID:</span><span class="text-dark ms-2 font-weight-bold"> satff349328 </span></span><span class="user-info d-flex justify-content-between  align-items-center text-dark font-weight-bold text-xs"><span class="text-sm fw-5">School:</span><span class="text-dark ms-2 font-weight-bold"> XEPAY School </span></span><span class="user-info d-flex justify-content-between  align-items-center text-dark font-weight-bold text-xs"><span class="text-sm fw-5">Country:</span><span class="text-dark ms-2 font-weight-bold"> United Kingdom (UK) </span></span><span class="user-info d-flex justify-content-between align-items-center text-dark font-weight-bold text-xs"><span class="text-sm fw-5">City:</span><span class="text-dark ms-2 font-weight-bold"> Birmingham </span></span><span class="user-info d-flex justify-content-between align-items-center text-dark font-weight-bold text-xs"><span class="text-sm fw-5">Post Code/Zip Code:</span><span class="text-dark ms-2 font-weight-bold"> 3231223 </span></span><span class="user-info d-flex justify-content-between align-items-center text-dark font-weight-bold text-xs"><span class="text-sm fw-5">Address:</span><span class="text-dark ms-2 font-weight-bold"> 3673 Edington Drive </span></span></div></div>',1),cM={class:"col-md-4 col-sm-4"},oM=Object(l["createElementVNode"])("h6",{class:"mt-3 text-sm text-dark"}," PERMISSIONS ",-1),sM=Object(l["createElementVNode"])("small",{class:"text-xs"},"Muhammad Anees has following permissions",-1),nM={class:"permissions mt-3"},rM={class:"switch-container mt-2 me-5"},iM=["onChange","checked","id"],dM=["for"],mM={class:"permission-name text-uppercase"};function bM(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Kz,[Object(l["createElementVNode"])("div",Gz,[Object(l["createElementVNode"])("div",Xz,[Object(l["createElementVNode"])("div",eM,[Object(l["createElementVNode"])("div",tM,[Object(l["createElementVNode"])("div",aM,[lM,Object(l["createElementVNode"])("div",cM,[oM,sM,Object(l["createElementVNode"])("div",nM,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allPermissions,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",{key:t,class:"permission-info d-flex justify-content-between align-items-center text-dark font-weight-bold text-xs"},[Object(l["createElementVNode"])("div",rM,[Object(l["createElementVNode"])("input",{type:"checkbox",onChange:t=>s.updatePermission(e.id),checked:s.checkIfPermission(e.id),id:e.id,class:"switch-input"},null,40,iM),Object(l["createElementVNode"])("label",{for:e.id,class:"switch-label"},null,8,dM)]),Object(l["createElementVNode"])("span",mM,Object(l["toDisplayString"])(e.name),1)]))),128))])])])])])])])])}var uM={name:"billing-card",mounted(){this.getAllPermissions(),this.getUserPermissions()},data(){return{allPermissions:"",userPermissions:[]}},methods:{async getAllPermissions(){try{const e=await ia.get("getAllPermissions");this.allPermissions=e.data}catch(e){console.log(e)}},async getUserPermissions(){let e=this.$route.params.id;try{const t=await ia.get("getUserPermissions/"+e);this.userPermissions=t.data}catch(t){console.log(t)}},checkIfPermission(e){return this.userPermissions.some(t=>t.permission_id===e)},async updatePermission(e){let t={user_id:this.$route.params.id,permission_id:e};try{await ia.post("updateUserPermissions",t)}catch(a){console.log(a)}}}};a("f47a");const pM=Te()(uM,[["render",bM]]);var OM=pM;const jM={class:"container-fluid py-4"},hM={class:"row"},gM={class:"col-12"},fM={class:"card my-4"},VM={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-3"},EM=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Parents",-1),xM=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4 border-radius-lg"}," Add Parent ",-1),NM={class:"card-body px-0 pb-2"},vM={class:"table-responsive p-0"},yM={class:"table align-items-center mb-0"},wM=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"text-uppercase  text-center text-secondary text-xxs font-weight-bolder opacity-7"}," ID "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Name "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Email "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Student "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Status "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Action ")])],-1),kM={class:"text-xs  text-center font-weight-bold mb-0"},AM={class:"text-xs font-weight-bold mb-0"},SM={class:"text-xs font-weight-bold mb-0"},BM=Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",{class:"text-xs font-weight-bold mb-0"}," Student1,Student2,Student3")],-1),CM={class:"align-middle text-center text-sm"},_M={class:"badge badge-sm bg-gradient-success"},DM={class:"align-middle text-center"},PM=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"edit",-1),IM=["onClick"];function TM(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",jM,[Object(l["createElementVNode"])("div",hM,[Object(l["createElementVNode"])("div",gM,[Object(l["createElementVNode"])("div",fM,[Object(l["createElementVNode"])("div",VM,[EM,s.userPermissions.create?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"add-parent"}},{default:Object(l["withCtx"])(()=>[xM]),_:1})):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",NM,[Object(l["createElementVNode"])("div",vM,[Object(l["createElementVNode"])("table",yM,[wM,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allParent,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",kM,Object(l["toDisplayString"])(e.id),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",AM,Object(l["toDisplayString"])(e.user?e.user.first_name:"-")+" "+Object(l["toDisplayString"])(e.user?e.user.last_name:"-"),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",SM,Object(l["toDisplayString"])(e.user?e.user.email:"-"),1)]),BM,Object(l["createElementVNode"])("td",CM,[Object(l["createElementVNode"])("span",_M,Object(l["toDisplayString"])(e.user?e.user.status:"-"),1)]),Object(l["createElementVNode"])("td",DM,[Object(l["createElementVNode"])("span",null,[s.userPermissions.edit?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"edit-parent",params:{id:e.id}}},{default:Object(l["withCtx"])(()=>[PM]),_:2},1032,["to"])):Object(l["createCommentVNode"])("",!0),s.userPermissions.delete?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",{key:1,onClick:t=>s.deleteParent(e.user.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"delete",8,IM)):Object(l["createCommentVNode"])("",!0)])])]))),128))])])])])])])])])}var zM={name:"tables",mounted(){this.getUser(),this.getAllParents()},data(){return{allParent:"",schools:6,user:""}},computed:{userPermissions(){return this.$permissions.userPermissions.value}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async getAllParents(){try{let e="/getAllParents";"organization_admin"==this.user.role&&(e="/getAllParents/"+this.user.id);const t=await ia.get(e);this.allParent=t.data}catch(e){console.log(e)}},async deleteParent(e){try{await ia.delete("/deleteParent/"+e),this.removeParentFromList(e),this.snackbarMsg("Parent Deleted")}catch(t){console.log(t)}},removeParentFromList(e){const t=this.allParent.findIndex(t=>t.id===e);this.allParent.splice(t,1)}}};a("708c");const MM=Te()(zM,[["render",TM]]);var FM=MM;Object(l["pushScopeId"])("data-v-05094142");const UM={class:"container-fluid py-4"},LM={class:"row"},qM={class:"col-12"},RM={class:"card my-4"},$M={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-1"},QM=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Add Parent",-1),JM=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4  border-radius-lg"}," Back ",-1),HM={class:"card-body px-0 pb-2"},WM={class:"table-responsive p-0"},ZM={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},YM={class:"bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},KM={class:"form-bg container p-4"},GM=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Personal Information",-1),XM={class:"card card-plain"},eF={class:"card-body"},tF={role:"form"},aF={class:"mb-1"},lF=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"First Name",-1),cF={key:0,class:"text-danger error-txt"},oF={class:"mb-1"},sF=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Last Name",-1),nF={key:0,class:"text-danger error-txt"},rF={class:"mb-1"},iF=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},"Email",-1),dF={key:0,class:"text-danger error-txt"},mF={class:"mb-1"},bF=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Phone",-1),uF={class:"mt-3 bg-white box-shadow-dark border-radius-lg  col-xl-10 col-lg-10 col-md-10"},pF={class:"form-bg container p-4"},OF=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Account Information",-1),jF={class:"card card-plain"},hF={class:"card-body"},gF={role:"form"},fF={class:"mb-1"},VF=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},"Country",-1),EF=Object(l["createElementVNode"])("br",null,null,-1),xF=["value"],NF={key:0,class:"text-danger error-txt"},vF={class:"mb-1"},yF=Object(l["createElementVNode"])("label",{class:"input-label",for:"city"},"City",-1),wF={key:0,class:"text-danger error-txt"},kF={class:"mb-1"},AF=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Postcode/Zip",-1),SF={key:0,class:"text-danger error-txt"},BF={class:"mb-1"},CF=Object(l["createElementVNode"])("label",{class:"input-label",for:"address"},"Address",-1),_F={key:0,class:"text-danger error-txt"},DF={class:"mb-1"},PF=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},"Status",-1),IF=Object(l["createElementVNode"])("br",null,null,-1),TF=["value"],zF={key:0,class:"text-danger error-txt"},MF={class:"mt-3 bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},FF={class:"form-bg container p-4"},UF=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Password Information",-1),LF={class:"card card-plain"},qF={class:"card-body"},RF={role:"form"},$F={class:"mb-1"},QF=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Password",-1),JF={key:0,class:"text-danger error-txt"},HF={class:"mb-1"},WF=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Confirm Password",-1),ZF={key:0,class:"text-danger error-txt"},YF={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},KF={class:""};function GF(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",UM,[Object(l["createElementVNode"])("div",LM,[Object(l["createElementVNode"])("div",qM,[Object(l["createElementVNode"])("div",RM,[Object(l["createElementVNode"])("div",$M,[QM,Object(l["createVNode"])(n,{to:{name:"list-parent"}},{default:Object(l["withCtx"])(()=>[JM]),_:1})]),Object(l["createElementVNode"])("div",HM,[Object(l["createElementVNode"])("div",WM,[Object(l["createElementVNode"])("div",ZM,[Object(l["createElementVNode"])("div",YM,[Object(l["createElementVNode"])("div",KM,[GM,Object(l["createElementVNode"])("div",XM,[Object(l["createElementVNode"])("div",eF,[Object(l["createElementVNode"])("form",tF,[Object(l["createElementVNode"])("div",aF,[lF,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newParent.first_name=e),type:"text",placeholder:"First Name",name:"first_name"},null,512),[[l["vModelText"],o.newParent.first_name]]),""!==o.formValidation&&""!==o.formValidation["first_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",cF,"First Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",oF,[sF,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newParent.last_name=e),type:"text",placeholder:"Last Name",name:"last_name"},null,512),[[l["vModelText"],o.newParent.last_name]]),""!==o.formValidation&&""!==o.formValidation["last_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",nF,"Last Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",rF,[iF,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>o.newParent.email=e),type:"email",placeholder:"email",name:"email"},null,512),[[l["vModelText"],o.newParent.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",dF,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",mF,[bF,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>o.newParent.phone=e),type:"tel",placeholder:"Phone",name:"phone"},null,512),[[l["vModelText"],o.newParent.phone]])])])])])])]),Object(l["createElementVNode"])("div",uF,[Object(l["createElementVNode"])("div",pF,[OF,Object(l["createElementVNode"])("div",jF,[Object(l["createElementVNode"])("div",hF,[Object(l["createElementVNode"])("form",gF,[Object(l["createElementVNode"])("div",fF,[VF,EF,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.newParent.country=e),class:"select-box",id:"country",type:"select",placeholder:"country",name:"country"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableCountries,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,xF))),128))],512),[[l["vModelSelect"],o.newParent.country]]),""!==o.formValidation&&""!==o.formValidation["country"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",NF,"Country is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",vF,[yF,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[5]||(t[5]=e=>o.newParent.city=e),type:"text",placeholder:"City",name:"city"},null,512),[[l["vModelText"],o.newParent.city]]),""!==o.formValidation&&""!==o.formValidation["city"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",wF,"City is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",kF,[AF,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[6]||(t[6]=e=>o.newParent.zip=e),type:"text",placeholder:"Zip Code",name:"zip"},null,512),[[l["vModelText"],o.newParent.zip]]),""!==o.formValidation&&""!==o.formValidation["zip"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",SF,"zip is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",BF,[CF,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[7]||(t[7]=e=>o.newParent.address=e),type:"text",placeholder:"Address",name:"address"},null,512),[[l["vModelText"],o.newParent.address]]),""!==o.formValidation&&""!==o.formValidation["address"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",_F,"address is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",DF,[PF,IF,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.newParent.status=e),class:"select-box",id:"status",type:"select",placeholder:"status",name:"status"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableStatus,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,TF))),128))],512),[[l["vModelSelect"],o.newParent.status]]),""!==o.formValidation&&""!==o.formValidation["status"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",zF,"status is required")):Object(l["createCommentVNode"])("",!0)])])])])])]),Object(l["createElementVNode"])("div",MF,[Object(l["createElementVNode"])("div",FF,[UF,Object(l["createElementVNode"])("div",LF,[Object(l["createElementVNode"])("div",qF,[Object(l["createElementVNode"])("form",RF,[Object(l["createElementVNode"])("div",$F,[QF,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[9]||(t[9]=e=>o.newParent.password=e),type:"password",placeholder:"Password",name:"password"},null,512),[[l["vModelText"],o.newParent.password]]),""!==o.formValidation&&""!==o.formValidation["password"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",JF,"password is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",HF,[WF,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[10]||(t[10]=e=>o.newParent.password_confirmation=e),type:"password",placeholder:"Confirm Password",name:"password_confirmation"},null,512),[[l["vModelText"],o.newParent.password_confirmation]]),""!==o.formValidation&&""!==o.formValidation["password_confirmation"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",ZF,"confirm password is required")):Object(l["createCommentVNode"])("",!0)])])])])])]),Object(l["createElementVNode"])("div",YF,[Object(l["createElementVNode"])("div",KF,[Object(l["createElementVNode"])("button",{onClick:t[11]||(t[11]=(...e)=>s.saveNewParent&&s.saveNewParent(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-5 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Save Parent ")])])])])])])])])])}Object(l["popScopeId"])();var XF={name:"",components:{},mounted(){this.getUser(),this.getStudents()},updated(){this.userPermissions.create||this.$router.go(-1)},computed:{userPermissions(){return this.$permissions.userPermissions.value}},data(){return{availableCountries:["UK","USA","Canada"],user:"",isError:!1,formValidation:"",validationErrors:"",newParent:{student_id:"",first_name:"",last_name:"",email:"",phone:"",country:"",city:"",zip:"",address:"",password:"",password_confirmation:"",status:""},availableStatus:["active","pending","blocked"],allStudents:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){if(!this.userPermissions.create)return void this.$router.go(-1);let e=!1,t="";t=Wc()(this.newParent);for(let a in this.newParent)""!==this.newParent[a]&&void 0!==this.newParent[a]||"phone"===a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,e},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async saveNewParent(){},async createCustomer(e){let t=this.newStudent.first_name+" "+this.newStudent.last_name,a={user_id:e,name:t,email:this.newStudent.email};try{await ia.post("/createCustomer",a)}catch(l){console.log(l)}},async getStudents(){try{let e={user_id:this.user.id,role:this.user.role};const t=await ia.post("/getAllStudents",e);this.allStudents=t.data}catch(e){console.log(e)}}}};a("a664");const eU=Te()(XF,[["render",GF],["__scopeId","data-v-05094142"]]);var tU=eU;Object(l["pushScopeId"])("data-v-3891d42f");const aU={class:"container-fluid py-4"},lU={class:"row"},cU={class:"col-12"},oU={class:"card my-4"},sU=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between border-radius-lg pt-4"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Edit Parent")],-1),nU={class:"card-body px-0 pb-2"},rU={class:"table-responsive p-0"},iU={class:"row d-flex justify-content-center bg-white form-data border-radius-lg"},dU={class:"mt-3 bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},mU={class:"form-bg container p-4"},bU=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Personal Information",-1),uU={class:"card card-plain"},pU={class:"card-body"},OU={role:"form"},jU={class:"mb-1"},hU=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"First Name",-1),gU={key:0,class:"text-danger error-txt"},fU={class:"mb-1"},VU=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Last Name",-1),EU={key:0,class:"text-danger error-txt"},xU={class:"mb-1"},NU=Object(l["createElementVNode"])("label",{class:"input-label",for:"email"},"Email",-1),vU={key:0,class:"text-danger error-txt"},yU={class:"mb-1"},wU=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Phone",-1),kU={class:"mb-1"},AU=Object(l["createElementVNode"])("label",{class:"input-label",for:"address"},"Address",-1),SU={key:0,class:"text-danger error-txt"},BU={class:"mb-1"},CU=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Student",-1),_U=Object(l["createElementVNode"])("br",null,null,-1),DU=["value"],PU={key:0,class:"text-danger error-txt"},IU={class:"mt-3 bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},TU={class:"form-bg container p-4"},zU=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Account Information",-1),MU={class:"card card-plain"},FU={class:"card-body"},UU={role:"form"},LU={class:"mb-1"},qU=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},"Country",-1),RU=Object(l["createElementVNode"])("br",null,null,-1),$U=["value"],QU={key:0,class:"text-danger error-txt"},JU={class:"mb-1"},HU=Object(l["createElementVNode"])("label",{class:"input-label",for:"city"},"City",-1),WU={key:0,class:"text-danger error-txt"},ZU={class:"mb-1"},YU=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Postcode/Zip",-1),KU={key:0,class:"text-danger error-txt"},GU={class:"mb-1"},XU=Object(l["createElementVNode"])("label",{class:"input-label",for:"status"},"Status",-1),eL=Object(l["createElementVNode"])("br",null,null,-1),tL=["value"],aL={key:0,class:"text-danger error-txt"},lL={class:"mt-3 bg-white box-shadow-dark border-radius-lg  col-xl-10 col-lg-10 col-md-10"},cL={class:"form-bg container p-4"},oL=Object(l["createElementVNode"])("p",{class:"text-dark ms-4 font-weight-bold"},"Password",-1),sL=Object(l["createElementVNode"])("small",{class:"ms-4 text-xs"},"password fields are optional if you wan't to change the password you can fill the following data",-1),nL={class:"card card-plain"},rL={class:"card-body"},iL={role:"form"},dL={class:"mb-1"},mL=Object(l["createElementVNode"])("label",{class:"input-label",for:"phone"},"Password",-1),bL={class:"mb-1"},uL=Object(l["createElementVNode"])("label",{class:"input-label",for:"address"},"Confirm Password",-1),pL={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},OL={class:""};function jL(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",aU,[Object(l["createElementVNode"])("div",lU,[Object(l["createElementVNode"])("div",cU,[Object(l["createElementVNode"])("div",oU,[sU,Object(l["createElementVNode"])("div",nU,[Object(l["createElementVNode"])("div",rU,[Object(l["createElementVNode"])("div",iU,[Object(l["createElementVNode"])("div",dU,[Object(l["createElementVNode"])("div",mU,[bU,Object(l["createElementVNode"])("div",uU,[Object(l["createElementVNode"])("div",pU,[Object(l["createElementVNode"])("form",OU,[Object(l["createElementVNode"])("div",jU,[hU,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newParent.first_name=e),type:"text",placeholder:"First Name",name:"first_name"},null,512),[[l["vModelText"],o.newParent.first_name]]),""!==o.formValidation&&""!==o.formValidation["first_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",gU,"First Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",fU,[VU,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.newParent.last_name=e),type:"text",placeholder:"Last Name",name:"last_name"},null,512),[[l["vModelText"],o.newParent.last_name]]),""!==o.formValidation&&""!==o.formValidation["last_name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",EU,"Last Name is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",xU,[NU,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>o.newParent.email=e),type:"email",placeholder:"email",name:"email"},null,512),[[l["vModelText"],o.newParent.email]]),""!==o.formValidation&&""!==o.formValidation["email"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",vU,"Email is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",yU,[wU,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>o.newParent.phone=e),type:"tel",placeholder:"Phone",name:"phone"},null,512),[[l["vModelText"],o.newParent.phone]])]),Object(l["createElementVNode"])("div",kU,[AU,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[4]||(t[4]=e=>o.newParent.address=e),type:"text",placeholder:"Address",name:"address"},null,512),[[l["vModelText"],o.newParent.address]]),""!==o.formValidation&&""!==o.formValidation["address"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",SU,"Address is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",BU,[CU,_U,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"select-box","onUpdate:modelValue":t[5]||(t[5]=e=>o.newParent.student_id=e),id:"student",type:"select",placeholder:"student",name:"student"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allStudents,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.id},Object(l["toDisplayString"])(e.user.first_name)+" "+Object(l["toDisplayString"])(e.user.last_name),9,DU))),128))],512),[[l["vModelSelect"],o.newParent.student_id]]),""!==o.formValidation&&""!==o.formValidation["student_id"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",PU,"Student is required")):Object(l["createCommentVNode"])("",!0)])])])])])]),Object(l["createElementVNode"])("div",IU,[Object(l["createElementVNode"])("div",TU,[zU,Object(l["createElementVNode"])("div",MU,[Object(l["createElementVNode"])("div",FU,[Object(l["createElementVNode"])("form",UU,[Object(l["createElementVNode"])("div",LU,[qU,RU,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.newParent.country=e),class:"select-box",id:"country",type:"select",placeholder:"country",name:"country"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableCountries,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,$U))),128))],512),[[l["vModelSelect"],o.newParent.country]]),""!==o.formValidation&&""!==o.formValidation["country"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",QU,"Country is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",JU,[HU,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[7]||(t[7]=e=>o.newParent.city=e),type:"text",placeholder:"City",name:"city"},null,512),[[l["vModelText"],o.newParent.city]]),""!==o.formValidation&&""!==o.formValidation["city"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",WU,"City is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",ZU,[YU,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[8]||(t[8]=e=>o.newParent.zip=e),type:"text",placeholder:"Zip Code",name:"zip"},null,512),[[l["vModelText"],o.newParent.zip]]),""!==o.formValidation&&""!==o.formValidation["zip"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",KU,"Zip is required")):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",GU,[XU,eL,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.newParent.status=e),class:"select-box",id:"status",type:"select",placeholder:"status",name:"status"},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.availableStatus,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,tL))),128))],512),[[l["vModelSelect"],o.newParent.status]]),""!==o.formValidation&&""!==o.formValidation["status"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",aL,"Status is required")):Object(l["createCommentVNode"])("",!0)])])])])])]),Object(l["createElementVNode"])("div",lL,[Object(l["createElementVNode"])("div",cL,[oL,sL,Object(l["createElementVNode"])("div",nL,[Object(l["createElementVNode"])("div",rL,[Object(l["createElementVNode"])("form",iL,[Object(l["createElementVNode"])("div",dL,[mL,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[10]||(t[10]=e=>o.newParent.password=e),type:"password",placeholder:"Password",name:"zip"},null,512),[[l["vModelText"],o.newParent.password]])]),Object(l["createElementVNode"])("div",bL,[uL,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[11]||(t[11]=e=>o.newParent.password_confirmation=e),type:"password",placeholder:"Confirm Password",name:"address"},null,512),[[l["vModelText"],o.newParent.password_confirmation]])])])])])])]),Object(l["createElementVNode"])("div",pL,[Object(l["createElementVNode"])("div",OL,[Object(l["createElementVNode"])("button",{onClick:t[12]||(t[12]=(...e)=>s.updateParent&&s.updateParent(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-3 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Update Student ")])])])])])])])])])}Object(l["popScopeId"])();var hL={name:"",components:{},mounted(){this.getUser(),this.editParent(),this.getStudents()},updated(){this.userPermissions.edit||this.$router.go(-1)},computed:{userPermissions(){return this.$permissions.userPermissions.value}},data(){return{user:"",availableCountries:["UK","USA","Canada"],newParent:{student_id:"",first_name:"",last_name:"",email:"",phone:"",country:"",city:"",zip:"",address:"",password:"",password_confirmation:"",status:""},validationErrors:"",formValidation:"",availableStatus:["active","pending","blocked"],allStudents:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){if(!this.userPermissions.edit)return void this.$router.go(-1);let e=!1,t="";t=Wc()(this.newParent);for(let a in this.newParent)""!==this.newParent[a]&&void 0!==this.newParent[a]||"phone"===a||"password"===a||"password_confirmation"===a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,e},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async editParent(){let e=this.$route.params.id;try{const t=await ia.get("/editParent/"+e);this.setData(t)}catch(t){console.log(t)}},setData(e){let t;e&&(t=e.data,this.newParent.student_id=t.student_id,this.newParent.first_name=t.user.first_name,this.newParent.last_name=t.user.last_name,this.newParent.email=t.user.email,this.newParent.phone=t.user.phone,this.newParent.country=t.user.country,this.newParent.city=t.user.city,this.newParent.state=t.user.state,this.newParent.zip=t.user.zip,this.newParent.address=t.user.address,this.newParent.status=t.user.status)},async updateParent(){if(this.validateForm())return;let e=this.$route.params.id;try{await ia.put("/updateParent/"+e,this.newParent),this.$router.push({name:"list-parent"}),this.snackbarMsg("Parent Updated Successfuly")}catch(t){console.log(t)}},async getStudents(){try{let e="/getAllStudents";"organization_admin"==this.user.role&&(e="/getAllStudents/"+this.user.id);const t=await ia.get(e);this.allStudents=t.data}catch(e){console.log(e)}}}};a("5c0e");const gL=Te()(hL,[["render",jL],["__scopeId","data-v-3891d42f"]]);var fL=gL;const VL={class:"container-fluid py-4"},EL={class:"row"},xL={class:"col-12"},NL={class:"card my-4"},vL=Object(l["createElementVNode"])("div",{class:"d-flex justify-content-between  border-radius-lg pt-4 pb-3"},[Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Childrens")],-1),yL={class:"card-body px-0 pb-2"},wL={class:"table-responsive p-0"},kL={class:"table align-items-center mb-0"},AL=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Student ID "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Name "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Email "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," School "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Stage "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Transactions "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Ballance "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Status ")])],-1),SL={class:"align-middle text-center text-sm"},BL={class:"text-xs font-weight-bold mb-0"},CL={class:"text-xs font-weight-bold mb-0"},_L={class:"text-xs font-weight-bold mb-0"},DL={class:"align-middle text-center"},PL={class:"text-secondary text-xs font-weight-bold"},IL={class:"align-middle text-center"},TL={class:"text-secondary text-xs font-weight-bold"},zL={class:"align-middle text-center"},ML=["onClick"],FL={class:"align-middle text-center"},UL=Object(l["createElementVNode"])("i",{class:"fas fa-donate me-2"},null,-1),LL={class:"align-middle text-center text-sm"},qL={class:"badge badge-sm bg-gradient-success"};function RL(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",VL,[Object(l["createElementVNode"])("div",EL,[Object(l["createElementVNode"])("div",xL,[Object(l["createElementVNode"])("div",NL,[vL,Object(l["createElementVNode"])("div",yL,[Object(l["createElementVNode"])("div",wL,[Object(l["createElementVNode"])("table",kL,[AL,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allStudents,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",SL,[Object(l["createElementVNode"])("p",BL,Object(l["toDisplayString"])(e.student_id),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",CL,Object(l["toDisplayString"])(e.user.first_name)+" "+Object(l["toDisplayString"])(e.user.last_name),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",_L,Object(l["toDisplayString"])(e.user.email),1)]),Object(l["createElementVNode"])("td",DL,[Object(l["createElementVNode"])("span",PL,Object(l["toDisplayString"])(e.school.title),1)]),Object(l["createElementVNode"])("td",IL,[Object(l["createElementVNode"])("span",TL,Object(l["toDisplayString"])(e.stage),1)]),Object(l["createElementVNode"])("td",zL,[Object(l["createElementVNode"])("i",{onClick:t=>s.transactionHistoryNav(e.user.id),class:"hover-pointer material-icons-round opacity-10 fs-5"},"swap_horizontal_circle",8,ML)]),Object(l["createElementVNode"])("td",FL,[Object(l["createElementVNode"])("span",null,[Object(l["createVNode"])(n,{to:{name:"student-balance",params:{id:e.user.id}},title:"Wallet"},{default:Object(l["withCtx"])(()=>[UL]),_:2},1032,["to"])])]),Object(l["createElementVNode"])("td",LL,[Object(l["createElementVNode"])("span",qL,Object(l["toDisplayString"])(e.user.status),1)])]))),128))])])])])])])])])}var $L={name:"tables",mounted(){this.getUser(),this.getAllStudents()},data(){return{allStudents:"",schools:6,user:""}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},topUps(e){this.$router.push("/payment_account/"+e)},transactionHistoryNav(e){this.$router.push("/student-billing/"+e)},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async getAllStudents(){try{let e={user_id:this.user.id,role:this.user.role};const t=await ia.post("getAllStudents",e);this.allStudents=t.data}catch(e){console.log(e)}},async deleteStudent(e){try{await ia.delete("/deleteStudent/"+e),this.removeStudentFromList(e),this.snackbarMsg("Student Deleted")}catch(t){console.log(t)}},removeStudentFromList(e){const t=this.allStudents.findIndex(t=>t.id===e);this.allStudents.splice(t,1)}}};a("0947");const QL=Te()($L,[["render",RL]]);var JL=QL;const HL={class:"container-fluid py-4"},WL={class:"row"},ZL={class:"col-12"},YL={class:"card my-4"},KL={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-3"},GL=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Attributes",-1),XL=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4 border-radius-lg"}," Add Attribute ",-1),eq={class:"card-body px-0 pb-2"},tq={class:"table-responsive p-0"},aq={class:"table align-items-center mb-0"},lq=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"text-uppercase  text-center text-xxs font-weight-bolder"}," ID "),Object(l["createElementVNode"])("th",{class:"text-uppercase text-xxs font-weight-bolder"}," Name "),Object(l["createElementVNode"])("th",{class:"text-center text-uppercase text-xxs font-weight-bolder"}," Action ")])],-1),cq={class:"text-xs  text-center font-weight-bold mb-0"},oq={class:"text-xs font-weight-bold mb-0"},sq={class:"align-middle text-center"},nq=Object(l["createElementVNode"])("i",{class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"edit",-1),rq=["onClick"];function iq(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",HL,[Object(l["createElementVNode"])("div",WL,[Object(l["createElementVNode"])("div",ZL,[Object(l["createElementVNode"])("div",YL,[Object(l["createElementVNode"])("div",KL,[GL,s.userPermissions.create_attribute?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"add-attribute"}},{default:Object(l["withCtx"])(()=>[XL]),_:1})):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",eq,[Object(l["createElementVNode"])("div",tq,[Object(l["createElementVNode"])("table",aq,[lq,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allAttributes,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",cq,Object(l["toDisplayString"])(e.id),1)]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("p",oq,Object(l["toDisplayString"])(e.name),1)]),Object(l["createElementVNode"])("td",sq,[Object(l["createElementVNode"])("span",null,[s.userPermissions.edit_attribute?(Object(l["openBlock"])(),Object(l["createBlock"])(n,{key:0,to:{name:"edit-attribute",params:{id:e.id}}},{default:Object(l["withCtx"])(()=>[nq]),_:2},1032,["to"])):Object(l["createCommentVNode"])("",!0),s.userPermissions.delete_attribute?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",{key:1,onClick:t=>s.deleteAttribute(e.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"delete",8,rq)):Object(l["createCommentVNode"])("",!0)])])]))),128))])])])])])])])])}var dq={name:"tables",mounted(){this.setColor(),this.getUser(),this.getAllAttributes()},updated(){this.$permissions.redirectIfNotAllowed("view_attribute")},computed:{...Object(De["c"])(["getBrandingSetting"]),userPermissions(){return this.$permissions.userPermissions.value}},data(){return{allAttributes:"",schools:6,user:""}},methods:{setColor(){let e=this.getBrandingSetting.primary_color?this.getBrandingSetting.primary_color:"#573078";document.querySelector("thead").style.setProperty("--navheader-bg-color",e)},snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async getAllAttributes(){try{const e=await ia.get("/getAllAttributes");this.allAttributes=e.data}catch(e){console.log(e)}},async deleteAttribute(e){try{await ia.delete("/deleteAttribute/"+e),this.removeAttributeFromList(e),this.snackbarMsg("Attribute Deleted Successfully")}catch(t){console.log(t)}},removeAttributeFromList(e){const t=this.allAttributes.findIndex(t=>t.id===e);this.allAttributes.splice(t,1)}}};a("e33f");const mq=Te()(dq,[["render",iq]]);var bq=mq;Object(l["pushScopeId"])("data-v-bfa38f8e");const uq={class:"container-fluid py-4"},pq={class:"row"},Oq={class:"col-12"},jq={class:"card my-4"},hq={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-1"},gq=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Add Attribute",-1),fq=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4  border-radius-lg"}," Back ",-1),Vq={class:"card-body px-0 pb-2"},Eq={class:"table-responsive p-0"},xq={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},Nq={class:"bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},vq={class:"form-bg container p-4"},yq={class:"card card-plain"},wq={class:"card-body"},kq={role:"form"},Aq={class:"mb-1"},Sq=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Name",-1),Bq={key:0,class:"text-danger error-txt"},Cq={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},_q={class:""};function Dq(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",uq,[Object(l["createElementVNode"])("div",pq,[Object(l["createElementVNode"])("div",Oq,[Object(l["createElementVNode"])("div",jq,[Object(l["createElementVNode"])("div",hq,[gq,Object(l["createVNode"])(n,{to:{name:"list-attributes"}},{default:Object(l["withCtx"])(()=>[fq]),_:1})]),Object(l["createElementVNode"])("div",Vq,[Object(l["createElementVNode"])("div",Eq,[Object(l["createElementVNode"])("div",xq,[Object(l["createElementVNode"])("div",Nq,[Object(l["createElementVNode"])("div",vq,[Object(l["createElementVNode"])("div",yq,[Object(l["createElementVNode"])("div",wq,[Object(l["createElementVNode"])("form",kq,[Object(l["createElementVNode"])("div",Aq,[Sq,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newAttribute.name=e),type:"text",placeholder:"Name",name:"name"},null,512),[[l["vModelText"],o.newAttribute.name]]),""!==o.formValidation&&""!==o.formValidation["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",Bq,"Name is required")):Object(l["createCommentVNode"])("",!0)])])])])])]),Object(l["createElementVNode"])("div",Cq,[Object(l["createElementVNode"])("div",_q,[Object(l["createElementVNode"])("button",{onClick:t[1]||(t[1]=(...e)=>s.saveNewAttribute&&s.saveNewAttribute(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-5 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Save Attribute ")])])])])])])])])])}Object(l["popScopeId"])();var Pq={name:"",components:{},mounted(){this.getUser(),this.getAllOrganizations()},updated(){this.$permissions.redirectIfNotAllowed("create_attribute")},data(){return{availableCountries:["UK","USA","Canada"],user:"",isError:!1,formValidation:"",validationErrors:"",allOrganizations:"",newAttribute:{name:"",user_role:""},availableStatus:["active","pending","blocked"]}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("create_attribute");let e=!1,t="";t=Wc()(this.newAttribute);for(let a in this.newAttribute)""!==this.newAttribute[a]&&void 0!==this.newAttribute[a]||"user_role"===a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,e},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async saveNewAttribute(){if(!this.validateForm()){this.newAttribute.user_role=this.user.role;try{await ia.post("/createAttribute",this.newAttribute),this.isError=!1,this.$router.push({name:"list-attributes"}),this.snackbarMsg("Attribute Saved Successfuly")}catch(e){this.isError=!0,this.validationErrors=e.response.data.errors}}},async getAllOrganizations(){try{const e=await ia.get("/getAllOrganizations");this.allOrganizations=e.data}catch(e){console.log(e)}}}};a("94d7");const Iq=Te()(Pq,[["render",Dq],["__scopeId","data-v-bfa38f8e"]]);var Tq=Iq;Object(l["pushScopeId"])("data-v-5310274d");const zq={class:"container-fluid py-4"},Mq={class:"row"},Fq={class:"col-12"},Uq={class:"card my-4"},Lq={class:"d-flex justify-content-between  border-radius-lg pt-4 pb-1"},qq=Object(l["createElementVNode"])("h6",{class:"text-dark text-capitalize ps-3"},"Edit Attribute",-1),Rq=Object(l["createElementVNode"])("button",{style:{"font-size":"12px","background-color":"#573078"},class:"btn me-3 text-white fw-5 border-0 py-2 px-4  border-radius-lg"}," Back ",-1),$q={class:"card-body px-0 pb-2"},Qq={class:"table-responsive p-0"},Jq={class:"row py-1 d-flex justify-content-center bg-white form-data border-radius-lg"},Hq={class:"bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},Wq={class:"form-bg container p-4"},Zq={class:"card card-plain"},Yq={class:"card-body"},Kq={role:"form"},Gq={class:"mb-1"},Xq=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Name",-1),eR={key:0,class:"text-danger error-txt"},tR={class:"d-flex justify-content-center bg-white box-shadow-dark border-radius-lg col-xl-10 col-lg-10 col-md-10"},aR={class:""};function lR(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",zq,[Object(l["createElementVNode"])("div",Mq,[Object(l["createElementVNode"])("div",Fq,[Object(l["createElementVNode"])("div",Uq,[Object(l["createElementVNode"])("div",Lq,[qq,Object(l["createVNode"])(n,{to:{name:"list-attributes"}},{default:Object(l["withCtx"])(()=>[Rq]),_:1})]),Object(l["createElementVNode"])("div",$q,[Object(l["createElementVNode"])("div",Qq,[Object(l["createElementVNode"])("div",Jq,[Object(l["createElementVNode"])("div",Hq,[Object(l["createElementVNode"])("div",Wq,[Object(l["createElementVNode"])("div",Zq,[Object(l["createElementVNode"])("div",Yq,[Object(l["createElementVNode"])("form",Kq,[Object(l["createElementVNode"])("div",Gq,[Xq,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"input-box",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>o.newAttribute.name=e),type:"text",placeholder:"Name",name:"name"},null,512),[[l["vModelText"],o.newAttribute.name]]),""!==o.formValidation&&""!==o.formValidation["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",eR,"Name is required")):Object(l["createCommentVNode"])("",!0)])])])])])]),Object(l["createElementVNode"])("div",tR,[Object(l["createElementVNode"])("div",aR,[Object(l["createElementVNode"])("button",{onClick:t[1]||(t[1]=(...e)=>s.updateNewAttribute&&s.updateNewAttribute(...e)),style:{"font-size":"12px","background-color":"#573078"},class:"btn mt-3 ms-5 text-white fw-5 border-0 py-2 px-5  border-radius-lg"}," Save Attribute ")])])])])])])])])])}Object(l["popScopeId"])();var cR={name:"",components:{},mounted(){this.editAttribute(),this.getUser(),this.getAllOrganizations()},updated(){this.$permissions.redirectIfNotAllowed("edit_attribute")},data(){return{availableCountries:["UK","USA","Canada"],user:"",isError:!1,formValidation:"",validationErrors:"",allOrganizations:"",newAttribute:{name:"",user_role:""},availableStatus:["active","pending","blocked"]}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},validateForm(){this.$permissions.redirectIfNotAllowed("edit_attribute");let e=!1,t="";t=Wc()(this.newAttribute);for(let a in this.newAttribute)""!==this.newAttribute[a]&&void 0!==this.newAttribute[a]||"user_role"===a?t[a]="":(t[a]="is required",e=!0);return this.formValidation=t,e},getUser(){let e=localStorage.getItem("user");e=JSON.parse(e),this.user=e},async updateNewAttribute(){if(this.validateForm())return;this.newAttribute.user_role=this.user.role;let e=this.$route.params.id;try{await ia.put("/updateAttribute/"+e,this.newAttribute),this.isError=!1,this.$router.push({name:"list-attributes"}),this.snackbarMsg("Attribute Saved Successfuly")}catch(t){this.isError=!0,this.validationErrors=t.response.data.errors}},async editAttribute(){let e=this.$route.params.id;try{const t=await ia.get("/editAttribute/"+e);this.setData(t)}catch(t){console.log(t)}},setData(e){let t;e&&(t=e.data,this.newAttribute.organization_id=t.organization_id,this.newAttribute.name=t.name)},async getAllOrganizations(){try{const e=await ia.get("/getAllOrganizations");this.allOrganizations=e.data}catch(e){console.log(e)}}}};a("8a36");const oR=Te()(cR,[["render",lR],["__scopeId","data-v-5310274d"]]);var sR=oR;const nR={class:"card"},rR={class:"card-body pt-4 p-3"},iR={class:"list-group"},dR={style:{"background-color":"#F0F2F5 !important"},class:"list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"},mR={class:"info-width d-flex flex-column"},bR={class:"row"},uR={class:"col-md-8 col-sm-8"},pR={class:"row"},OR={class:"col-md-10 col-sm-10"},jR={role:"form"},hR={class:"mb-1"},gR=Object(l["createElementVNode"])("label",{class:"input-label",for:"name"},"Role Name",-1),fR={class:"col-md-2 col-sm-2"},VR=Object(l["createElementVNode"])("h6",{class:"mb-3 text-sm text-dark"}," Roles List ",-1),ER=["onClick"],xR={class:"text-sm fw-5"},NR={key:0,class:"text-dark ms-2 font-weight-bold"},vR=["onClick"],yR=["onClick"],wR={class:"col-md-4 col-sm-4"},kR=Object(l["createElementVNode"])("h6",{class:"mt-3 text-sm text-dark"}," ROLE PERMISSIONS ",-1),AR=Object(l["createElementVNode"])("small",{class:"text-xs"},"This Role has following permissions",-1),SR={class:"permissions-container mt-3"},BR={key:0,class:"permission-info d-flex justify-content-between align-items-center text-dark font-weight-bold text-xs"},CR={class:"switch-container mt-2 me-5"},_R=["onChange","checked","id"],DR=["for"],PR={class:"permissions text-uppercase"};function IR(e,t,a,c,o,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",nR,[Object(l["createElementVNode"])("div",rR,[Object(l["createElementVNode"])("div",iR,[Object(l["createElementVNode"])("div",dR,[Object(l["createElementVNode"])("div",mR,[Object(l["createElementVNode"])("div",bR,[Object(l["createElementVNode"])("div",uR,[Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div",pR,[Object(l["createElementVNode"])("div",OR,[Object(l["createElementVNode"])("form",jR,[Object(l["createElementVNode"])("div",hR,[gR,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.roleName=e),class:"input-box",id:"name",type:"text",placeholder:"Role Name",name:"name"},null,512),[[l["vModelText"],o.roleName]])])])]),Object(l["createElementVNode"])("div",fR,[null!=o.isEdit&&""!=o.roleName?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,onClick:t[1]||(t[1]=(...e)=>s.updateRole&&s.updateRole(...e)),style:{"font-size":"10px","margin-top":"32px","background-color":"#573078"},class:"btn ms-1 text-white fw-5 border-0 py-2 px-2 border-radius-lg"}," Update ")):Object(l["createCommentVNode"])("",!0),""==o.roleName||null==o.isEdit?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:1,onClick:t[2]||(t[2]=(...e)=>s.createRole&&s.createRole(...e)),style:{"font-size":"10px","margin-top":"32px","background-color":"#573078"},class:"btn ms-1 text-white fw-5 border-0 py-2 px-2 border-radius-lg"}," Save Role ")):Object(l["createCommentVNode"])("",!0)])]),VR,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allRoles,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",{key:t,class:Object(l["normalizeClass"])([{"selected-role":o.isSelected===e.id},"mb-1 roles-list d-flex justify-content-between align-items-center text-dark font-weight-bold text-xs"]),onClick:t=>(s.toggleSelection(e.id,t),s.getPermissionsOfRole(e.id))},[Object(l["createElementVNode"])("span",xR,Object(l["toDisplayString"])(e.name),1),"Admin"!=e.name&&"Associate Admin"!=e.name&&"Staff"!=e.name?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",NR,[Object(l["createElementVNode"])("i",{onClick:t=>s.editRole(e.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"edit",8,vR),Object(l["createElementVNode"])("i",{onClick:t=>s.deleteRole(e.id),class:"material-icons-round opacity-10 fs-5 cursor-pointer"},"delete",8,yR)])):Object(l["createCommentVNode"])("",!0)],10,ER))),128))])]),Object(l["createElementVNode"])("div",wR,[kR,AR,Object(l["createElementVNode"])("div",SR,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.allPermissions,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:t},[s.checkIfAdmin(e)?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",BR,[Object(l["createElementVNode"])("div",CR,[Object(l["createElementVNode"])("input",{type:"checkbox",onChange:t=>s.givePermission(e.name),checked:s.checkIfPermission(e.id),id:e.id,class:"switch-input"},null,40,_R),Object(l["createElementVNode"])("label",{for:e.id,class:"switch-label"},null,8,DR)]),Object(l["createElementVNode"])("span",PR,Object(l["toDisplayString"])(e.name),1)])):Object(l["createCommentVNode"])("",!0)],64))),128))])])])])])])])])}var TR={name:"billing-card",mounted(){this.getAllRoles(),this.getAllPermissions(),this.getUserPermissions()},updated(){this.$permissions.redirectIfNotAllowed("roles")},data(){return{permissionsOfRole:"",isSelected:"",isEdit:null,roleName:"",allRoles:[],allPermissions:"",userPermissions:[]}},watch:{allRoles(e,t){console.log(e,t),this.isSelected=e[0]?e[0].id:"",this.getPermissionsOfRole()}},computed:{checkPermissionsOfRole(){return this.permissionsOfRole}},methods:{snackbarMsg(e){this.$snackbar.add({type:"success",text:e,background:"white"})},toggleSelection(e,t){"i"!==t.target.tagName.toLowerCase()&&(this.isSelected=e)},checkIfAdmin(e){let t=!1,a=["create_admin","view_admin","edit_admin","delete_admin","roles"],l=["create_staff","delete_staff","view_staff","edit_staff"];return this.allRoles.filter(c=>{c.id==this.isSelected&&(t="Admin"==c.name||("Associate Admin"==c.name?!a.includes(e.name):!a.includes(e.name)&&!l.includes(e.name)))}),t},async getAllRoles(){try{const e=await ia.get("getAllRoles");this.allRoles=e.data}catch(e){console.log(e)}},async createRole(){let e={name:this.roleName};try{await ia.post("createRole",e),this.snackbarMsg("Role Created"),this.getAllRoles()}catch(t){console.log(t)}},async editRole(e){this.allRoles.filter(t=>{t.id==e&&(this.roleName=t.name,this.isEdit=e)})},async updateRole(){let e={name:this.roleName};try{await ia.put("updateRole/"+this.isEdit,e),this.snackbarMsg("Role Updated"),this.getAllRoles(),this.isEdit=null,this.roleName=""}catch(t){console.log(t)}},async deleteRole(e){try{await ia.delete("deleteRole/"+e),this.getAllRoles(),this.snackbarMsg("Role Deleted")}catch(t){console.log(t)}},async getAllPermissions(){try{const e=await ia.get("getAllPermissions");this.allPermissions=e.data}catch(e){console.log(e)}},async getPermissionsOfRole(e=null){null==e&&(e=this.isSelected);try{const t=await ia.get("getPermissionsOfaRole/"+e);this.permissionsOfRole=t.data;let a=Wc()(this.allPermissions);this.allPermissions=null,this.allPermissions=a}catch(t){console.log(t)}},async givePermission(e){let t={permission:e};try{await ia.post("givePermission/"+this.isSelected,t)}catch(a){console.log(a)}},async getUserPermissions(){let e=this.$route.params.id;try{const t=await ia.get("getUserPermissions/"+e);this.userPermissions=t.data}catch(t){console.log(t)}},checkIfPermission(e){return this.checkPermissionsOfRole.some(t=>t.id===e)},async updatePermission(e){let t={user_id:this.$route.params.id,permission_id:e};try{await ia.post("updateUserPermissions",t)}catch(a){console.log(a)}}}};a("a36e");const zR=Te()(TR,[["render",IR]]);var MR=zR;const FR={class:"main-content position-relative max-height-vh-100 h-100 overflow-x-hidden"};function UR(e,t,a,c,o,s){const n=Object(l["resolveComponent"])("router-view");return Object(l["openBlock"])(),Object(l["createElementBlock"])("main",FR,[Object(l["createVNode"])(n)])}var LR={name:"DefaultLayout",components:{},methods:{...Object(De["d"])(["toggleConfigurator","navbarMinimize"])},computed:{...Object(De["e"])(["isRTL","color","isAbsolute","isNavFixed","navbarFixed","absolute","showSidenav","showNavbar","showFooter","showConfig","hideConfigButton"])},beforeMount(){this.$store.state.isTransparent="bg-transparent";const e=document.getElementsByClassName("g-sidenav-show")[0];window.innerWidth>1200&&e.classList.add("g-sidenav-pinned")}};a("566d");const qR=Te()(LR,[["render",UR]]);var RR=qR;const $R=[{path:"/",name:"/",redirect:"/dashboard",meta:{requiresAuth:!0}},{path:"/dashboard",name:"Dashboard",component:Dl,meta:{title:"Dashboard",requiresAuth:!0}},{path:"/organizations",name:"organizations",component:RR,meta:{title:"Organizations",requiresAuth:!0},children:[{path:"/organizations",name:"list-organizations",component:yg},{path:"/add",name:"add-organizations",component:ff},{path:"/:id",name:"edit-organization",component:dV}]},{path:"/organizations-admins",name:"organizations-admins",component:RR,meta:{title:"Organizations Admins",requiresAuth:!0},children:[{path:"/organizations-admins",name:"list-organization-admins",component:ZC},{path:"/add-organizations-admins",name:"add-organization-admins",component:Z_},{path:"/edit-organizations-admin/:id",name:"edit-organization-admin",component:eP}]},{path:"/schools",name:"schools",component:RR,meta:{title:"Schools",requiresAuth:!0},children:[{path:"/schools",name:"list-schools",component:Qn},{path:"/add",name:"add-school",component:Xi},{path:"/edit-schools/:id",name:"edit-school",component:um},{path:"/archived/schools",name:"archived-schools",component:zr},{path:"/settings/:id",name:"settings-school",component:_m}]},{path:"/students",name:"students",component:RR,meta:{title:"Students",requiresAuth:!0},children:[{path:"/students",name:"list-students",component:su},{path:"/add/student",name:"add-student",component:uO},{path:"/:id",name:"edit-student",component:Tj},{path:"/archived/students",name:"archived-students",component:Xu},{path:"/student-billing/:id",name:"student-billing",component:dh}]},{path:"/balance/:id?",name:"balance",component:Wh},{path:"/attributes",name:"attributes",component:RR,meta:{title:"Student Attributes",requiresAuth:!0},children:[{path:"/attributes",name:"list-attributes",component:bq},{path:"/attributes/add",name:"add-attribute",component:Tq},{path:"/attributes/edit/:id",name:"edit-attribute",component:sR}]},{path:"/staff",name:"staff",component:RR,meta:{title:"Staff",requiresAuth:!0},children:[{path:"/staff",name:"list-staff",component:QP},{path:"/staff/add",name:"add-staff",component:zT},{path:"/staff/edit/:id",name:"edit-staff",component:Yz},{path:"/archived/staff",name:"archived-staff",component:II},{path:"/staff/details/:id",name:"detail-staff",component:OM}]},{path:"/parent",name:"parent",component:RR,meta:{title:"Parent",requiresAuth:!0},children:[{path:"/parents",name:"list-parent",component:FM},{path:"/parents/add",name:"add-parent",component:tU},{path:"/parents/edit/:id",name:"edit-parent",component:fL}]},{path:"/payment",name:"payment",component:RR,meta:{title:"Payment Account",requiresAuth:!0},children:[{path:"/payment_method/:id?",name:"payment_method",component:vB},{path:"/payment_account/:id?",name:"payment_account",component:nB},{path:"/add_card",name:"add_card",component:DB}]},{path:"/transactions-history",name:"transactions",component:RR,meta:{title:"Transactions",requiresAuth:!0},children:[{path:"/transaction-history",name:"transaction-history",component:dw}]},{path:"/shop-items",name:"shop",component:RR,meta:{title:"Shop",requiresAuth:!0},children:[{path:"/shop-items",name:"shop-items",component:Ww},{path:"/add-shop-items",name:"add-items",component:Dk},{path:"/edit-shop-items/:id",name:"edit-shop-items",component:gA}]},{path:"/checkout",name:"checkout",component:RR,meta:{title:"Checkout",requiresAuth:!0},children:[{path:"/cart-checkout",name:"cart-checkout",component:dS}]},{path:"/trips",name:"trips",component:RR,meta:{title:"Trips",requiresAuth:!0},children:[{path:"/trips",name:"list-trips",component:sE},{path:"/add-trips",name:"add-trips",component:av},{path:"/edit-trips/:id",name:"edit-trips",component:sy},{path:"/participants-trips/:id",name:"participants-trips",component:Cy}]},{path:"/roles",name:"roles",component:RR,meta:{title:"Roles",requiresAuth:!0},children:[{path:"/roles",name:"list-roles",component:MR}]},{path:"/courses",name:"courses",component:RR,meta:{title:"Courses",requiresAuth:!0},children:[{path:"/courses",name:"list-courses",component:EC}]},{path:"/meals",name:"meals",component:RR,meta:{title:"Meals",requiresAuth:!0},children:[{path:"/meals",name:"list-meals",component:xS},{path:"/add-menu",name:"add-menu",component:SS}]},{path:"/childrens",name:"childrens",component:RR,meta:{title:"Childrens",requiresAuth:!0},children:[{path:"/childrens",name:"list-childrens",component:JL}]},{path:"/payments",name:"payments",component:RR,meta:{title:"Payments",requiresAuth:!0},children:[{path:"/active-payments",name:"list-active-payments",component:""},{path:"/historical-payments",name:"list-historical-payments",component:""}]},{path:"/profile",name:"Profile",component:Kc,meta:{requiresAuth:!0}},{path:"/sign-in",name:"SignIn",component:Io},{path:"/forgot-password",name:"ForgotPassword",component:Xo},{path:"/reset-password/:email/:otp",name:"ResetPassword",component:Vs},{path:"/sign-up",name:"SignUp",component:dn}],QR=Object($a["a"])({history:Object($a["b"])("/"),routes:$R,linkActiveClass:"active"});QR.beforeEach((e,t,a)=>{document.title=e.meta.title||"StudentPay",e.meta.requiresAuth&&!localStorage.getItem("token")?a({name:"SignIn"}):!localStorage.getItem("token")||"SignIn"!==e.name&&"Register"!==e.name?a():a({name:"Dashboard"})});var JR=QR,HR=(a("6a5d"),a("46d4"),a("5aea"),a("b945"),a("9e17"),{install(){}}),WR=a("fe63");a("6340"),a("f38d");const ZR={install(e){const t=Object(l["ref"])({create:!1,edit:!1,delete:!1,view:!1,create_admin:!1,delete_admin:!1,view_admin:!1,edit_admin:!1,create_school:!1,delete_school:!1,view_school:!1,edit_school:!1,create_student:!1,delete_student:!1,view_student:!1,edit_student:!1,create_staff:!1,delete_staff:!1,view_staff:!1,edit_staff:!1,edit_trip:!1,view_trip:!1,delete_trip:!1,create_trip:!1,create_attribute:!1,delete_attribute:!1,view_attribute:!1,edit_attribute:!1,create_shop:!1,delete_shop:!1,view_shop:!1,edit_shop:!1,support:!1,transaction_history:!1,roles:!1,topup:!1,wallet:!1}),a=e=>{const a=JSON.parse(localStorage.getItem("user"));a&&"super_admin"===a.role?Object.keys(t.value).forEach(e=>{t.value[e]=!0}):Object.keys(t.value).forEach(a=>{t.value[a]=e.includes(a)})},c=a=>{const l=e.config.globalProperties.$router;t.value[a]||l.go(-1)};e.config.globalProperties.$permissions={userPermissions:t,checkIfPermission:a,redirectIfNotAllowed:c},e.provide("permissions",e.config.globalProperties.$permissions),Object(l["watch"])(()=>e.config.globalProperties.$store.getters.getPermissions,(t,a)=>{console.log(a),e.config.globalProperties.$permissions.checkIfPermission(t)})}};var YR=ZR,KR=a("c370"),GR=a.n(KR);const XR=Object(l["createApp"])(Va);XR.config.globalProperties.$msalInstance={},XR.config.globalProperties.$emitter=new xa.a,XR.use(Ra),XR.use(WR["a"]),XR.component("vue3-snackbar",WR["b"]),XR.use(JR,XR),XR.use(HR),XR.use(XN.a),XR.use(YR),XR.use(GR.a),XR.mount("#app")},5730:function(e,t,a){"use strict";a("08da")},"58ef":function(e,t,a){"use strict";a("ca41")},5980:function(e,t,a){},"5aea":function(e,t,a){},"5c0e":function(e,t,a){"use strict";a("254a")},"5e72":function(e,t,a){"use strict";a("1ca5")},"5ffb":function(e,t,a){},6099:function(e,t,a){"use strict";a("bd07")},6150:function(e,t,a){e.exports=a.p+"img/ivana-square.a1900888.jpg"},"68d6":function(e,t,a){},"693b":function(e,t,a){"use strict";a("e760")},"6a07":function(e,t,a){e.exports=a.p+"img/background.19e62050.jpg"},"6a5d":function(e,t,a){},"6df5":function(e,t,a){"use strict";a("c61d")},"6e97":function(e,t,a){"use strict";a("99c9")},"708c":function(e,t,a){"use strict";a("9485")},7174:function(e,t,a){},"744d":function(e,t,a){"use strict";a("3def")},7862:function(e,t,a){},"7ab2":function(e,t,a){},"7b9a":function(e,t,a){e.exports=a.p+"img/StudentPay-logo.627241f4.png"},"806c":function(e,t,a){"use strict";a("aee6")},8202:function(e,t,a){e.exports=a.p+"img/team-2.90c40d0c.jpg"},"835c":function(e,t,a){},"8a36":function(e,t,a){"use strict";a("539e")},"8e8d":function(e,t,a){},"8f5a":function(e,t,a){},"8fcb":function(e,t,a){},"90b4":function(e,t,a){"use strict";a("e50a")},"90fd":function(e,t,a){"use strict";a("8e8d")},9485:function(e,t,a){},"94d7":function(e,t,a){"use strict";a("a145")},"99c9":function(e,t,a){},"9d7d":function(e,t,a){},"9e17":function(e,t,a){},a145:function(e,t,a){},a36e:function(e,t,a){"use strict";a("1472")},a432:function(e,t,a){},a664:function(e,t,a){"use strict";a("7862")},a9f0:function(e,t,a){},aa12:function(e,t,a){"use strict";a("7174")},aa39:function(e,t,a){"use strict";a("4701")},aa68:function(e,t,a){e.exports=a.p+"img/visa.98edc46d.png"},ab27:function(e,t,a){"use strict";a("68d6")},abf8:function(e,t,a){},aee6:function(e,t,a){},af17:function(e,t,a){e.exports=a.p+"img/marie.a60473a0.jpg"},b071:function(e,t,a){"use strict";a("05f9")},b0e7:function(e,t,a){"use strict";a("e3f4")},b107:function(e,t,a){e.exports=a.p+"img/logo-slack.07d7b8e1.svg"},b319:function(e,t,a){"use strict";a("a9f0")},b34a:function(e,t,a){e.exports=a.p+"img/home-decor-1.decbdadf.jpg"},b8de:function(e,t,a){e.exports=a.p+"img/logo-xd.46bbd281.svg"},b945:function(e,t){window.onload=function(){for(var e=document.querySelectorAll(".btn"),t=0;t<e.length;t++)e[t].addEventListener("click",(function(e){var t=e.target,a=t.querySelector(".ripple");a=document.createElement("span"),a.classList.add("ripple"),a.style.width=a.style.height=Math.max(t.offsetWidth,t.offsetHeight)+"px",t.appendChild(a),a.style.left=e.offsetX-a.offsetWidth/2+"px",a.style.top=e.offsetY-a.offsetHeight/2+"px",a.classList.add("ripple"),setTimeout((function(){a.parentElement.removeChild(a)}),600)}),!1)}},bbe0:function(e,t,a){e.exports=a.p+"img/dashboard2.3de49aaf.jpg"},bd07:function(e,t,a){},bdd3:function(e,t,a){},be72:function(e,t,a){"use strict";a("ff25")},c0f4:function(e,t,a){"use strict";a("367f")},c0fc:function(e,t,a){},c370:function(e,t){},c50b:function(e,t,a){},c61d:function(e,t,a){},c7a0:function(e,t,a){"use strict";a("e82b")},c7c0:function(e,t,a){e.exports=a.p+"img/team-3.a539dfc6.jpg"},ca41:function(e,t,a){},d15c:function(e,t,a){e.exports=a.p+"img/trip.85ea72dc.jpg"},d2a9:function(e,t,a){},d3a1:function(e,t,a){},d5cf:function(e,t,a){},d70b:function(e,t,a){"use strict";a("c50b")},db7b:function(e,t,a){"use strict";a("d5cf")},dd92:function(e,t,a){"use strict";a("8f5a")},e33f:function(e,t,a){"use strict";a("d3a1")},e3f4:function(e,t,a){},e50a:function(e,t,a){},e760:function(e,t,a){},e82b:function(e,t,a){},e978:function(e,t,a){},ed52:function(e,t,a){"use strict";a("bdd3")},f2b6:function(e,t,a){"use strict";a("9d7d")},f35e:function(e,t,a){e.exports=a.p+"img/team-4.16a9baef.jpg"},f47a:function(e,t,a){"use strict";a("8fcb")},f988:function(e,t,a){"use strict";a("5980")},fa1f:function(e,t,a){"use strict";a("3666")},ff25:function(e,t,a){}});
//# sourceMappingURL=app.16d4b752.js.map